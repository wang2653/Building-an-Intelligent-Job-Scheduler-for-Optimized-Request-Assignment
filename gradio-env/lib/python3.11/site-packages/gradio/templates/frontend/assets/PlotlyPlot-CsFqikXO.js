import{f as Bi,g as Gp}from"./index-zwPOQhW2.js";import"./svelte/svelte.js";function $c(xs){throw new Error('Could not dynamically require "'+xs+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ph={exports:{}};(function(xs,ds){(function(y){xs.exports=y()})(function(){return function y(ee,te,g){function m(e,n){if(!te[e]){if(!ee[e]){var r=typeof $c=="function"&&$c;if(!n&&r)return r(e,!0);if(b)return b(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var t=te[e]={exports:{}};ee[e][0].call(t.exports,function(d){return m(ee[e][1][d]||d)},t,t.exports,y,ee,te,g)}return te[e].exports}for(var b=typeof $c=="function"&&$c,v=0;v<g.length;v++)m(g[v]);return m}({1:[function(y,ee,te){var g=y("../src/lib"),m={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:#fff;","X .select-outline-2":"stroke:#000;stroke-dasharray:2px 2px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var b in m){var v=b.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(v,m[b])}},{"../src/lib":503}],2:[function(y,ee,te){ee.exports=y("../src/transforms/aggregate")},{"../src/transforms/aggregate":1114}],3:[function(y,ee,te){ee.exports=y("../src/traces/bar")},{"../src/traces/bar":656}],4:[function(y,ee,te){ee.exports=y("../src/traces/barpolar")},{"../src/traces/barpolar":669}],5:[function(y,ee,te){ee.exports=y("../src/traces/box")},{"../src/traces/box":679}],6:[function(y,ee,te){ee.exports=y("../src/components/calendars")},{"../src/components/calendars":364}],7:[function(y,ee,te){ee.exports=y("../src/traces/candlestick")},{"../src/traces/candlestick":688}],8:[function(y,ee,te){ee.exports=y("../src/traces/carpet")},{"../src/traces/carpet":707}],9:[function(y,ee,te){ee.exports=y("../src/traces/choropleth")},{"../src/traces/choropleth":721}],10:[function(y,ee,te){ee.exports=y("../src/traces/choroplethmapbox")},{"../src/traces/choroplethmapbox":728}],11:[function(y,ee,te){ee.exports=y("../src/traces/cone")},{"../src/traces/cone":734}],12:[function(y,ee,te){ee.exports=y("../src/traces/contour")},{"../src/traces/contour":749}],13:[function(y,ee,te){ee.exports=y("../src/traces/contourcarpet")},{"../src/traces/contourcarpet":760}],14:[function(y,ee,te){ee.exports=y("../src/core")},{"../src/core":481}],15:[function(y,ee,te){ee.exports=y("../src/traces/densitymapbox")},{"../src/traces/densitymapbox":768}],16:[function(y,ee,te){ee.exports=y("../src/transforms/filter")},{"../src/transforms/filter":1115}],17:[function(y,ee,te){ee.exports=y("../src/traces/funnel")},{"../src/traces/funnel":778}],18:[function(y,ee,te){ee.exports=y("../src/traces/funnelarea")},{"../src/traces/funnelarea":787}],19:[function(y,ee,te){ee.exports=y("../src/transforms/groupby")},{"../src/transforms/groupby":1116}],20:[function(y,ee,te){ee.exports=y("../src/traces/heatmap")},{"../src/traces/heatmap":800}],21:[function(y,ee,te){ee.exports=y("../src/traces/heatmapgl")},{"../src/traces/heatmapgl":811}],22:[function(y,ee,te){ee.exports=y("../src/traces/histogram")},{"../src/traces/histogram":823}],23:[function(y,ee,te){ee.exports=y("../src/traces/histogram2d")},{"../src/traces/histogram2d":829}],24:[function(y,ee,te){ee.exports=y("../src/traces/histogram2dcontour")},{"../src/traces/histogram2dcontour":833}],25:[function(y,ee,te){ee.exports=y("../src/traces/icicle")},{"../src/traces/icicle":839}],26:[function(y,ee,te){ee.exports=y("../src/traces/image")},{"../src/traces/image":852}],27:[function(y,ee,te){var g=y("./core");g.register([y("./bar"),y("./box"),y("./heatmap"),y("./histogram"),y("./histogram2d"),y("./histogram2dcontour"),y("./contour"),y("./scatterternary"),y("./violin"),y("./funnel"),y("./waterfall"),y("./image"),y("./pie"),y("./sunburst"),y("./treemap"),y("./icicle"),y("./funnelarea"),y("./scatter3d"),y("./surface"),y("./isosurface"),y("./volume"),y("./mesh3d"),y("./cone"),y("./streamtube"),y("./scattergeo"),y("./choropleth"),y("./scattergl"),y("./splom"),y("./pointcloud"),y("./heatmapgl"),y("./parcoords"),y("./parcats"),y("./scattermapbox"),y("./choroplethmapbox"),y("./densitymapbox"),y("./sankey"),y("./indicator"),y("./table"),y("./carpet"),y("./scattercarpet"),y("./contourcarpet"),y("./ohlc"),y("./candlestick"),y("./scatterpolar"),y("./scatterpolargl"),y("./barpolar"),y("./scattersmith"),y("./aggregate"),y("./filter"),y("./groupby"),y("./sort"),y("./calendars")]),ee.exports=g},{"./aggregate":2,"./bar":3,"./barpolar":4,"./box":5,"./calendars":6,"./candlestick":7,"./carpet":8,"./choropleth":9,"./choroplethmapbox":10,"./cone":11,"./contour":12,"./contourcarpet":13,"./core":14,"./densitymapbox":15,"./filter":16,"./funnel":17,"./funnelarea":18,"./groupby":19,"./heatmap":20,"./heatmapgl":21,"./histogram":22,"./histogram2d":23,"./histogram2dcontour":24,"./icicle":25,"./image":26,"./indicator":28,"./isosurface":29,"./mesh3d":30,"./ohlc":31,"./parcats":32,"./parcoords":33,"./pie":34,"./pointcloud":35,"./sankey":36,"./scatter3d":37,"./scattercarpet":38,"./scattergeo":39,"./scattergl":40,"./scattermapbox":41,"./scatterpolar":42,"./scatterpolargl":43,"./scattersmith":44,"./scatterternary":45,"./sort":46,"./splom":47,"./streamtube":48,"./sunburst":49,"./surface":50,"./table":51,"./treemap":52,"./violin":53,"./volume":54,"./waterfall":55}],28:[function(y,ee,te){ee.exports=y("../src/traces/indicator")},{"../src/traces/indicator":860}],29:[function(y,ee,te){ee.exports=y("../src/traces/isosurface")},{"../src/traces/isosurface":866}],30:[function(y,ee,te){ee.exports=y("../src/traces/mesh3d")},{"../src/traces/mesh3d":871}],31:[function(y,ee,te){ee.exports=y("../src/traces/ohlc")},{"../src/traces/ohlc":876}],32:[function(y,ee,te){ee.exports=y("../src/traces/parcats")},{"../src/traces/parcats":885}],33:[function(y,ee,te){ee.exports=y("../src/traces/parcoords")},{"../src/traces/parcoords":895}],34:[function(y,ee,te){ee.exports=y("../src/traces/pie")},{"../src/traces/pie":906}],35:[function(y,ee,te){ee.exports=y("../src/traces/pointcloud")},{"../src/traces/pointcloud":915}],36:[function(y,ee,te){ee.exports=y("../src/traces/sankey")},{"../src/traces/sankey":921}],37:[function(y,ee,te){ee.exports=y("../src/traces/scatter3d")},{"../src/traces/scatter3d":959}],38:[function(y,ee,te){ee.exports=y("../src/traces/scattercarpet")},{"../src/traces/scattercarpet":966}],39:[function(y,ee,te){ee.exports=y("../src/traces/scattergeo")},{"../src/traces/scattergeo":974}],40:[function(y,ee,te){ee.exports=y("../src/traces/scattergl")},{"../src/traces/scattergl":987}],41:[function(y,ee,te){ee.exports=y("../src/traces/scattermapbox")},{"../src/traces/scattermapbox":997}],42:[function(y,ee,te){ee.exports=y("../src/traces/scatterpolar")},{"../src/traces/scatterpolar":1005}],43:[function(y,ee,te){ee.exports=y("../src/traces/scatterpolargl")},{"../src/traces/scatterpolargl":1012}],44:[function(y,ee,te){ee.exports=y("../src/traces/scattersmith")},{"../src/traces/scattersmith":1019}],45:[function(y,ee,te){ee.exports=y("../src/traces/scatterternary")},{"../src/traces/scatterternary":1027}],46:[function(y,ee,te){ee.exports=y("../src/transforms/sort")},{"../src/transforms/sort":1118}],47:[function(y,ee,te){ee.exports=y("../src/traces/splom")},{"../src/traces/splom":1036}],48:[function(y,ee,te){ee.exports=y("../src/traces/streamtube")},{"../src/traces/streamtube":1044}],49:[function(y,ee,te){ee.exports=y("../src/traces/sunburst")},{"../src/traces/sunburst":1052}],50:[function(y,ee,te){ee.exports=y("../src/traces/surface")},{"../src/traces/surface":1061}],51:[function(y,ee,te){ee.exports=y("../src/traces/table")},{"../src/traces/table":1069}],52:[function(y,ee,te){ee.exports=y("../src/traces/treemap")},{"../src/traces/treemap":1080}],53:[function(y,ee,te){ee.exports=y("../src/traces/violin")},{"../src/traces/violin":1093}],54:[function(y,ee,te){ee.exports=y("../src/traces/volume")},{"../src/traces/volume":1101}],55:[function(y,ee,te){ee.exports=y("../src/traces/waterfall")},{"../src/traces/waterfall":1109}],56:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-array"),y("d3-collection"),y("d3-shape"),y("elementary-circuits-directed-graph")):m(g.d3=g.d3||{},g.d3,g.d3,g.d3,null)})(this,function(g,m,b,v,e){function n(re){return re.target.depth}function r(re,ne){return re.sourceLinks.length?re.depth:ne-1}function o(re){return function(){return re}}e=e&&e.hasOwnProperty("default")?e.default:e;var t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re};function d(re,ne){return i(re.source,ne.source)||re.index-ne.index}function c(re,ne){return i(re.target,ne.target)||re.index-ne.index}function i(re,ne){return re.partOfCycle===ne.partOfCycle?re.y0-ne.y0:re.circularLinkType==="top"||ne.circularLinkType==="bottom"?-1:1}function u(re){return re.value}function f(re){return(re.y0+re.y1)/2}function s(re){return f(re.source)}function h(re){return f(re.target)}function p(re){return re.index}function a(re){return re.nodes}function x(re){return re.links}function l(re,ne){var se=re.get(ne);if(!se)throw new Error("missing: "+ne);return se}function w(re,ne){return ne(re)}function _(re,ne,se){var oe=0;if(se===null){for(var pe=[],ce=0;ce<re.links.length;ce++){var de=re.links[ce],xe=de.source.index,we=de.target.index;pe[xe]||(pe[xe]=[]),pe[we]||(pe[we]=[]),pe[xe].indexOf(we)===-1&&pe[xe].push(we)}var be=e(pe);be.sort(function(me,Te){return me.length-Te.length});var Ee={};for(ce=0;ce<be.length;ce++){var fe=be[ce].slice(-2);Ee[fe[0]]||(Ee[fe[0]]={}),Ee[fe[0]][fe[1]]=!0}re.links.forEach(function(me){var Te=me.target.index,_e=me.source.index;Te===_e||Ee[_e]&&Ee[_e][Te]?(me.circular=!0,me.circularLinkID=oe,oe+=1):me.circular=!1})}else re.links.forEach(function(me){me.source[se]<me.target[se]?me.circular=!1:(me.circular=!0,me.circularLinkID=oe,oe+=1)})}function T(re,ne){var se=0,oe=0;re.links.forEach(function(pe){pe.circular&&(pe.source.circularLinkType||pe.target.circularLinkType?pe.circularLinkType=pe.source.circularLinkType?pe.source.circularLinkType:pe.target.circularLinkType:pe.circularLinkType=se<oe?"top":"bottom",pe.circularLinkType=="top"?se+=1:oe+=1,re.nodes.forEach(function(ce){w(ce,ne)!=w(pe.source,ne)&&w(ce,ne)!=w(pe.target,ne)||(ce.circularLinkType=pe.circularLinkType)}))}),re.links.forEach(function(pe){pe.circular&&(pe.source.circularLinkType==pe.target.circularLinkType&&(pe.circularLinkType=pe.source.circularLinkType),X(pe,ne)&&(pe.circularLinkType=pe.source.circularLinkType))})}function k(re){var ne=Math.abs(re.y1-re.y0),se=Math.abs(re.target.x0-re.source.x1);return Math.atan(se/ne)}function L(re,ne){var se=0;re.sourceLinks.forEach(function(pe){se=pe.circular&&!X(pe,ne)?se+1:se});var oe=0;return re.targetLinks.forEach(function(pe){oe=pe.circular&&!X(pe,ne)?oe+1:oe}),se+oe}function A(re){var ne=re.source.sourceLinks,se=0;ne.forEach(function(ce){se=ce.circular?se+1:se});var oe=re.target.targetLinks,pe=0;return oe.forEach(function(ce){pe=ce.circular?pe+1:pe}),!(se>1||pe>1)}function I(re,ne,se){return re.sort(S),re.forEach(function(oe,pe){var ce,de,xe=0;if(X(oe,se)&&A(oe))oe.circularPathData.verticalBuffer=xe+oe.width/2;else{for(var we=0;we<pe;we++)if(ce=re[pe],de=re[we],!(ce.source.column<de.target.column||ce.target.column>de.source.column)){var be=re[we].circularPathData.verticalBuffer+re[we].width/2+ne;xe=be>xe?be:xe}oe.circularPathData.verticalBuffer=xe+oe.width/2}}),re}function P(re,ne,se,oe){var pe=m.min(re.links,function(ce){return ce.source.y0});re.links.forEach(function(ce){ce.circular&&(ce.circularPathData={})}),I(re.links.filter(function(ce){return ce.circularLinkType=="top"}),ne,oe),I(re.links.filter(function(ce){return ce.circularLinkType=="bottom"}),ne,oe),re.links.forEach(function(ce){if(ce.circular){if(ce.circularPathData.arcRadius=ce.width+10,ce.circularPathData.leftNodeBuffer=5,ce.circularPathData.rightNodeBuffer=5,ce.circularPathData.sourceWidth=ce.source.x1-ce.source.x0,ce.circularPathData.sourceX=ce.source.x0+ce.circularPathData.sourceWidth,ce.circularPathData.targetX=ce.target.x0,ce.circularPathData.sourceY=ce.y0,ce.circularPathData.targetY=ce.y1,X(ce,oe)&&A(ce))ce.circularPathData.leftSmallArcRadius=10+ce.width/2,ce.circularPathData.leftLargeArcRadius=10+ce.width/2,ce.circularPathData.rightSmallArcRadius=10+ce.width/2,ce.circularPathData.rightLargeArcRadius=10+ce.width/2,ce.circularLinkType=="bottom"?(ce.circularPathData.verticalFullExtent=ce.source.y1+25+ce.circularPathData.verticalBuffer,ce.circularPathData.verticalLeftInnerExtent=ce.circularPathData.verticalFullExtent-ce.circularPathData.leftLargeArcRadius,ce.circularPathData.verticalRightInnerExtent=ce.circularPathData.verticalFullExtent-ce.circularPathData.rightLargeArcRadius):(ce.circularPathData.verticalFullExtent=ce.source.y0-25-ce.circularPathData.verticalBuffer,ce.circularPathData.verticalLeftInnerExtent=ce.circularPathData.verticalFullExtent+ce.circularPathData.leftLargeArcRadius,ce.circularPathData.verticalRightInnerExtent=ce.circularPathData.verticalFullExtent+ce.circularPathData.rightLargeArcRadius);else{var de=ce.source.column,xe=ce.circularLinkType,we=re.links.filter(function(fe){return fe.source.column==de&&fe.circularLinkType==xe});ce.circularLinkType=="bottom"?we.sort(D):we.sort(E);var be=0;we.forEach(function(fe,me){fe.circularLinkID==ce.circularLinkID&&(ce.circularPathData.leftSmallArcRadius=10+ce.width/2+be,ce.circularPathData.leftLargeArcRadius=10+ce.width/2+me*ne+be),be+=fe.width}),de=ce.target.column,we=re.links.filter(function(fe){return fe.target.column==de&&fe.circularLinkType==xe}),ce.circularLinkType=="bottom"?we.sort(H):we.sort(F),be=0,we.forEach(function(fe,me){fe.circularLinkID==ce.circularLinkID&&(ce.circularPathData.rightSmallArcRadius=10+ce.width/2+be,ce.circularPathData.rightLargeArcRadius=10+ce.width/2+me*ne+be),be+=fe.width}),ce.circularLinkType=="bottom"?(ce.circularPathData.verticalFullExtent=Math.max(se,ce.source.y1,ce.target.y1)+25+ce.circularPathData.verticalBuffer,ce.circularPathData.verticalLeftInnerExtent=ce.circularPathData.verticalFullExtent-ce.circularPathData.leftLargeArcRadius,ce.circularPathData.verticalRightInnerExtent=ce.circularPathData.verticalFullExtent-ce.circularPathData.rightLargeArcRadius):(ce.circularPathData.verticalFullExtent=pe-25-ce.circularPathData.verticalBuffer,ce.circularPathData.verticalLeftInnerExtent=ce.circularPathData.verticalFullExtent+ce.circularPathData.leftLargeArcRadius,ce.circularPathData.verticalRightInnerExtent=ce.circularPathData.verticalFullExtent+ce.circularPathData.rightLargeArcRadius)}ce.circularPathData.leftInnerExtent=ce.circularPathData.sourceX+ce.circularPathData.leftNodeBuffer,ce.circularPathData.rightInnerExtent=ce.circularPathData.targetX-ce.circularPathData.rightNodeBuffer,ce.circularPathData.leftFullExtent=ce.circularPathData.sourceX+ce.circularPathData.leftLargeArcRadius+ce.circularPathData.leftNodeBuffer,ce.circularPathData.rightFullExtent=ce.circularPathData.targetX-ce.circularPathData.rightLargeArcRadius-ce.circularPathData.rightNodeBuffer}if(ce.circular)ce.path=function(fe){var me="";return me=fe.circularLinkType=="top"?"M"+fe.circularPathData.sourceX+" "+fe.circularPathData.sourceY+" L"+fe.circularPathData.leftInnerExtent+" "+fe.circularPathData.sourceY+" A"+fe.circularPathData.leftLargeArcRadius+" "+fe.circularPathData.leftSmallArcRadius+" 0 0 0 "+fe.circularPathData.leftFullExtent+" "+(fe.circularPathData.sourceY-fe.circularPathData.leftSmallArcRadius)+" L"+fe.circularPathData.leftFullExtent+" "+fe.circularPathData.verticalLeftInnerExtent+" A"+fe.circularPathData.leftLargeArcRadius+" "+fe.circularPathData.leftLargeArcRadius+" 0 0 0 "+fe.circularPathData.leftInnerExtent+" "+fe.circularPathData.verticalFullExtent+" L"+fe.circularPathData.rightInnerExtent+" "+fe.circularPathData.verticalFullExtent+" A"+fe.circularPathData.rightLargeArcRadius+" "+fe.circularPathData.rightLargeArcRadius+" 0 0 0 "+fe.circularPathData.rightFullExtent+" "+fe.circularPathData.verticalRightInnerExtent+" L"+fe.circularPathData.rightFullExtent+" "+(fe.circularPathData.targetY-fe.circularPathData.rightSmallArcRadius)+" A"+fe.circularPathData.rightLargeArcRadius+" "+fe.circularPathData.rightSmallArcRadius+" 0 0 0 "+fe.circularPathData.rightInnerExtent+" "+fe.circularPathData.targetY+" L"+fe.circularPathData.targetX+" "+fe.circularPathData.targetY:"M"+fe.circularPathData.sourceX+" "+fe.circularPathData.sourceY+" L"+fe.circularPathData.leftInnerExtent+" "+fe.circularPathData.sourceY+" A"+fe.circularPathData.leftLargeArcRadius+" "+fe.circularPathData.leftSmallArcRadius+" 0 0 1 "+fe.circularPathData.leftFullExtent+" "+(fe.circularPathData.sourceY+fe.circularPathData.leftSmallArcRadius)+" L"+fe.circularPathData.leftFullExtent+" "+fe.circularPathData.verticalLeftInnerExtent+" A"+fe.circularPathData.leftLargeArcRadius+" "+fe.circularPathData.leftLargeArcRadius+" 0 0 1 "+fe.circularPathData.leftInnerExtent+" "+fe.circularPathData.verticalFullExtent+" L"+fe.circularPathData.rightInnerExtent+" "+fe.circularPathData.verticalFullExtent+" A"+fe.circularPathData.rightLargeArcRadius+" "+fe.circularPathData.rightLargeArcRadius+" 0 0 1 "+fe.circularPathData.rightFullExtent+" "+fe.circularPathData.verticalRightInnerExtent+" L"+fe.circularPathData.rightFullExtent+" "+(fe.circularPathData.targetY+fe.circularPathData.rightSmallArcRadius)+" A"+fe.circularPathData.rightLargeArcRadius+" "+fe.circularPathData.rightSmallArcRadius+" 0 0 1 "+fe.circularPathData.rightInnerExtent+" "+fe.circularPathData.targetY+" L"+fe.circularPathData.targetX+" "+fe.circularPathData.targetY,me}(ce);else{var Ee=v.linkHorizontal().source(function(fe){return[fe.source.x0+(fe.source.x1-fe.source.x0),fe.y0]}).target(function(fe){return[fe.target.x0,fe.y1]});ce.path=Ee(ce)}})}function S(re,ne){return V(re)==V(ne)?re.circularLinkType=="bottom"?D(re,ne):E(re,ne):V(ne)-V(re)}function E(re,ne){return re.y0-ne.y0}function D(re,ne){return ne.y0-re.y0}function F(re,ne){return re.y1-ne.y1}function H(re,ne){return ne.y1-re.y1}function V(re){return re.target.column-re.source.column}function Z(re){return re.target.x0-re.source.x1}function K(re,ne){var se=k(re),oe=Z(ne)/Math.tan(se);return j(re)=="up"?re.y1+oe:re.y1-oe}function q(re,ne){var se=k(re),oe=Z(ne)/Math.tan(se);return j(re)=="up"?re.y1-oe:re.y1+oe}function W(re,ne,se,oe){re.links.forEach(function(pe){if(!pe.circular&&pe.target.column-pe.source.column>1){var ce=pe.source.column+1,de=pe.target.column-1,xe=1,we=de-ce+1;for(xe=1;ce<=de;ce++,xe++)re.nodes.forEach(function(be){if(be.column==ce){var Ee,fe=xe/(we+1),me=Math.pow(1-fe,3),Te=3*fe*Math.pow(1-fe,2),_e=3*Math.pow(fe,2)*(1-fe),Ae=Math.pow(fe,3),Pe=me*pe.y0+Te*pe.y0+_e*pe.y1+Ae*pe.y1,De=Pe-pe.width/2,Ve=Pe+pe.width/2;De>be.y0&&De<be.y1?(Ee=be.y1-De+10,Ee=be.circularLinkType=="bottom"?Ee:-Ee,be=R(be,Ee,ne,se),re.nodes.forEach(function(Qe){w(Qe,oe)!=w(be,oe)&&Qe.column==be.column&&$(be,Qe)&&R(Qe,Ee,ne,se)})):(Ve>be.y0&&Ve<be.y1||De<be.y0&&Ve>be.y1)&&(Ee=Ve-be.y0+10,be=R(be,Ee,ne,se),re.nodes.forEach(function(Qe){w(Qe,oe)!=w(be,oe)&&Qe.column==be.column&&Qe.y0<be.y1&&Qe.y1>be.y1&&R(Qe,Ee,ne,se)}))}})}})}function $(re,ne){return re.y0>ne.y0&&re.y0<ne.y1||re.y1>ne.y0&&re.y1<ne.y1||re.y0<ne.y0&&re.y1>ne.y1}function R(re,ne,se,oe){return re.y0+ne>=se&&re.y1+ne<=oe&&(re.y0=re.y0+ne,re.y1=re.y1+ne,re.targetLinks.forEach(function(pe){pe.y1=pe.y1+ne}),re.sourceLinks.forEach(function(pe){pe.y0=pe.y0+ne})),re}function N(re,ne,se,oe){re.nodes.forEach(function(pe){oe&&pe.y+(pe.y1-pe.y0)>ne&&(pe.y=pe.y-(pe.y+(pe.y1-pe.y0)-ne));var ce=re.links.filter(function(we){return w(we.source,se)==w(pe,se)}),de=ce.length;de>1&&ce.sort(function(we,be){if(!we.circular&&!be.circular){if(we.target.column==be.target.column||!Q(we,be))return we.y1-be.y1;if(we.target.column>be.target.column){var Ee=q(be,we);return we.y1-Ee}if(be.target.column>we.target.column)return q(we,be)-be.y1}return we.circular&&!be.circular?we.circularLinkType=="top"?-1:1:be.circular&&!we.circular?be.circularLinkType=="top"?1:-1:we.circular&&be.circular?we.circularLinkType===be.circularLinkType&&we.circularLinkType=="top"?we.target.column===be.target.column?we.target.y1-be.target.y1:be.target.column-we.target.column:we.circularLinkType===be.circularLinkType&&we.circularLinkType=="bottom"?we.target.column===be.target.column?be.target.y1-we.target.y1:we.target.column-be.target.column:we.circularLinkType=="top"?-1:1:void 0});var xe=pe.y0;ce.forEach(function(we){we.y0=xe+we.width/2,xe+=we.width}),ce.forEach(function(we,be){if(we.circularLinkType=="bottom"){for(var Ee=be+1,fe=0;Ee<de;Ee++)fe+=ce[Ee].width;we.y0=pe.y1-fe-we.width/2}})})}function U(re,ne,se){re.nodes.forEach(function(oe){var pe=re.links.filter(function(xe){return w(xe.target,se)==w(oe,se)}),ce=pe.length;ce>1&&pe.sort(function(xe,we){if(!xe.circular&&!we.circular){if(xe.source.column==we.source.column||!Q(xe,we))return xe.y0-we.y0;if(we.source.column<xe.source.column){var be=K(we,xe);return xe.y0-be}if(xe.source.column<we.source.column)return K(xe,we)-we.y0}return xe.circular&&!we.circular?xe.circularLinkType=="top"?-1:1:we.circular&&!xe.circular?we.circularLinkType=="top"?1:-1:xe.circular&&we.circular?xe.circularLinkType===we.circularLinkType&&xe.circularLinkType=="top"?xe.source.column===we.source.column?xe.source.y1-we.source.y1:xe.source.column-we.source.column:xe.circularLinkType===we.circularLinkType&&xe.circularLinkType=="bottom"?xe.source.column===we.source.column?xe.source.y1-we.source.y1:we.source.column-xe.source.column:xe.circularLinkType=="top"?-1:1:void 0});var de=oe.y0;pe.forEach(function(xe){xe.y1=de+xe.width/2,de+=xe.width}),pe.forEach(function(xe,we){if(xe.circularLinkType=="bottom"){for(var be=we+1,Ee=0;be<ce;be++)Ee+=pe[be].width;xe.y1=oe.y1-Ee-xe.width/2}})})}function Q(re,ne){return j(re)==j(ne)}function j(re){return re.y0-re.y1>0?"up":"down"}function X(re,ne){return w(re.source,ne)==w(re.target,ne)}function J(re,ne,se){var oe=re.nodes,pe=re.links,ce=!1,de=!1;if(pe.forEach(function(be){be.circularLinkType=="top"?ce=!0:be.circularLinkType=="bottom"&&(de=!0)}),ce==0||de==0){var xe=m.min(oe,function(be){return be.y0}),we=(se-ne)/(m.max(oe,function(be){return be.y1})-xe);oe.forEach(function(be){var Ee=(be.y1-be.y0)*we;be.y0=(be.y0-xe)*we,be.y1=be.y0+Ee}),pe.forEach(function(be){be.y0=(be.y0-xe)*we,be.y1=(be.y1-xe)*we,be.width=be.width*we})}}g.sankeyCircular=function(){var re,ne,se=0,oe=0,pe=1,ce=1,de=24,xe=p,we=r,be=a,Ee=x,fe=32,me=2,Te=null;function _e(){var Oe={nodes:be.apply(null,arguments),links:Ee.apply(null,arguments)};Ae(Oe),_(Oe,xe,Te),Pe(Oe),De(Oe),T(Oe,xe),Ve(Oe,fe,xe),Qe(Oe);for(var Ue=4,Ge=0;Ge<Ue;Ge++)N(Oe,ce,xe),U(Oe,ce,xe),W(Oe,oe,ce,xe),N(Oe,ce,xe),U(Oe,ce,xe);return J(Oe,oe,ce),P(Oe,me,ce,xe),Oe}function Ae(Oe){Oe.nodes.forEach(function(Ge,Ye){Ge.index=Ye,Ge.sourceLinks=[],Ge.targetLinks=[]});var Ue=b.map(Oe.nodes,xe);return Oe.links.forEach(function(Ge,Ye){Ge.index=Ye;var tt=Ge.source,lt=Ge.target;(tt===void 0?"undefined":t(tt))!=="object"&&(tt=Ge.source=l(Ue,tt)),(lt===void 0?"undefined":t(lt))!=="object"&&(lt=Ge.target=l(Ue,lt)),tt.sourceLinks.push(Ge),lt.targetLinks.push(Ge)}),Oe}function Pe(Oe){Oe.nodes.forEach(function(Ue){Ue.partOfCycle=!1,Ue.value=Math.max(m.sum(Ue.sourceLinks,u),m.sum(Ue.targetLinks,u)),Ue.sourceLinks.forEach(function(Ge){Ge.circular&&(Ue.partOfCycle=!0,Ue.circularLinkType=Ge.circularLinkType)}),Ue.targetLinks.forEach(function(Ge){Ge.circular&&(Ue.partOfCycle=!0,Ue.circularLinkType=Ge.circularLinkType)})})}function De(Oe){var Ue,Ge,Ye;for(Ue=Oe.nodes,Ge=[],Ye=0;Ue.length;++Ye,Ue=Ge,Ge=[])Ue.forEach(function(tt){tt.depth=Ye,tt.sourceLinks.forEach(function(lt){Ge.indexOf(lt.target)<0&&!lt.circular&&Ge.push(lt.target)})});for(Ue=Oe.nodes,Ge=[],Ye=0;Ue.length;++Ye,Ue=Ge,Ge=[])Ue.forEach(function(tt){tt.height=Ye,tt.targetLinks.forEach(function(lt){Ge.indexOf(lt.source)<0&&!lt.circular&&Ge.push(lt.source)})});Oe.nodes.forEach(function(tt){tt.column=Math.floor(we.call(null,tt,Ye))})}function Ve(Oe,Ue,Ge){var Ye=b.nest().key(function(St){return St.column}).sortKeys(m.ascending).entries(Oe.nodes).map(function(St){return St.values});(function(St){if(ne){var rt=1/0;Ye.forEach(function(Kt){var Be=ce*ne/(Kt.length+1);rt=Be<rt?Be:rt}),re=rt}var et=m.min(Ye,function(Kt){return(ce-oe-(Kt.length-1)*re)/m.sum(Kt,u)});et*=.3,Oe.links.forEach(function(Kt){Kt.width=Kt.value*et});var Tt=function(Kt){var Be=0,qe=0,Re=0,Xe=0,ke=m.max(Kt.nodes,function(Le){return Le.column});return Kt.links.forEach(function(Le){Le.circular&&(Le.circularLinkType=="top"?Be+=Le.width:qe+=Le.width,Le.target.column==0&&(Xe+=Le.width),Le.source.column==ke&&(Re+=Le.width))}),{top:Be=Be>0?Be+25+10:Be,bottom:qe=qe>0?qe+25+10:qe,left:Xe=Xe>0?Xe+25+10:Xe,right:Re=Re>0?Re+25+10:Re}}(Oe),Vt=function(Kt,Be){var qe=m.max(Kt.nodes,function(Ie){return Ie.column}),Re=pe-se,Xe=ce-oe,ke=Re/(Re+Be.right+Be.left),Le=Xe/(Xe+Be.top+Be.bottom);return se=se*ke+Be.left,pe=Be.right==0?pe:pe*ke,oe=oe*Le+Be.top,ce*=Le,Kt.nodes.forEach(function(Ie){Ie.x0=se+Ie.column*((pe-se-de)/qe),Ie.x1=Ie.x0+de}),Le}(Oe,Tt);et*=Vt,Oe.links.forEach(function(Kt){Kt.width=Kt.value*et}),Ye.forEach(function(Kt){var Be=Kt.length;Kt.forEach(function(qe,Re){qe.depth==Ye.length-1&&Be==1||qe.depth==0&&Be==1?(qe.y0=ce/2-qe.value*et,qe.y1=qe.y0+qe.value*et):qe.partOfCycle?L(qe,St)==0?(qe.y0=ce/2+Re,qe.y1=qe.y0+qe.value*et):qe.circularLinkType=="top"?(qe.y0=oe+Re,qe.y1=qe.y0+qe.value*et):(qe.y0=ce-qe.value*et-Re,qe.y1=qe.y0+qe.value*et):Tt.top==0||Tt.bottom==0?(qe.y0=(ce-oe)/Be*Re,qe.y1=qe.y0+qe.value*et):(qe.y0=(ce-oe)/2-Be/2+Re,qe.y1=qe.y0+qe.value*et)})})})(Ge),It();for(var tt=1,lt=Ue;lt>0;--lt)vt(tt*=.99,Ge),It();function vt(St,rt){var et=Ye.length;Ye.forEach(function(Tt){var Vt=Tt.length,Kt=Tt[0].depth;Tt.forEach(function(Be){var qe;if((Be.sourceLinks.length||Be.targetLinks.length)&&!(Be.partOfCycle&&L(Be,rt)>0))if(Kt==0&&Vt==1)qe=Be.y1-Be.y0,Be.y0=ce/2-qe/2,Be.y1=ce/2+qe/2;else if(Kt==et-1&&Vt==1)qe=Be.y1-Be.y0,Be.y0=ce/2-qe/2,Be.y1=ce/2+qe/2;else{var Re=m.mean(Be.sourceLinks,h),Xe=m.mean(Be.targetLinks,s),ke=((Re&&Xe?(Re+Xe)/2:Re||Xe)-f(Be))*St;Be.y0+=ke,Be.y1+=ke}})})}function It(){Ye.forEach(function(St){var rt,et,Tt,Vt=oe,Kt=St.length;for(St.sort(i),Tt=0;Tt<Kt;++Tt)(et=Vt-(rt=St[Tt]).y0)>0&&(rt.y0+=et,rt.y1+=et),Vt=rt.y1+re;if((et=Vt-re-ce)>0)for(Vt=rt.y0-=et,rt.y1-=et,Tt=Kt-2;Tt>=0;--Tt)(et=(rt=St[Tt]).y1+re-Vt)>0&&(rt.y0-=et,rt.y1-=et),Vt=rt.y0})}}function Qe(Oe){Oe.nodes.forEach(function(Ue){Ue.sourceLinks.sort(c),Ue.targetLinks.sort(d)}),Oe.nodes.forEach(function(Ue){var Ge=Ue.y0,Ye=Ge,tt=Ue.y1,lt=tt;Ue.sourceLinks.forEach(function(vt){vt.circular?(vt.y0=tt-vt.width/2,tt-=vt.width):(vt.y0=Ge+vt.width/2,Ge+=vt.width)}),Ue.targetLinks.forEach(function(vt){vt.circular?(vt.y1=lt-vt.width/2,lt-=vt.width):(vt.y1=Ye+vt.width/2,Ye+=vt.width)})})}return _e.nodeId=function(Oe){return arguments.length?(xe=typeof Oe=="function"?Oe:o(Oe),_e):xe},_e.nodeAlign=function(Oe){return arguments.length?(we=typeof Oe=="function"?Oe:o(Oe),_e):we},_e.nodeWidth=function(Oe){return arguments.length?(de=+Oe,_e):de},_e.nodePadding=function(Oe){return arguments.length?(re=+Oe,_e):re},_e.nodes=function(Oe){return arguments.length?(be=typeof Oe=="function"?Oe:o(Oe),_e):be},_e.links=function(Oe){return arguments.length?(Ee=typeof Oe=="function"?Oe:o(Oe),_e):Ee},_e.size=function(Oe){return arguments.length?(se=oe=0,pe=+Oe[0],ce=+Oe[1],_e):[pe-se,ce-oe]},_e.extent=function(Oe){return arguments.length?(se=+Oe[0][0],pe=+Oe[1][0],oe=+Oe[0][1],ce=+Oe[1][1],_e):[[se,oe],[pe,ce]]},_e.iterations=function(Oe){return arguments.length?(fe=+Oe,_e):fe},_e.circularLinkGap=function(Oe){return arguments.length?(me=+Oe,_e):me},_e.nodePaddingRatio=function(Oe){return arguments.length?(ne=+Oe,_e):ne},_e.sortNodes=function(Oe){return arguments.length?(Te=Oe,_e):Te},_e.update=function(Oe){return T(Oe,xe),Qe(Oe),Oe.links.forEach(function(Ue){Ue.circular&&(Ue.circularLinkType=Ue.y0+Ue.y1<ce?"top":"bottom",Ue.source.circularLinkType=Ue.circularLinkType,Ue.target.circularLinkType=Ue.circularLinkType)}),N(Oe,ce,xe,!1),U(Oe,ce,xe),P(Oe,me,ce,xe),Oe},_e},g.sankeyCenter=function(re){return re.targetLinks.length?re.depth:re.sourceLinks.length?m.min(re.sourceLinks,n)-1:0},g.sankeyLeft=function(re){return re.depth},g.sankeyRight=function(re,ne){return ne-1-re.height},g.sankeyJustify=r,Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-array":107,"d3-collection":108,"d3-shape":119,"elementary-circuits-directed-graph":130}],57:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-array"),y("d3-collection"),y("d3-shape")):m(g.d3=g.d3||{},g.d3,g.d3,g.d3)})(this,function(g,m,b,v){function e(w){return w.target.depth}function n(w,_){return w.sourceLinks.length?w.depth:_-1}function r(w){return function(){return w}}function o(w,_){return d(w.source,_.source)||w.index-_.index}function t(w,_){return d(w.target,_.target)||w.index-_.index}function d(w,_){return w.y0-_.y0}function c(w){return w.value}function i(w){return(w.y0+w.y1)/2}function u(w){return i(w.source)*w.value}function f(w){return i(w.target)*w.value}function s(w){return w.index}function h(w){return w.nodes}function p(w){return w.links}function a(w,_){var T=w.get(_);if(!T)throw new Error("missing: "+_);return T}function x(w){return[w.source.x1,w.y0]}function l(w){return[w.target.x0,w.y1]}g.sankey=function(){var w=0,_=0,T=1,k=1,L=24,A=8,I=s,P=n,S=h,E=p,D=32;function F(){var W={nodes:S.apply(null,arguments),links:E.apply(null,arguments)};return H(W),V(W),Z(W),K(W),q(W),W}function H(W){W.nodes.forEach(function(R,N){R.index=N,R.sourceLinks=[],R.targetLinks=[]});var $=b.map(W.nodes,I);W.links.forEach(function(R,N){R.index=N;var U=R.source,Q=R.target;typeof U!="object"&&(U=R.source=a($,U)),typeof Q!="object"&&(Q=R.target=a($,Q)),U.sourceLinks.push(R),Q.targetLinks.push(R)})}function V(W){W.nodes.forEach(function($){$.value=Math.max(m.sum($.sourceLinks,c),m.sum($.targetLinks,c))})}function Z(W){var $,R,N;for($=W.nodes,R=[],N=0;$.length;++N,$=R,R=[])$.forEach(function(Q){Q.depth=N,Q.sourceLinks.forEach(function(j){R.indexOf(j.target)<0&&R.push(j.target)})});for($=W.nodes,R=[],N=0;$.length;++N,$=R,R=[])$.forEach(function(Q){Q.height=N,Q.targetLinks.forEach(function(j){R.indexOf(j.source)<0&&R.push(j.source)})});var U=(T-w-L)/(N-1);W.nodes.forEach(function(Q){Q.x1=(Q.x0=w+Math.max(0,Math.min(N-1,Math.floor(P.call(null,Q,N))))*U)+L})}function K(W){var $=b.nest().key(function(X){return X.x0}).sortKeys(m.ascending).entries(W.nodes).map(function(X){return X.values});(function(){var X=m.max($,function(ne){return ne.length}),J=2/3*(k-_)/(X-1);A>J&&(A=J);var re=m.min($,function(ne){return(k-_-(ne.length-1)*A)/m.sum(ne,c)});$.forEach(function(ne){ne.forEach(function(se,oe){se.y1=(se.y0=oe)+se.value*re})}),W.links.forEach(function(ne){ne.width=ne.value*re})})(),j();for(var R=1,N=D;N>0;--N)Q(R*=.99),j(),U(R),j();function U(X){$.forEach(function(J){J.forEach(function(re){if(re.targetLinks.length){var ne=(m.sum(re.targetLinks,u)/m.sum(re.targetLinks,c)-i(re))*X;re.y0+=ne,re.y1+=ne}})})}function Q(X){$.slice().reverse().forEach(function(J){J.forEach(function(re){if(re.sourceLinks.length){var ne=(m.sum(re.sourceLinks,f)/m.sum(re.sourceLinks,c)-i(re))*X;re.y0+=ne,re.y1+=ne}})})}function j(){$.forEach(function(X){var J,re,ne,se=_,oe=X.length;for(X.sort(d),ne=0;ne<oe;++ne)(re=se-(J=X[ne]).y0)>0&&(J.y0+=re,J.y1+=re),se=J.y1+A;if((re=se-A-k)>0)for(se=J.y0-=re,J.y1-=re,ne=oe-2;ne>=0;--ne)(re=(J=X[ne]).y1+A-se)>0&&(J.y0-=re,J.y1-=re),se=J.y0})}}function q(W){W.nodes.forEach(function($){$.sourceLinks.sort(t),$.targetLinks.sort(o)}),W.nodes.forEach(function($){var R=$.y0,N=R;$.sourceLinks.forEach(function(U){U.y0=R+U.width/2,R+=U.width}),$.targetLinks.forEach(function(U){U.y1=N+U.width/2,N+=U.width})})}return F.update=function(W){return q(W),W},F.nodeId=function(W){return arguments.length?(I=typeof W=="function"?W:r(W),F):I},F.nodeAlign=function(W){return arguments.length?(P=typeof W=="function"?W:r(W),F):P},F.nodeWidth=function(W){return arguments.length?(L=+W,F):L},F.nodePadding=function(W){return arguments.length?(A=+W,F):A},F.nodes=function(W){return arguments.length?(S=typeof W=="function"?W:r(W),F):S},F.links=function(W){return arguments.length?(E=typeof W=="function"?W:r(W),F):E},F.size=function(W){return arguments.length?(w=_=0,T=+W[0],k=+W[1],F):[T-w,k-_]},F.extent=function(W){return arguments.length?(w=+W[0][0],T=+W[1][0],_=+W[0][1],k=+W[1][1],F):[[w,_],[T,k]]},F.iterations=function(W){return arguments.length?(D=+W,F):D},F},g.sankeyCenter=function(w){return w.targetLinks.length?w.depth:w.sourceLinks.length?m.min(w.sourceLinks,e)-1:0},g.sankeyLeft=function(w){return w.depth},g.sankeyRight=function(w,_){return _-1-w.height},g.sankeyJustify=n,g.sankeyLinkHorizontal=function(){return v.linkHorizontal().source(x).target(l)},Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-array":107,"d3-collection":108,"d3-shape":119}],58:[function(y,ee,te){(function(){var g={version:"3.8.0"},m=[].slice,b=function(le){return m.call(le)},v=self.document;function e(le){return le&&(le.ownerDocument||le.document||le).documentElement}function n(le){return le&&(le.ownerDocument&&le.ownerDocument.defaultView||le.document&&le||le.defaultView)}if(v)try{b(v.documentElement.childNodes)[0].nodeType}catch{b=function(C){for(var z=C.length,B=new Array(z);z--;)B[z]=C[z];return B}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,o=r.setAttribute,t=r.setAttributeNS,d=this.CSSStyleDeclaration.prototype,c=d.setProperty;r.setAttribute=function(C,z){o.call(this,C,z+"")},r.setAttributeNS=function(C,z,B){t.call(this,C,z,B+"")},d.setProperty=function(C,z,B){c.call(this,C,z+"",B)}}function i(le,C){return le<C?-1:le>C?1:le>=C?0:NaN}function u(le){return le===null?NaN:+le}function f(le){return!isNaN(le)}function s(le){return{left:function(C,z,B,G){for(arguments.length<3&&(B=0),arguments.length<4&&(G=C.length);B<G;){var ie=B+G>>>1;le(C[ie],z)<0?B=ie+1:G=ie}return B},right:function(C,z,B,G){for(arguments.length<3&&(B=0),arguments.length<4&&(G=C.length);B<G;){var ie=B+G>>>1;le(C[ie],z)>0?G=ie:B=ie+1}return B}}}g.ascending=i,g.descending=function(le,C){return C<le?-1:C>le?1:C>=le?0:NaN},g.min=function(le,C){var z,B,G=-1,ie=le.length;if(arguments.length===1){for(;++G<ie;)if((B=le[G])!=null&&B>=B){z=B;break}for(;++G<ie;)(B=le[G])!=null&&z>B&&(z=B)}else{for(;++G<ie;)if((B=C.call(le,le[G],G))!=null&&B>=B){z=B;break}for(;++G<ie;)(B=C.call(le,le[G],G))!=null&&z>B&&(z=B)}return z},g.max=function(le,C){var z,B,G=-1,ie=le.length;if(arguments.length===1){for(;++G<ie;)if((B=le[G])!=null&&B>=B){z=B;break}for(;++G<ie;)(B=le[G])!=null&&B>z&&(z=B)}else{for(;++G<ie;)if((B=C.call(le,le[G],G))!=null&&B>=B){z=B;break}for(;++G<ie;)(B=C.call(le,le[G],G))!=null&&B>z&&(z=B)}return z},g.extent=function(le,C){var z,B,G,ie=-1,ue=le.length;if(arguments.length===1){for(;++ie<ue;)if((B=le[ie])!=null&&B>=B){z=G=B;break}for(;++ie<ue;)(B=le[ie])!=null&&(z>B&&(z=B),G<B&&(G=B))}else{for(;++ie<ue;)if((B=C.call(le,le[ie],ie))!=null&&B>=B){z=G=B;break}for(;++ie<ue;)(B=C.call(le,le[ie],ie))!=null&&(z>B&&(z=B),G<B&&(G=B))}return[z,G]},g.sum=function(le,C){var z,B=0,G=le.length,ie=-1;if(arguments.length===1)for(;++ie<G;)f(z=+le[ie])&&(B+=z);else for(;++ie<G;)f(z=+C.call(le,le[ie],ie))&&(B+=z);return B},g.mean=function(le,C){var z,B=0,G=le.length,ie=-1,ue=G;if(arguments.length===1)for(;++ie<G;)f(z=u(le[ie]))?B+=z:--ue;else for(;++ie<G;)f(z=u(C.call(le,le[ie],ie)))?B+=z:--ue;if(ue)return B/ue},g.quantile=function(le,C){var z=(le.length-1)*C+1,B=Math.floor(z),G=+le[B-1],ie=z-B;return ie?G+ie*(le[B]-G):G},g.median=function(le,C){var z,B=[],G=le.length,ie=-1;if(arguments.length===1)for(;++ie<G;)f(z=u(le[ie]))&&B.push(z);else for(;++ie<G;)f(z=u(C.call(le,le[ie],ie)))&&B.push(z);if(B.length)return g.quantile(B.sort(i),.5)},g.variance=function(le,C){var z,B,G=le.length,ie=0,ue=0,ge=-1,ye=0;if(arguments.length===1)for(;++ge<G;)f(z=u(le[ge]))&&(ue+=(B=z-ie)*(z-(ie+=B/++ye)));else for(;++ge<G;)f(z=u(C.call(le,le[ge],ge)))&&(ue+=(B=z-ie)*(z-(ie+=B/++ye)));if(ye>1)return ue/(ye-1)},g.deviation=function(){var le=g.variance.apply(this,arguments);return le&&Math.sqrt(le)};var h=s(i);function p(le){return le.length}g.bisectLeft=h.left,g.bisect=g.bisectRight=h.right,g.bisector=function(le){return s(le.length===1?function(C,z){return i(le(C),z)}:le)},g.shuffle=function(le,C,z){(ie=arguments.length)<3&&(z=le.length,ie<2&&(C=0));for(var B,G,ie=z-C;ie;)G=Math.random()*ie--|0,B=le[ie+C],le[ie+C]=le[G+C],le[G+C]=B;return le},g.permute=function(le,C){for(var z=C.length,B=new Array(z);z--;)B[z]=le[C[z]];return B},g.pairs=function(le){for(var C=0,z=le.length-1,B=le[0],G=new Array(z<0?0:z);C<z;)G[C]=[B,B=le[++C]];return G},g.transpose=function(le){if(!(G=le.length))return[];for(var C=-1,z=g.min(le,p),B=new Array(z);++C<z;)for(var G,ie=-1,ue=B[C]=new Array(G);++ie<G;)ue[ie]=le[ie][C];return B},g.zip=function(){return g.transpose(arguments)},g.keys=function(le){var C=[];for(var z in le)C.push(z);return C},g.values=function(le){var C=[];for(var z in le)C.push(le[z]);return C},g.entries=function(le){var C=[];for(var z in le)C.push({key:z,value:le[z]});return C},g.merge=function(le){for(var C,z,B,G=le.length,ie=-1,ue=0;++ie<G;)ue+=le[ie].length;for(z=new Array(ue);--G>=0;)for(C=(B=le[G]).length;--C>=0;)z[--ue]=B[C];return z};var a=Math.abs;function x(le){for(var C=1;le*C%1;)C*=10;return C}function l(le,C){for(var z in C)Object.defineProperty(le.prototype,z,{value:C[z],enumerable:!1})}function w(){this._=Object.create(null)}g.range=function(le,C,z){if(arguments.length<3&&(z=1,arguments.length<2&&(C=le,le=0)),(C-le)/z==1/0)throw new Error("infinite range");var B,G=[],ie=x(a(z)),ue=-1;if(le*=ie,C*=ie,(z*=ie)<0)for(;(B=le+z*++ue)>C;)G.push(B/ie);else for(;(B=le+z*++ue)<C;)G.push(B/ie);return G},g.map=function(le,C){var z=new w;if(le instanceof w)le.forEach(function(ge,ye){z.set(ge,ye)});else if(Array.isArray(le)){var B,G=-1,ie=le.length;if(arguments.length===1)for(;++G<ie;)z.set(G,le[G]);else for(;++G<ie;)z.set(C.call(le,B=le[G],G),B)}else for(var ue in le)z.set(ue,le[ue]);return z};function _(le){return(le+="")=="__proto__"||le[0]==="\0"?"\0"+le:le}function T(le){return(le+="")[0]==="\0"?le.slice(1):le}function k(le){return _(le)in this._}function L(le){return(le=_(le))in this._&&delete this._[le]}function A(){var le=[];for(var C in this._)le.push(T(C));return le}function I(){var le=0;for(var C in this._)++le;return le}function P(){for(var le in this._)return!1;return!0}function S(){this._=Object.create(null)}function E(le){return le}function D(le,C,z){return function(){var B=z.apply(C,arguments);return B===C?le:B}}function F(le,C){if(C in le)return C;C=C.charAt(0).toUpperCase()+C.slice(1);for(var z=0,B=H.length;z<B;++z){var G=H[z]+C;if(G in le)return G}}l(w,{has:k,get:function(le){return this._[_(le)]},set:function(le,C){return this._[_(le)]=C},remove:L,keys:A,values:function(){var le=[];for(var C in this._)le.push(this._[C]);return le},entries:function(){var le=[];for(var C in this._)le.push({key:T(C),value:this._[C]});return le},size:I,empty:P,forEach:function(le){for(var C in this._)le.call(this,T(C),this._[C])}}),g.nest=function(){var le,C,z={},B=[],G=[];function ie(ue,ge,ye){if(ye>=B.length)return C?C.call(z,ge):le?ge.sort(le):ge;for(var Me,je,We,nt,bt=-1,At=ge.length,_t=B[ye++],wt=new w;++bt<At;)(nt=wt.get(Me=_t(je=ge[bt])))?nt.push(je):wt.set(Me,[je]);return ue?(je=ue(),We=function(xt,Ft){je.set(xt,ie(ue,Ft,ye))}):(je={},We=function(xt,Ft){je[xt]=ie(ue,Ft,ye)}),wt.forEach(We),je}return z.map=function(ue,ge){return ie(ge,ue,0)},z.entries=function(ue){return function ge(ye,Me){if(Me>=B.length)return ye;var je=[],We=G[Me++];return ye.forEach(function(nt,bt){je.push({key:nt,values:ge(bt,Me)})}),We?je.sort(function(nt,bt){return We(nt.key,bt.key)}):je}(ie(g.map,ue,0),0)},z.key=function(ue){return B.push(ue),z},z.sortKeys=function(ue){return G[B.length-1]=ue,z},z.sortValues=function(ue){return le=ue,z},z.rollup=function(ue){return C=ue,z},z},g.set=function(le){var C=new S;if(le)for(var z=0,B=le.length;z<B;++z)C.add(le[z]);return C},l(S,{has:k,add:function(le){return this._[_(le+="")]=!0,le},remove:L,values:A,size:I,empty:P,forEach:function(le){for(var C in this._)le.call(this,T(C))}}),g.behavior={},g.rebind=function(le,C){for(var z,B=1,G=arguments.length;++B<G;)le[z=arguments[B]]=D(le,C,C[z]);return le};var H=["webkit","ms","moz","Moz","o","O"];function V(){}function Z(){}function K(le){var C=[],z=new w;function B(){for(var G,ie=C,ue=-1,ge=ie.length;++ue<ge;)(G=ie[ue].on)&&G.apply(this,arguments);return le}return B.on=function(G,ie){var ue,ge=z.get(G);return arguments.length<2?ge&&ge.on:(ge&&(ge.on=null,C=C.slice(0,ue=C.indexOf(ge)).concat(C.slice(ue+1)),z.remove(G)),ie&&C.push(z.set(G,{on:ie})),le)},B}function q(){g.event.preventDefault()}function W(){for(var le,C=g.event;le=C.sourceEvent;)C=le;return C}function $(le){for(var C=new Z,z=0,B=arguments.length;++z<B;)C[arguments[z]]=K(C);return C.of=function(G,ie){return function(ue){try{var ge=ue.sourceEvent=g.event;ue.target=le,g.event=ue,C[ue.type].apply(G,ie)}finally{g.event=ge}}},C}g.dispatch=function(){for(var le=new Z,C=-1,z=arguments.length;++C<z;)le[arguments[C]]=K(le);return le},Z.prototype.on=function(le,C){var z=le.indexOf("."),B="";if(z>=0&&(B=le.slice(z+1),le=le.slice(0,z)),le)return arguments.length<2?this[le].on(B):this[le].on(B,C);if(arguments.length===2){if(C==null)for(le in this)this.hasOwnProperty(le)&&this[le].on(B,null);return this}},g.event=null,g.requote=function(le){return le.replace(R,"\\$&")};var R=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,N={}.__proto__?function(le,C){le.__proto__=C}:function(le,C){for(var z in C)le[z]=C[z]};function U(le){return N(le,J),le}var Q=function(le,C){return C.querySelector(le)},j=function(le,C){return C.querySelectorAll(le)},X=function(le,C){var z=le.matches||le[F(le,"matchesSelector")];return(X=function(B,G){return z.call(B,G)})(le,C)};typeof Sizzle=="function"&&(Q=function(le,C){return Sizzle(le,C)[0]||null},j=Sizzle,X=Sizzle.matchesSelector),g.selection=function(){return g.select(v.documentElement)};var J=g.selection.prototype=[];function re(le){return typeof le=="function"?le:function(){return Q(le,this)}}function ne(le){return typeof le=="function"?le:function(){return j(le,this)}}J.select=function(le){var C,z,B,G,ie=[];le=re(le);for(var ue=-1,ge=this.length;++ue<ge;){ie.push(C=[]),C.parentNode=(B=this[ue]).parentNode;for(var ye=-1,Me=B.length;++ye<Me;)(G=B[ye])?(C.push(z=le.call(G,G.__data__,ye,ue)),z&&"__data__"in G&&(z.__data__=G.__data__)):C.push(null)}return U(ie)},J.selectAll=function(le){var C,z,B=[];le=ne(le);for(var G=-1,ie=this.length;++G<ie;)for(var ue=this[G],ge=-1,ye=ue.length;++ge<ye;)(z=ue[ge])&&(B.push(C=b(le.call(z,z.__data__,ge,G))),C.parentNode=z);return U(B)};var se="http://www.w3.org/1999/xhtml",oe={svg:"http://www.w3.org/2000/svg",xhtml:se,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function pe(le,C){return le=g.ns.qualify(le),C==null?le.local?function(){this.removeAttributeNS(le.space,le.local)}:function(){this.removeAttribute(le)}:typeof C=="function"?le.local?function(){var z=C.apply(this,arguments);z==null?this.removeAttributeNS(le.space,le.local):this.setAttributeNS(le.space,le.local,z)}:function(){var z=C.apply(this,arguments);z==null?this.removeAttribute(le):this.setAttribute(le,z)}:le.local?function(){this.setAttributeNS(le.space,le.local,C)}:function(){this.setAttribute(le,C)}}function ce(le){return le.trim().replace(/\s+/g," ")}function de(le){return new RegExp("(?:^|\\s+)"+g.requote(le)+"(?:\\s+|$)","g")}function xe(le){return(le+"").trim().split(/^|\s+/)}function we(le,C){var z=(le=xe(le).map(be)).length;return typeof C=="function"?function(){for(var B=-1,G=C.apply(this,arguments);++B<z;)le[B](this,G)}:function(){for(var B=-1;++B<z;)le[B](this,C)}}function be(le){var C=de(le);return function(z,B){if(G=z.classList)return B?G.add(le):G.remove(le);var G=z.getAttribute("class")||"";B?(C.lastIndex=0,C.test(G)||z.setAttribute("class",ce(G+" "+le))):z.setAttribute("class",ce(G.replace(C," ")))}}function Ee(le,C,z){return C==null?function(){this.style.removeProperty(le)}:typeof C=="function"?function(){var B=C.apply(this,arguments);B==null?this.style.removeProperty(le):this.style.setProperty(le,B,z)}:function(){this.style.setProperty(le,C,z)}}function fe(le,C){return C==null?function(){delete this[le]}:typeof C=="function"?function(){var z=C.apply(this,arguments);z==null?delete this[le]:this[le]=z}:function(){this[le]=C}}function me(le){return typeof le=="function"?le:(le=g.ns.qualify(le)).local?function(){return this.ownerDocument.createElementNS(le.space,le.local)}:function(){var C=this.ownerDocument,z=this.namespaceURI;return z===se&&C.documentElement.namespaceURI===se?C.createElement(le):C.createElementNS(z,le)}}function Te(){var le=this.parentNode;le&&le.removeChild(this)}function _e(le){return{__data__:le}}function Ae(le){return function(){return X(this,le)}}function Pe(le){return arguments.length||(le=i),function(C,z){return C&&z?le(C.__data__,z.__data__):!C-!z}}function De(le,C){for(var z=0,B=le.length;z<B;z++)for(var G,ie=le[z],ue=0,ge=ie.length;ue<ge;ue++)(G=ie[ue])&&C(G,ue,z);return le}function Ve(le){return N(le,Qe),le}g.ns={prefix:oe,qualify:function(le){var C=le.indexOf(":"),z=le;return C>=0&&(z=le.slice(0,C))!=="xmlns"&&(le=le.slice(C+1)),oe.hasOwnProperty(z)?{space:oe[z],local:le}:le}},J.attr=function(le,C){if(arguments.length<2){if(typeof le=="string"){var z=this.node();return(le=g.ns.qualify(le)).local?z.getAttributeNS(le.space,le.local):z.getAttribute(le)}for(C in le)this.each(pe(C,le[C]));return this}return this.each(pe(le,C))},J.classed=function(le,C){if(arguments.length<2){if(typeof le=="string"){var z=this.node(),B=(le=xe(le)).length,G=-1;if(C=z.classList){for(;++G<B;)if(!C.contains(le[G]))return!1}else for(C=z.getAttribute("class");++G<B;)if(!de(le[G]).test(C))return!1;return!0}for(C in le)this.each(we(C,le[C]));return this}return this.each(we(le,C))},J.style=function(le,C,z){var B=arguments.length;if(B<3){if(typeof le!="string"){for(z in B<2&&(C=""),le)this.each(Ee(z,le[z],C));return this}if(B<2){var G=this.node();return n(G).getComputedStyle(G,null).getPropertyValue(le)}z=""}return this.each(Ee(le,C,z))},J.property=function(le,C){if(arguments.length<2){if(typeof le=="string")return this.node()[le];for(C in le)this.each(fe(C,le[C]));return this}return this.each(fe(le,C))},J.text=function(le){return arguments.length?this.each(typeof le=="function"?function(){var C=le.apply(this,arguments);this.textContent=C??""}:le==null?function(){this.textContent=""}:function(){this.textContent=le}):this.node().textContent},J.html=function(le){return arguments.length?this.each(typeof le=="function"?function(){var C=le.apply(this,arguments);this.innerHTML=C??""}:le==null?function(){this.innerHTML=""}:function(){this.innerHTML=le}):this.node().innerHTML},J.append=function(le){return le=me(le),this.select(function(){return this.appendChild(le.apply(this,arguments))})},J.insert=function(le,C){return le=me(le),C=re(C),this.select(function(){return this.insertBefore(le.apply(this,arguments),C.apply(this,arguments)||null)})},J.remove=function(){return this.each(Te)},J.data=function(le,C){var z,B,G=-1,ie=this.length;if(!arguments.length){for(le=new Array(ie=(z=this[0]).length);++G<ie;)(B=z[G])&&(le[G]=B.__data__);return le}function ue(je,We){var nt,bt,At,_t=je.length,wt=We.length,xt=Math.min(_t,wt),Ft=new Array(wt),Ot=new Array(wt),Nt=new Array(_t);if(C){var er,fr=new w,kr=new Array(_t);for(nt=-1;++nt<_t;)(bt=je[nt])&&(fr.has(er=C.call(bt,bt.__data__,nt))?Nt[nt]=bt:fr.set(er,bt),kr[nt]=er);for(nt=-1;++nt<wt;)(bt=fr.get(er=C.call(We,At=We[nt],nt)))?bt!==!0&&(Ft[nt]=bt,bt.__data__=At):Ot[nt]=_e(At),fr.set(er,!0);for(nt=-1;++nt<_t;)nt in kr&&fr.get(kr[nt])!==!0&&(Nt[nt]=je[nt])}else{for(nt=-1;++nt<xt;)bt=je[nt],At=We[nt],bt?(bt.__data__=At,Ft[nt]=bt):Ot[nt]=_e(At);for(;nt<wt;++nt)Ot[nt]=_e(We[nt]);for(;nt<_t;++nt)Nt[nt]=je[nt]}Ot.update=Ft,Ot.parentNode=Ft.parentNode=Nt.parentNode=je.parentNode,ge.push(Ot),ye.push(Ft),Me.push(Nt)}var ge=Ve([]),ye=U([]),Me=U([]);if(typeof le=="function")for(;++G<ie;)ue(z=this[G],le.call(z,z.parentNode.__data__,G));else for(;++G<ie;)ue(z=this[G],le);return ye.enter=function(){return ge},ye.exit=function(){return Me},ye},J.datum=function(le){return arguments.length?this.property("__data__",le):this.property("__data__")},J.filter=function(le){var C,z,B,G=[];typeof le!="function"&&(le=Ae(le));for(var ie=0,ue=this.length;ie<ue;ie++){G.push(C=[]),C.parentNode=(z=this[ie]).parentNode;for(var ge=0,ye=z.length;ge<ye;ge++)(B=z[ge])&&le.call(B,B.__data__,ge,ie)&&C.push(B)}return U(G)},J.order=function(){for(var le=-1,C=this.length;++le<C;)for(var z,B=this[le],G=B.length-1,ie=B[G];--G>=0;)(z=B[G])&&(ie&&ie!==z.nextSibling&&ie.parentNode.insertBefore(z,ie),ie=z);return this},J.sort=function(le){le=Pe.apply(this,arguments);for(var C=-1,z=this.length;++C<z;)this[C].sort(le);return this.order()},J.each=function(le){return De(this,function(C,z,B){le.call(C,C.__data__,z,B)})},J.call=function(le){var C=b(arguments);return le.apply(C[0]=this,C),this},J.empty=function(){return!this.node()},J.node=function(){for(var le=0,C=this.length;le<C;le++)for(var z=this[le],B=0,G=z.length;B<G;B++){var ie=z[B];if(ie)return ie}return null},J.size=function(){var le=0;return De(this,function(){++le}),le};var Qe=[];function Oe(le){var C,z;return function(B,G,ie){var ue,ge=le[ie].update,ye=ge.length;for(ie!=z&&(z=ie,C=0),G>=C&&(C=G+1);!(ue=ge[C])&&++C<ye;);return ue}}function Ue(le,C,z){var B="__on"+le,G=le.indexOf("."),ie=Ye;G>0&&(le=le.slice(0,G));var ue=Ge.get(le);function ge(){var ye=this[B];ye&&(this.removeEventListener(le,ye,ye.$),delete this[B])}return ue&&(le=ue,ie=tt),G?C?function(){var ye=ie(C,b(arguments));ge.call(this),this.addEventListener(le,this[B]=ye,ye.$=z),ye._=C}:ge:C?V:function(){var ye,Me=new RegExp("^__on([^.]+)"+g.requote(le)+"$");for(var je in this)if(ye=je.match(Me)){var We=this[je];this.removeEventListener(ye[1],We,We.$),delete this[je]}}}g.selection.enter=Ve,g.selection.enter.prototype=Qe,Qe.append=J.append,Qe.empty=J.empty,Qe.node=J.node,Qe.call=J.call,Qe.size=J.size,Qe.select=function(le){for(var C,z,B,G,ie,ue=[],ge=-1,ye=this.length;++ge<ye;){B=(G=this[ge]).update,ue.push(C=[]),C.parentNode=G.parentNode;for(var Me=-1,je=G.length;++Me<je;)(ie=G[Me])?(C.push(B[Me]=z=le.call(G.parentNode,ie.__data__,Me,ge)),z.__data__=ie.__data__):C.push(null)}return U(ue)},Qe.insert=function(le,C){return arguments.length<2&&(C=Oe(this)),J.insert.call(this,le,C)},g.select=function(le){var C;return typeof le=="string"?(C=[Q(le,v)]).parentNode=v.documentElement:(C=[le]).parentNode=e(le),U([C])},g.selectAll=function(le){var C;return typeof le=="string"?(C=b(j(le,v))).parentNode=v.documentElement:(C=b(le)).parentNode=null,U([C])},J.on=function(le,C,z){var B=arguments.length;if(B<3){if(typeof le!="string"){for(z in B<2&&(C=!1),le)this.each(Ue(z,le[z],C));return this}if(B<2)return(B=this.node()["__on"+le])&&B._;z=!1}return this.each(Ue(le,C,z))};var Ge=g.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ye(le,C){return function(z){var B=g.event;g.event=z,C[0]=this.__data__;try{le.apply(this,C)}finally{g.event=B}}}function tt(le,C){var z=Ye(le,C);return function(B){var G=B.relatedTarget;G&&(G===this||8&G.compareDocumentPosition(this))||z.call(this,B)}}v&&Ge.forEach(function(le){"on"+le in v&&Ge.remove(le)});var lt,vt=0;function It(le){var C=".dragsuppress-"+ ++vt,z="click"+C,B=g.select(n(le)).on("touchmove"+C,q).on("dragstart"+C,q).on("selectstart"+C,q);if(lt==null&&(lt=!("onselectstart"in le)&&F(le.style,"userSelect")),lt){var G=e(le).style,ie=G[lt];G[lt]="none"}return function(ue){if(B.on(C,null),lt&&(G[lt]=ie),ue){var ge=function(){B.on(z,null)};B.on(z,function(){q(),ge()},!0),setTimeout(ge,0)}}}g.mouse=function(le){return rt(le,W())};var St=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function rt(le,C){C.changedTouches&&(C=C.changedTouches[0]);var z=le.ownerSVGElement||le;if(z.createSVGPoint){var B=z.createSVGPoint();if(St<0){var G=n(le);if(G.scrollX||G.scrollY){var ie=(z=g.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();St=!(ie.f||ie.e),z.remove()}}return St?(B.x=C.pageX,B.y=C.pageY):(B.x=C.clientX,B.y=C.clientY),[(B=B.matrixTransform(le.getScreenCTM().inverse())).x,B.y]}var ue=le.getBoundingClientRect();return[C.clientX-ue.left-le.clientLeft,C.clientY-ue.top-le.clientTop]}function et(){return g.event.changedTouches[0].identifier}g.touch=function(le,C,z){if(arguments.length<3&&(z=C,C=W().changedTouches),C){for(var B,G=0,ie=C.length;G<ie;++G)if((B=C[G]).identifier===z)return rt(le,B)}},g.behavior.drag=function(){var le=$(G,"drag","dragstart","dragend"),C=null,z=ie(V,g.mouse,n,"mousemove","mouseup"),B=ie(et,g.touch,E,"touchmove","touchend");function G(){this.on("mousedown.drag",z).on("touchstart.drag",B)}function ie(ue,ge,ye,Me,je){return function(){var We,nt=this,bt=g.event.target.correspondingElement||g.event.target,At=nt.parentNode,_t=le.of(nt,arguments),wt=0,xt=ue(),Ft=".drag"+(xt==null?"":"-"+xt),Ot=g.select(ye(bt)).on(Me+Ft,fr).on(je+Ft,kr),Nt=It(bt),er=ge(At,xt);function fr(){var Tr,Jr,Xr=ge(At,xt);Xr&&(Tr=Xr[0]-er[0],Jr=Xr[1]-er[1],wt|=Tr|Jr,er=Xr,_t({type:"drag",x:Xr[0]+We[0],y:Xr[1]+We[1],dx:Tr,dy:Jr}))}function kr(){ge(At,xt)&&(Ot.on(Me+Ft,null).on(je+Ft,null),Nt(wt),_t({type:"dragend"}))}We=C?[(We=C.apply(nt,arguments)).x-er[0],We.y-er[1]]:[0,0],_t({type:"dragstart"})}}return G.origin=function(ue){return arguments.length?(C=ue,G):C},g.rebind(G,le,"on")},g.touches=function(le,C){return arguments.length<2&&(C=W().touches),C?b(C).map(function(z){var B=rt(le,z);return B.identifier=z.identifier,B}):[]};var Tt=1e-6,Vt=Math.PI,Kt=2*Vt,Be=Kt-Tt,qe=Vt/2,Re=Vt/180,Xe=180/Vt;function ke(le){return le>1?qe:le<-1?-qe:Math.asin(le)}function Le(le){return((le=Math.exp(le))+1/le)/2}var Ie=Math.SQRT2;g.interpolateZoom=function(le,C){var z,B,G=le[0],ie=le[1],ue=le[2],ge=C[0],ye=C[1],Me=C[2],je=ge-G,We=ye-ie,nt=je*je+We*We;if(nt<1e-12)B=Math.log(Me/ue)/Ie,z=function(Ft){return[G+Ft*je,ie+Ft*We,ue*Math.exp(Ie*Ft*B)]};else{var bt=Math.sqrt(nt),At=(Me*Me-ue*ue+4*nt)/(2*ue*2*bt),_t=(Me*Me-ue*ue-4*nt)/(2*Me*2*bt),wt=Math.log(Math.sqrt(At*At+1)-At),xt=Math.log(Math.sqrt(_t*_t+1)-_t);B=(xt-wt)/Ie,z=function(Ft){var Ot,Nt=Ft*B,er=Le(wt),fr=ue/(2*bt)*(er*(Ot=Ie*Nt+wt,((Ot=Math.exp(2*Ot))-1)/(Ot+1))-function(kr){return((kr=Math.exp(kr))-1/kr)/2}(wt));return[G+fr*je,ie+fr*We,ue*er/Le(Ie*Nt+wt)]}}return z.duration=1e3*B,z},g.behavior.zoom=function(){var le,C,z,B,G,ie,ue,ge,ye,Me={x:0,y:0,k:1},je=[960,500],We=it,nt=250,bt=0,At="mousedown.zoom",_t="mousemove.zoom",wt="mouseup.zoom",xt="touchstart.zoom",Ft=$(Ot,"zoomstart","zoom","zoomend");function Ot(jr){jr.on(At,on).on(Je+".zoom",Gn).on("dblclick.zoom",oa).on(xt,Nn)}function Nt(jr){return[(jr[0]-Me.x)/Me.k,(jr[1]-Me.y)/Me.k]}function er(jr){Me.k=Math.max(We[0],Math.min(We[1],jr))}function fr(jr,Mn){Mn=function(Yn){return[Yn[0]*Me.k+Me.x,Yn[1]*Me.k+Me.y]}(Mn),Me.x+=jr[0]-Mn[0],Me.y+=jr[1]-Mn[1]}function kr(jr,Mn,Yn,Vn){jr.__chart__={x:Me.x,y:Me.y,k:Me.k},er(Math.pow(2,Vn)),fr(C=Mn,Yn),jr=g.select(jr),nt>0&&(jr=jr.transition().duration(nt)),jr.call(Ot.event)}function Tr(){ue&&ue.domain(ie.range().map(function(jr){return(jr-Me.x)/Me.k}).map(ie.invert)),ye&&ye.domain(ge.range().map(function(jr){return(jr-Me.y)/Me.k}).map(ge.invert))}function Jr(jr){bt++||jr({type:"zoomstart"})}function Xr(jr){Tr(),jr({type:"zoom",scale:Me.k,translate:[Me.x,Me.y]})}function hn(jr){--bt||(jr({type:"zoomend"}),C=null)}function on(){var jr=this,Mn=Ft.of(jr,arguments),Yn=0,Vn=g.select(n(jr)).on(_t,wa).on(wt,Zn),Qn=Nt(g.mouse(jr)),la=It(jr);function wa(){Yn=1,fr(g.mouse(jr),Qn),Xr(Mn)}function Zn(){Vn.on(_t,null).on(wt,null),la(Yn),hn(Mn)}ks.call(jr),Jr(Mn)}function Nn(){var jr,Mn=this,Yn=Ft.of(Mn,arguments),Vn={},Qn=0,la=".zoom-"+g.event.changedTouches[0].identifier,wa="touchmove"+la,Zn="touchend"+la,ma=[],pa=g.select(Mn),Aa=It(Mn);function va(){var Ai=g.touches(Mn);return jr=Me.k,Ai.forEach(function(Si){Si.identifier in Vn&&(Vn[Si.identifier]=Nt(Si))}),Ai}function Sa(){var Ai=g.event.target;g.select(Ai).on(wa,Da).on(Zn,ii),ma.push(Ai);for(var Si=g.event.changedTouches,ai=0,xi=Si.length;ai<xi;++ai)Vn[Si[ai].identifier]=null;var ui=va(),po=Date.now();if(ui.length===1){if(po-G<500){var ji=ui[0];kr(Mn,ji,Vn[ji.identifier],Math.floor(Math.log(Me.k)/Math.LN2)+1),q()}G=po}else if(ui.length>1){ji=ui[0];var Po=ui[1],ys=ji[0]-Po[0],Ns=ji[1]-Po[1];Qn=ys*ys+Ns*Ns}}function Da(){var Ai,Si,ai,xi,ui=g.touches(Mn);ks.call(Mn);for(var po=0,ji=ui.length;po<ji;++po,xi=null)if(ai=ui[po],xi=Vn[ai.identifier]){if(Si)break;Ai=ai,Si=xi}if(xi){var Po=(Po=ai[0]-Ai[0])*Po+(Po=ai[1]-Ai[1])*Po,ys=Qn&&Math.sqrt(Po/Qn);Ai=[(Ai[0]+ai[0])/2,(Ai[1]+ai[1])/2],Si=[(Si[0]+xi[0])/2,(Si[1]+xi[1])/2],er(ys*jr)}G=null,fr(Ai,Si),Xr(Yn)}function ii(){if(g.event.touches.length){for(var Ai=g.event.changedTouches,Si=0,ai=Ai.length;Si<ai;++Si)delete Vn[Ai[Si].identifier];for(var xi in Vn)return void va()}g.selectAll(ma).on(la,null),pa.on(At,on).on(xt,Nn),Aa(),hn(Yn)}Sa(),Jr(Yn),pa.on(At,null).on(xt,Sa)}function Gn(){var jr=Ft.of(this,arguments);B?clearTimeout(B):(ks.call(this),le=Nt(C=z||g.mouse(this)),Jr(jr)),B=setTimeout(function(){B=null,hn(jr)},50),q(),er(Math.pow(2,.002*Ce())*Me.k),fr(C,le),Xr(jr)}function oa(){var jr=g.mouse(this),Mn=Math.log(Me.k)/Math.LN2;kr(this,jr,Nt(jr),g.event.shiftKey?Math.ceil(Mn)-1:Math.floor(Mn)+1)}return Je||(Je="onwheel"in v?(Ce=function(){return-g.event.deltaY*(g.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(Ce=function(){return g.event.wheelDelta},"mousewheel"):(Ce=function(){return-g.event.detail},"MozMousePixelScroll")),Ot.event=function(jr){jr.each(function(){var Mn=Ft.of(this,arguments),Yn=Me;fs?g.select(this).transition().each("start.zoom",function(){Me=this.__chart__||{x:0,y:0,k:1},Jr(Mn)}).tween("zoom:zoom",function(){var Vn=je[0],Qn=je[1],la=C?C[0]:Vn/2,wa=C?C[1]:Qn/2,Zn=g.interpolateZoom([(la-Me.x)/Me.k,(wa-Me.y)/Me.k,Vn/Me.k],[(la-Yn.x)/Yn.k,(wa-Yn.y)/Yn.k,Vn/Yn.k]);return function(ma){var pa=Zn(ma),Aa=Vn/pa[2];this.__chart__=Me={x:la-pa[0]*Aa,y:wa-pa[1]*Aa,k:Aa},Xr(Mn)}}).each("interrupt.zoom",function(){hn(Mn)}).each("end.zoom",function(){hn(Mn)}):(this.__chart__=Me,Jr(Mn),Xr(Mn),hn(Mn))})},Ot.translate=function(jr){return arguments.length?(Me={x:+jr[0],y:+jr[1],k:Me.k},Tr(),Ot):[Me.x,Me.y]},Ot.scale=function(jr){return arguments.length?(Me={x:Me.x,y:Me.y,k:null},er(+jr),Tr(),Ot):Me.k},Ot.scaleExtent=function(jr){return arguments.length?(We=jr==null?it:[+jr[0],+jr[1]],Ot):We},Ot.center=function(jr){return arguments.length?(z=jr&&[+jr[0],+jr[1]],Ot):z},Ot.size=function(jr){return arguments.length?(je=jr&&[+jr[0],+jr[1]],Ot):je},Ot.duration=function(jr){return arguments.length?(nt=+jr,Ot):nt},Ot.x=function(jr){return arguments.length?(ue=jr,ie=jr.copy(),Me={x:0,y:0,k:1},Ot):ue},Ot.y=function(jr){return arguments.length?(ye=jr,ge=jr.copy(),Me={x:0,y:0,k:1},Ot):ye},g.rebind(Ot,Ft,"on")};var Ce,Je,it=[0,1/0];function ht(){}function ut(le,C,z){return this instanceof ut?(this.h=+le,this.s=+C,void(this.l=+z)):arguments.length<2?le instanceof ut?new ut(le.h,le.s,le.l):vr(""+le,pr,ut):new ut(le,C,z)}g.color=ht,ht.prototype.toString=function(){return this.rgb()+""},g.hsl=ut;var kt=ut.prototype=new ht;function ot(le,C,z){var B,G;function ie(ue){return Math.round(255*function(ge){return ge>360?ge-=360:ge<0&&(ge+=360),ge<60?B+(G-B)*ge/60:ge<180?G:ge<240?B+(G-B)*(240-ge)/60:B}(ue))}return le=isNaN(le)?0:(le%=360)<0?le+360:le,C=isNaN(C)||C<0?0:C>1?1:C,B=2*(z=z<0?0:z>1?1:z)-(G=z<=.5?z*(1+C):z+C-z*C),new jt(ie(le+120),ie(le),ie(le-120))}function Lt(le,C,z){return this instanceof Lt?(this.h=+le,this.c=+C,void(this.l=+z)):arguments.length<2?le instanceof Lt?new Lt(le.h,le.c,le.l):ze(le instanceof pt?le.l:(le=ar((le=g.rgb(le)).r,le.g,le.b)).l,le.a,le.b):new Lt(le,C,z)}kt.brighter=function(le){return le=Math.pow(.7,arguments.length?le:1),new ut(this.h,this.s,this.l/le)},kt.darker=function(le){return le=Math.pow(.7,arguments.length?le:1),new ut(this.h,this.s,le*this.l)},kt.rgb=function(){return ot(this.h,this.s,this.l)},g.hcl=Lt;var Et=Lt.prototype=new ht;function Ze(le,C,z){return isNaN(le)&&(le=0),isNaN(C)&&(C=0),new pt(z,Math.cos(le*=Re)*C,Math.sin(le)*C)}function pt(le,C,z){return this instanceof pt?(this.l=+le,this.a=+C,void(this.b=+z)):arguments.length<2?le instanceof pt?new pt(le.l,le.a,le.b):le instanceof Lt?Ze(le.h,le.c,le.l):ar((le=jt(le)).r,le.g,le.b):new pt(le,C,z)}Et.brighter=function(le){return new Lt(this.h,this.c,Math.min(100,this.l+Ct*(arguments.length?le:1)))},Et.darker=function(le){return new Lt(this.h,this.c,Math.max(0,this.l-Ct*(arguments.length?le:1)))},Et.rgb=function(){return Ze(this.h,this.c,this.l).rgb()},g.lab=pt;var Ct=18,zt=pt.prototype=new ht;function Gt(le,C,z){var B=(le+16)/116,G=B+C/500,ie=B-z/200;return new jt(Dt(3.2404542*(G=.95047*st(G))-1.5371385*(B=1*st(B))-.4985314*(ie=1.08883*st(ie))),Dt(-.969266*G+1.8760108*B+.041556*ie),Dt(.0556434*G-.2040259*B+1.0572252*ie))}function ze(le,C,z){return le>0?new Lt(Math.atan2(z,C)*Xe,Math.sqrt(C*C+z*z),le):new Lt(NaN,NaN,le)}function st(le){return le>.206893034?le*le*le:(le-4/29)/7.787037}function yt(le){return le>.008856?Math.pow(le,1/3):7.787037*le+4/29}function Dt(le){return Math.round(255*(le<=.00304?12.92*le:1.055*Math.pow(le,1/2.4)-.055))}function jt(le,C,z){return this instanceof jt?(this.r=~~le,this.g=~~C,void(this.b=~~z)):arguments.length<2?le instanceof jt?new jt(le.r,le.g,le.b):vr(""+le,jt,ot):new jt(le,C,z)}function or(le){return new jt(le>>16,le>>8&255,255&le)}function Ut(le){return or(le)+""}zt.brighter=function(le){return new pt(Math.min(100,this.l+Ct*(arguments.length?le:1)),this.a,this.b)},zt.darker=function(le){return new pt(Math.max(0,this.l-Ct*(arguments.length?le:1)),this.a,this.b)},zt.rgb=function(){return Gt(this.l,this.a,this.b)},g.rgb=jt;var Xt=jt.prototype=new ht;function sr(le){return le<16?"0"+Math.max(0,le).toString(16):Math.min(255,le).toString(16)}function vr(le,C,z){var B,G,ie,ue=0,ge=0,ye=0;if(B=/([a-z]+)\((.*)\)/.exec(le=le.toLowerCase()))switch(G=B[2].split(","),B[1]){case"hsl":return z(parseFloat(G[0]),parseFloat(G[1])/100,parseFloat(G[2])/100);case"rgb":return C(hr(G[0]),hr(G[1]),hr(G[2]))}return(ie=Or.get(le))?C(ie.r,ie.g,ie.b):(le==null||le.charAt(0)!=="#"||isNaN(ie=parseInt(le.slice(1),16))||(le.length===4?(ue=(3840&ie)>>4,ue|=ue>>4,ge=240&ie,ge|=ge>>4,ye=15&ie,ye|=ye<<4):le.length===7&&(ue=(16711680&ie)>>16,ge=(65280&ie)>>8,ye=255&ie)),C(ue,ge,ye))}function pr(le,C,z){var B,G,ie=Math.min(le/=255,C/=255,z/=255),ue=Math.max(le,C,z),ge=ue-ie,ye=(ue+ie)/2;return ge?(G=ye<.5?ge/(ue+ie):ge/(2-ue-ie),B=le==ue?(C-z)/ge+(C<z?6:0):C==ue?(z-le)/ge+2:(le-C)/ge+4,B*=60):(B=NaN,G=ye>0&&ye<1?0:B),new ut(B,G,ye)}function ar(le,C,z){var B=yt((.4124564*(le=lr(le))+.3575761*(C=lr(C))+.1804375*(z=lr(z)))/.95047),G=yt((.2126729*le+.7151522*C+.072175*z)/1);return pt(116*G-16,500*(B-G),200*(G-yt((.0193339*le+.119192*C+.9503041*z)/1.08883)))}function lr(le){return(le/=255)<=.04045?le/12.92:Math.pow((le+.055)/1.055,2.4)}function hr(le){var C=parseFloat(le);return le.charAt(le.length-1)==="%"?Math.round(2.55*C):C}Xt.brighter=function(le){le=Math.pow(.7,arguments.length?le:1);var C=this.r,z=this.g,B=this.b,G=30;return C||z||B?(C&&C<G&&(C=G),z&&z<G&&(z=G),B&&B<G&&(B=G),new jt(Math.min(255,C/le),Math.min(255,z/le),Math.min(255,B/le))):new jt(G,G,G)},Xt.darker=function(le){return new jt((le=Math.pow(.7,arguments.length?le:1))*this.r,le*this.g,le*this.b)},Xt.hsl=function(){return pr(this.r,this.g,this.b)},Xt.toString=function(){return"#"+sr(this.r)+sr(this.g)+sr(this.b)};var Or=g.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function dr(le){return typeof le=="function"?le:function(){return le}}function Fr(le){return function(C,z,B){return arguments.length===2&&typeof z=="function"&&(B=z,z=null),tn(C,z,le,B)}}function tn(le,C,z,B){var G={},ie=g.dispatch("beforesend","progress","load","error"),ue={},ge=new XMLHttpRequest,ye=null;function Me(){var je,We=ge.status;if(!We&&function(nt){var bt=nt.responseType;return bt&&bt!=="text"?nt.response:nt.responseText}(ge)||We>=200&&We<300||We===304){try{je=z.call(G,ge)}catch(nt){return void ie.error.call(G,nt)}ie.load.call(G,je)}else ie.error.call(G,ge)}return self.XDomainRequest&&!("withCredentials"in ge)&&/^(http(s)?:)?\/\//.test(le)&&(ge=new XDomainRequest),"onload"in ge?ge.onload=ge.onerror=Me:ge.onreadystatechange=function(){ge.readyState>3&&Me()},ge.onprogress=function(je){var We=g.event;g.event=je;try{ie.progress.call(G,ge)}finally{g.event=We}},G.header=function(je,We){return je=(je+"").toLowerCase(),arguments.length<2?ue[je]:(We==null?delete ue[je]:ue[je]=We+"",G)},G.mimeType=function(je){return arguments.length?(C=je==null?null:je+"",G):C},G.responseType=function(je){return arguments.length?(ye=je,G):ye},G.response=function(je){return z=je,G},["get","post"].forEach(function(je){G[je]=function(){return G.send.apply(G,[je].concat(b(arguments)))}}),G.send=function(je,We,nt){if(arguments.length===2&&typeof We=="function"&&(nt=We,We=null),ge.open(je,le,!0),C==null||"accept"in ue||(ue.accept=C+",*/*"),ge.setRequestHeader)for(var bt in ue)ge.setRequestHeader(bt,ue[bt]);return C!=null&&ge.overrideMimeType&&ge.overrideMimeType(C),ye!=null&&(ge.responseType=ye),nt!=null&&G.on("error",nt).on("load",function(At){nt(null,At)}),ie.beforesend.call(G,ge),ge.send(We??null),G},G.abort=function(){return ge.abort(),G},g.rebind(G,ie,"on"),B==null?G:G.get(function(je){return je.length===1?function(We,nt){je(We==null?nt:null)}:je}(B))}Or.forEach(function(le,C){Or.set(le,or(C))}),g.functor=dr,g.xhr=Fr(E),g.dsv=function(le,C){var z=new RegExp('["'+le+`
]`),B=le.charCodeAt(0);function G(Me,je,We){arguments.length<3&&(We=je,je=null);var nt=tn(Me,C,je==null?ie:ue(je),We);return nt.row=function(bt){return arguments.length?nt.response((je=bt)==null?ie:ue(bt)):je},nt}function ie(Me){return G.parse(Me.responseText)}function ue(Me){return function(je){return G.parse(je.responseText,Me)}}function ge(Me){return Me.map(ye).join(le)}function ye(Me){return z.test(Me)?'"'+Me.replace(/\"/g,'""')+'"':Me}return G.parse=function(Me,je){var We;return G.parseRows(Me,function(nt,bt){if(We)return We(nt,bt-1);var At=function(_t){for(var wt={},xt=nt.length,Ft=0;Ft<xt;++Ft)wt[nt[Ft]]=_t[Ft];return wt};We=je?function(_t,wt){return je(At(_t),wt)}:At})},G.parseRows=function(Me,je){var We,nt,bt={},At={},_t=[],wt=Me.length,xt=0,Ft=0;function Ot(){if(xt>=wt)return At;if(nt)return nt=!1,bt;var er=xt;if(Me.charCodeAt(er)===34){for(var fr=er;fr++<wt;)if(Me.charCodeAt(fr)===34){if(Me.charCodeAt(fr+1)!==34)break;++fr}return xt=fr+2,(kr=Me.charCodeAt(fr+1))===13?(nt=!0,Me.charCodeAt(fr+2)===10&&++xt):kr===10&&(nt=!0),Me.slice(er+1,fr).replace(/""/g,'"')}for(;xt<wt;){var kr,Tr=1;if((kr=Me.charCodeAt(xt++))===10)nt=!0;else if(kr===13)nt=!0,Me.charCodeAt(xt)===10&&(++xt,++Tr);else if(kr!==B)continue;return Me.slice(er,xt-Tr)}return Me.slice(er)}for(;(We=Ot())!==At;){for(var Nt=[];We!==bt&&We!==At;)Nt.push(We),We=Ot();je&&(Nt=je(Nt,Ft++))==null||_t.push(Nt)}return _t},G.format=function(Me){if(Array.isArray(Me[0]))return G.formatRows(Me);var je=new S,We=[];return Me.forEach(function(nt){for(var bt in nt)je.has(bt)||We.push(je.add(bt))}),[We.map(ye).join(le)].concat(Me.map(function(nt){return We.map(function(bt){return ye(nt[bt])}).join(le)})).join(`
`)},G.formatRows=function(Me){return Me.map(ge).join(`
`)},G},g.csv=g.dsv(",","text/csv"),g.tsv=g.dsv("	","text/tab-separated-values");var rn,An,Ln,_n,Vr=this[F(this,"requestAnimationFrame")]||function(le){setTimeout(le,17)};function Ir(le,C,z){var B=arguments.length;B<2&&(C=0),B<3&&(z=Date.now());var G=z+C,ie={c:le,t:G,n:null};return An?An.n=ie:rn=ie,An=ie,Ln||(_n=clearTimeout(_n),Ln=1,Vr(xr)),ie}function xr(){var le=Nr(),C=en()-le;C>24?(isFinite(C)&&(clearTimeout(_n),_n=setTimeout(xr,C)),Ln=0):(Ln=1,Vr(xr))}function Nr(){for(var le=Date.now(),C=rn;C;)le>=C.t&&C.c(le-C.t)&&(C.c=null),C=C.n;return le}function en(){for(var le,C=rn,z=1/0;C;)C.c?(C.t<z&&(z=C.t),C=(le=C).n):C=le?le.n=C.n:rn=C.n;return An=le,z}function Qr(le){return le[0]}function yn(le){return le[1]}function un(le){for(var C,z,B,G=le.length,ie=[0,1],ue=2,ge=2;ge<G;ge++){for(;ue>1&&(C=le[ie[ue-2]],z=le[ie[ue-1]],B=le[ge],(z[0]-C[0])*(B[1]-C[1])-(z[1]-C[1])*(B[0]-C[0])<=0);)--ue;ie[ue++]=ge}return ie.slice(0,ue)}function $r(le,C){return le[0]-C[0]||le[1]-C[1]}g.timer=function(){Ir.apply(this,arguments)},g.timer.flush=function(){Nr(),en()},g.round=function(le,C){return C?Math.round(le*(C=Math.pow(10,C)))/C:Math.round(le)},g.geom={},g.geom.hull=function(le){var C=Qr,z=yn;if(arguments.length)return B(le);function B(G){if(G.length<3)return[];var ie,ue=dr(C),ge=dr(z),ye=G.length,Me=[],je=[];for(ie=0;ie<ye;ie++)Me.push([+ue.call(this,G[ie],ie),+ge.call(this,G[ie],ie),ie]);for(Me.sort($r),ie=0;ie<ye;ie++)je.push([Me[ie][0],-Me[ie][1]]);var We=un(Me),nt=un(je),bt=nt[0]===We[0],At=nt[nt.length-1]===We[We.length-1],_t=[];for(ie=We.length-1;ie>=0;--ie)_t.push(G[Me[We[ie]][2]]);for(ie=+bt;ie<nt.length-At;++ie)_t.push(G[Me[nt[ie]][2]]);return _t}return B.x=function(G){return arguments.length?(C=G,B):C},B.y=function(G){return arguments.length?(z=G,B):z},B},g.geom.polygon=function(le){return N(le,In),le};var In=g.geom.polygon.prototype=[];function Qt(le,C,z){return(z[0]-C[0])*(le[1]-C[1])<(z[1]-C[1])*(le[0]-C[0])}function Pt(le,C,z,B){var G=le[0],ie=z[0],ue=C[0]-G,ge=B[0]-ie,ye=le[1],Me=z[1],je=C[1]-ye,We=B[1]-Me,nt=(ge*(ye-Me)-We*(G-ie))/(We*ue-ge*je);return[G+nt*ue,ye+nt*je]}function Yt(le){var C=le[0],z=le[le.length-1];return!(C[0]-z[0]||C[1]-z[1])}In.area=function(){for(var le,C=-1,z=this.length,B=this[z-1],G=0;++C<z;)le=B,B=this[C],G+=le[1]*B[0]-le[0]*B[1];return .5*G},In.centroid=function(le){var C,z,B=-1,G=this.length,ie=0,ue=0,ge=this[G-1];for(arguments.length||(le=-1/(6*this.area()));++B<G;)C=ge,ge=this[B],z=C[0]*ge[1]-ge[0]*C[1],ie+=(C[0]+ge[0])*z,ue+=(C[1]+ge[1])*z;return[ie*le,ue*le]},In.clip=function(le){for(var C,z,B,G,ie,ue,ge=Yt(le),ye=-1,Me=this.length-Yt(this),je=this[Me-1];++ye<Me;){for(C=le.slice(),le.length=0,G=this[ye],ie=C[(B=C.length-ge)-1],z=-1;++z<B;)Qt(ue=C[z],je,G)?(Qt(ie,je,G)||le.push(Pt(ie,ue,je,G)),le.push(ue)):Qt(ie,je,G)&&le.push(Pt(ie,ue,je,G)),ie=ue;ge&&le.push(le[0]),je=G}return le};var cr,wr,qr,Ur,br,_r=[],Ar=[];function Mr(){ei(this),this.edge=this.site=this.circle=null}function Cr(le){var C=_r.pop()||new Mr;return C.site=le,C}function Gr(le){Pn(le),qr.remove(le),_r.push(le),ei(le)}function cn(le){var C=le.circle,z=C.x,B=C.cy,G={x:z,y:B},ie=le.P,ue=le.N,ge=[le];Gr(le);for(var ye=ie;ye.circle&&a(z-ye.circle.x)<Tt&&a(B-ye.circle.cy)<Tt;)ie=ye.P,ge.unshift(ye),Gr(ye),ye=ie;ge.unshift(ye),Pn(ye);for(var Me=ue;Me.circle&&a(z-Me.circle.x)<Tt&&a(B-Me.circle.cy)<Tt;)ue=Me.N,ge.push(Me),Gr(Me),Me=ue;ge.push(Me),Pn(Me);var je,We=ge.length;for(je=1;je<We;++je)Me=ge[je],ye=ge[je-1],ua(Me.edge,ye.site,Me.site,G);ye=ge[0],(Me=ge[We-1]).edge=vn(ye.site,Me.site,null,G),pn(ye),pn(Me)}function wn(le){for(var C,z,B,G,ie=le.x,ue=le.y,ge=qr._;ge;)if((B=Kr(ge,ue)-ie)>Tt)ge=ge.L;else{if(!((G=ie-bn(ge,ue))>Tt)){B>-Tt?(C=ge.P,z=ge):G>-Tt?(C=ge,z=ge.N):C=z=ge;break}if(!ge.R){C=ge;break}ge=ge.R}var ye=Cr(le);if(qr.insert(C,ye),C||z){if(C===z)return Pn(C),z=Cr(C.site),qr.insert(ye,z),ye.edge=z.edge=vn(C.site,ye.site),pn(C),void pn(z);if(z){Pn(C),Pn(z);var Me=C.site,je=Me.x,We=Me.y,nt=le.x-je,bt=le.y-We,At=z.site,_t=At.x-je,wt=At.y-We,xt=2*(nt*wt-bt*_t),Ft=nt*nt+bt*bt,Ot=_t*_t+wt*wt,Nt={x:(wt*Ft-bt*Ot)/xt+je,y:(nt*Ot-_t*Ft)/xt+We};ua(z.edge,Me,At,Nt),ye.edge=vn(Me,le,null,Nt),z.edge=vn(le,At,null,Nt),pn(C),pn(z)}else ye.edge=vn(C.site,ye.site)}}function Kr(le,C){var z=le.site,B=z.x,G=z.y,ie=G-C;if(!ie)return B;var ue=le.P;if(!ue)return-1/0;var ge=(z=ue.site).x,ye=z.y,Me=ye-C;if(!Me)return ge;var je=ge-B,We=1/ie-1/Me,nt=je/Me;return We?(-nt+Math.sqrt(nt*nt-2*We*(je*je/(-2*Me)-ye+Me/2+G-ie/2)))/We+B:(B+ge)/2}function bn(le,C){var z=le.N;if(z)return Kr(z,C);var B=le.site;return B.y===C?B.x:1/0}function zr(le){this.site=le,this.edges=[]}function Wr(le,C){return C.angle-le.angle}function mn(){ei(this),this.x=this.y=this.arc=this.site=this.cy=null}function pn(le){var C=le.P,z=le.N;if(C&&z){var B=C.site,G=le.site,ie=z.site;if(B!==ie){var ue=G.x,ge=G.y,ye=B.x-ue,Me=B.y-ge,je=ie.x-ue,We=2*(ye*(wt=ie.y-ge)-Me*je);if(!(We>=-1e-12)){var nt=ye*ye+Me*Me,bt=je*je+wt*wt,At=(wt*nt-Me*bt)/We,_t=(ye*bt-je*nt)/We,wt=_t+ge,xt=Ar.pop()||new mn;xt.arc=le,xt.site=G,xt.x=At+ue,xt.y=wt+Math.sqrt(At*At+_t*_t),xt.cy=wt,le.circle=xt;for(var Ft=null,Ot=br._;Ot;)if(xt.y<Ot.y||xt.y===Ot.y&&xt.x<=Ot.x){if(!Ot.L){Ft=Ot.P;break}Ot=Ot.L}else{if(!Ot.R){Ft=Ot;break}Ot=Ot.R}br.insert(Ft,xt),Ft||(Ur=xt)}}}}function Pn(le){var C=le.circle;C&&(C.P||(Ur=C.N),br.remove(C),Ar.push(C),ei(C),le.circle=null)}function aa(le,C){var z=le.b;if(z)return!0;var B,G,ie=le.a,ue=C[0][0],ge=C[1][0],ye=C[0][1],Me=C[1][1],je=le.l,We=le.r,nt=je.x,bt=je.y,At=We.x,_t=We.y,wt=(nt+At)/2,xt=(bt+_t)/2;if(_t===bt){if(wt<ue||wt>=ge)return;if(nt>At){if(ie){if(ie.y>=Me)return}else ie={x:wt,y:ye};z={x:wt,y:Me}}else{if(ie){if(ie.y<ye)return}else ie={x:wt,y:Me};z={x:wt,y:ye}}}else if(G=xt-(B=(nt-At)/(_t-bt))*wt,B<-1||B>1)if(nt>At){if(ie){if(ie.y>=Me)return}else ie={x:(ye-G)/B,y:ye};z={x:(Me-G)/B,y:Me}}else{if(ie){if(ie.y<ye)return}else ie={x:(Me-G)/B,y:Me};z={x:(ye-G)/B,y:ye}}else if(bt<_t){if(ie){if(ie.x>=ge)return}else ie={x:ue,y:B*ue+G};z={x:ge,y:B*ge+G}}else{if(ie){if(ie.x<ue)return}else ie={x:ge,y:B*ge+G};z={x:ue,y:B*ue+G}}return le.a=ie,le.b=z,!0}function qn(le,C){this.l=le,this.r=C,this.a=this.b=null}function vn(le,C,z,B){var G=new qn(le,C);return cr.push(G),z&&ua(G,le,C,z),B&&ua(G,C,le,B),wr[le.i].edges.push(new Ya(G,le,C)),wr[C.i].edges.push(new Ya(G,C,le)),G}function ea(le,C,z){var B=new qn(le,null);return B.a=C,B.b=z,cr.push(B),B}function ua(le,C,z,B){le.a||le.b?le.l===z?le.b=B:le.a=B:(le.a=B,le.l=C,le.r=z)}function Ya(le,C,z){var B=le.a,G=le.b;this.edge=le,this.site=C,this.angle=z?Math.atan2(z.y-C.y,z.x-C.x):le.l===C?Math.atan2(G.x-B.x,B.y-G.y):Math.atan2(B.x-G.x,G.y-B.y)}function Ei(){this._=null}function ei(le){le.U=le.C=le.L=le.R=le.P=le.N=null}function gi(le,C){var z=C,B=C.R,G=z.U;G?G.L===z?G.L=B:G.R=B:le._=B,B.U=G,z.U=B,z.R=B.L,z.R&&(z.R.U=z),B.L=z}function ka(le,C){var z=C,B=C.L,G=z.U;G?G.L===z?G.L=B:G.R=B:le._=B,B.U=G,z.U=B,z.L=B.R,z.L&&(z.L.U=z),B.R=z}function Fa(le){for(;le.L;)le=le.L;return le}function so(le,C){var z,B,G,ie=le.sort(Do).pop();for(cr=[],wr=new Array(le.length),qr=new Ei,br=new Ei;;)if(G=Ur,ie&&(!G||ie.y<G.y||ie.y===G.y&&ie.x<G.x))ie.x===z&&ie.y===B||(wr[ie.i]=new zr(ie),wn(ie),z=ie.x,B=ie.y),ie=le.pop();else{if(!G)break;cn(G.arc)}C&&(function(ge){for(var ye,Me,je,We,nt,bt=cr,At=(Me=ge[0][0],je=ge[0][1],We=ge[1][0],nt=ge[1][1],function(wt){var xt,Ft=wt.a,Ot=wt.b,Nt=Ft.x,er=Ft.y,fr=0,kr=1,Tr=Ot.x-Nt,Jr=Ot.y-er;if(xt=Me-Nt,Tr||!(xt>0)){if(xt/=Tr,Tr<0){if(xt<fr)return;xt<kr&&(kr=xt)}else if(Tr>0){if(xt>kr)return;xt>fr&&(fr=xt)}if(xt=We-Nt,Tr||!(xt<0)){if(xt/=Tr,Tr<0){if(xt>kr)return;xt>fr&&(fr=xt)}else if(Tr>0){if(xt<fr)return;xt<kr&&(kr=xt)}if(xt=je-er,Jr||!(xt>0)){if(xt/=Jr,Jr<0){if(xt<fr)return;xt<kr&&(kr=xt)}else if(Jr>0){if(xt>kr)return;xt>fr&&(fr=xt)}if(xt=nt-er,Jr||!(xt<0)){if(xt/=Jr,Jr<0){if(xt>kr)return;xt>fr&&(fr=xt)}else if(Jr>0){if(xt<fr)return;xt<kr&&(kr=xt)}return fr>0&&(wt.a={x:Nt+fr*Tr,y:er+fr*Jr}),kr<1&&(wt.b={x:Nt+kr*Tr,y:er+kr*Jr}),wt}}}}}),_t=bt.length;_t--;)(!aa(ye=bt[_t],ge)||!At(ye)||a(ye.a.x-ye.b.x)<Tt&&a(ye.a.y-ye.b.y)<Tt)&&(ye.a=ye.b=null,bt.splice(_t,1))}(C),function(ge){for(var ye,Me,je,We,nt,bt,At,_t,wt,xt,Ft=ge[0][0],Ot=ge[1][0],Nt=ge[0][1],er=ge[1][1],fr=wr,kr=fr.length;kr--;)if((nt=fr[kr])&&nt.prepare())for(_t=(At=nt.edges).length,bt=0;bt<_t;)je=(xt=At[bt].end()).x,We=xt.y,ye=(wt=At[++bt%_t].start()).x,Me=wt.y,(a(je-ye)>Tt||a(We-Me)>Tt)&&(At.splice(bt,0,new Ya(ea(nt.site,xt,a(je-Ft)<Tt&&er-We>Tt?{x:Ft,y:a(ye-Ft)<Tt?Me:er}:a(We-er)<Tt&&Ot-je>Tt?{x:a(Me-er)<Tt?ye:Ot,y:er}:a(je-Ot)<Tt&&We-Nt>Tt?{x:Ot,y:a(ye-Ot)<Tt?Me:Nt}:a(We-Nt)<Tt&&je-Ft>Tt?{x:a(Me-Nt)<Tt?ye:Ft,y:Nt}:null),nt.site,null)),++_t)}(C));var ue={cells:wr,edges:cr};return qr=br=cr=wr=null,ue}function Do(le,C){return C.y-le.y||C.x-le.x}zr.prototype.prepare=function(){for(var le,C=this.edges,z=C.length;z--;)(le=C[z].edge).b&&le.a||C.splice(z,1);return C.sort(Wr),C.length},Ya.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Ei.prototype={insert:function(le,C){var z,B,G;if(le){if(C.P=le,C.N=le.N,le.N&&(le.N.P=C),le.N=C,le.R){for(le=le.R;le.L;)le=le.L;le.L=C}else le.R=C;z=le}else this._?(le=Fa(this._),C.P=null,C.N=le,le.P=le.L=C,z=le):(C.P=C.N=null,this._=C,z=null);for(C.L=C.R=null,C.U=z,C.C=!0,le=C;z&&z.C;)z===(B=z.U).L?(G=B.R)&&G.C?(z.C=G.C=!1,B.C=!0,le=B):(le===z.R&&(gi(this,z),z=(le=z).U),z.C=!1,B.C=!0,ka(this,B)):(G=B.L)&&G.C?(z.C=G.C=!1,B.C=!0,le=B):(le===z.L&&(ka(this,z),z=(le=z).U),z.C=!1,B.C=!0,gi(this,B)),z=le.U;this._.C=!1},remove:function(le){le.N&&(le.N.P=le.P),le.P&&(le.P.N=le.N),le.N=le.P=null;var C,z,B,G=le.U,ie=le.L,ue=le.R;if(z=ie?ue?Fa(ue):ie:ue,G?G.L===le?G.L=z:G.R=z:this._=z,ie&&ue?(B=z.C,z.C=le.C,z.L=ie,ie.U=z,z!==ue?(G=z.U,z.U=le.U,le=z.R,G.L=le,z.R=ue,ue.U=z):(z.U=G,G=z,le=z.R)):(B=le.C,le=z),le&&(le.U=G),!B)if(le&&le.C)le.C=!1;else{do{if(le===this._)break;if(le===G.L){if((C=G.R).C&&(C.C=!1,G.C=!0,gi(this,G),C=G.R),C.L&&C.L.C||C.R&&C.R.C){C.R&&C.R.C||(C.L.C=!1,C.C=!0,ka(this,C),C=G.R),C.C=G.C,G.C=C.R.C=!1,gi(this,G),le=this._;break}}else if((C=G.L).C&&(C.C=!1,G.C=!0,ka(this,G),C=G.L),C.L&&C.L.C||C.R&&C.R.C){C.L&&C.L.C||(C.R.C=!1,C.C=!0,gi(this,C),C=G.L),C.C=G.C,G.C=C.L.C=!1,ka(this,G),le=this._;break}C.C=!0,le=G,G=G.U}while(!le.C);le&&(le.C=!1)}}},g.geom.voronoi=function(le){var C=Qr,z=yn,B=C,G=z,ie=qo;if(le)return ue(le);function ue(ye){var Me=new Array(ye.length),je=ie[0][0],We=ie[0][1],nt=ie[1][0],bt=ie[1][1];return so(ge(ye),ie).cells.forEach(function(At,_t){var wt=At.edges,xt=At.site;(Me[_t]=wt.length?wt.map(function(Ft){var Ot=Ft.start();return[Ot.x,Ot.y]}):xt.x>=je&&xt.x<=nt&&xt.y>=We&&xt.y<=bt?[[je,bt],[nt,bt],[nt,We],[je,We]]:[]).point=ye[_t]}),Me}function ge(ye){return ye.map(function(Me,je){return{x:Math.round(B(Me,je)/Tt)*Tt,y:Math.round(G(Me,je)/Tt)*Tt,i:je}})}return ue.links=function(ye){return so(ge(ye)).edges.filter(function(Me){return Me.l&&Me.r}).map(function(Me){return{source:ye[Me.l.i],target:ye[Me.r.i]}})},ue.triangles=function(ye){var Me=[];return so(ge(ye)).cells.forEach(function(je,We){for(var nt,bt,At,_t,wt=je.site,xt=je.edges.sort(Wr),Ft=-1,Ot=xt.length,Nt=xt[Ot-1].edge,er=Nt.l===wt?Nt.r:Nt.l;++Ft<Ot;)nt=er,er=(Nt=xt[Ft].edge).l===wt?Nt.r:Nt.l,We<nt.i&&We<er.i&&(At=nt,_t=er,((bt=wt).x-_t.x)*(At.y-bt.y)-(bt.x-At.x)*(_t.y-bt.y)<0)&&Me.push([ye[We],ye[nt.i],ye[er.i]])}),Me},ue.x=function(ye){return arguments.length?(B=dr(C=ye),ue):C},ue.y=function(ye){return arguments.length?(G=dr(z=ye),ue):z},ue.clipExtent=function(ye){return arguments.length?(ie=ye??qo,ue):ie===qo?null:ie},ue.size=function(ye){return arguments.length?ue.clipExtent(ye&&[[0,0],ye]):ie===qo?null:ie&&ie[1]},ue};var qo=[[-1e6,-1e6],[1e6,1e6]];function Vi(le){return le.x}function Gi(le){return le.y}function Ro(le,C,z,B,G,ie){if(!le(C,z,B,G,ie)){var ue=.5*(z+G),ge=.5*(B+ie),ye=C.nodes;ye[0]&&Ro(le,ye[0],z,B,ue,ge),ye[1]&&Ro(le,ye[1],ue,B,G,ge),ye[2]&&Ro(le,ye[2],z,ge,ue,ie),ye[3]&&Ro(le,ye[3],ue,ge,G,ie)}}function ja(le,C,z,B,G,ie,ue){var ge,ye=1/0;return function Me(je,We,nt,bt,At){if(!(We>ie||nt>ue||bt<B||At<G)){if(_t=je.point){var _t,wt=C-je.x,xt=z-je.y,Ft=wt*wt+xt*xt;if(Ft<ye){var Ot=Math.sqrt(ye=Ft);B=C-Ot,G=z-Ot,ie=C+Ot,ue=z+Ot,ge=_t}}for(var Nt=je.nodes,er=.5*(We+bt),fr=.5*(nt+At),kr=(z>=fr)<<1|C>=er,Tr=kr+4;kr<Tr;++kr)if(je=Nt[3&kr])switch(3&kr){case 0:Me(je,We,nt,er,fr);break;case 1:Me(je,er,nt,bt,fr);break;case 2:Me(je,We,fr,er,At);break;case 3:Me(je,er,fr,bt,At)}}}(le,B,G,ie,ue),ge}function wo(le,C){le=g.rgb(le),C=g.rgb(C);var z=le.r,B=le.g,G=le.b,ie=C.r-z,ue=C.g-B,ge=C.b-G;return function(ye){return"#"+sr(Math.round(z+ie*ye))+sr(Math.round(B+ue*ye))+sr(Math.round(G+ge*ye))}}function lo(le,C){var z,B={},G={};for(z in le)z in C?B[z]=Ii(le[z],C[z]):G[z]=le[z];for(z in C)z in le||(G[z]=C[z]);return function(ie){for(z in B)G[z]=B[z](ie);return G}}function mi(le,C){return le=+le,C=+C,function(z){return le*(1-z)+C*z}}function Yi(le,C){var z,B,G,ie=co.lastIndex=xo.lastIndex=0,ue=-1,ge=[],ye=[];for(le+="",C+="";(z=co.exec(le))&&(B=xo.exec(C));)(G=B.index)>ie&&(G=C.slice(ie,G),ge[ue]?ge[ue]+=G:ge[++ue]=G),(z=z[0])===(B=B[0])?ge[ue]?ge[ue]+=B:ge[++ue]=B:(ge[++ue]=null,ye.push({i:ue,x:mi(z,B)})),ie=xo.lastIndex;return ie<C.length&&(G=C.slice(ie),ge[ue]?ge[ue]+=G:ge[++ue]=G),ge.length<2?ye[0]?(C=ye[0].x,function(Me){return C(Me)+""}):function(){return C}:(C=ye.length,function(Me){for(var je,We=0;We<C;++We)ge[(je=ye[We]).i]=je.x(Me);return ge.join("")})}g.geom.delaunay=function(le){return g.geom.voronoi().triangles(le)},g.geom.quadtree=function(le,C,z,B,G){var ie,ue=Qr,ge=yn;if(ie=arguments.length)return ue=Vi,ge=Gi,ie===3&&(G=z,B=C,z=C=0),ye(le);function ye(Me){var je,We,nt,bt,At,_t,wt,xt,Ft,Ot=dr(ue),Nt=dr(ge);if(C!=null)_t=C,wt=z,xt=B,Ft=G;else if(xt=Ft=-(_t=wt=1/0),We=[],nt=[],At=Me.length,ie)for(bt=0;bt<At;++bt)(je=Me[bt]).x<_t&&(_t=je.x),je.y<wt&&(wt=je.y),je.x>xt&&(xt=je.x),je.y>Ft&&(Ft=je.y),We.push(je.x),nt.push(je.y);else for(bt=0;bt<At;++bt){var er=+Ot(je=Me[bt],bt),fr=+Nt(je,bt);er<_t&&(_t=er),fr<wt&&(wt=fr),er>xt&&(xt=er),fr>Ft&&(Ft=fr),We.push(er),nt.push(fr)}var kr=xt-_t,Tr=Ft-wt;function Jr(on,Nn,Gn,oa,jr,Mn,Yn,Vn){if(!isNaN(Gn)&&!isNaN(oa))if(on.leaf){var Qn=on.x,la=on.y;if(Qn!=null)if(a(Qn-Gn)+a(la-oa)<.01)Xr(on,Nn,Gn,oa,jr,Mn,Yn,Vn);else{var wa=on.point;on.x=on.y=on.point=null,Xr(on,wa,Qn,la,jr,Mn,Yn,Vn),Xr(on,Nn,Gn,oa,jr,Mn,Yn,Vn)}else on.x=Gn,on.y=oa,on.point=Nn}else Xr(on,Nn,Gn,oa,jr,Mn,Yn,Vn)}function Xr(on,Nn,Gn,oa,jr,Mn,Yn,Vn){var Qn=.5*(jr+Yn),la=.5*(Mn+Vn),wa=Gn>=Qn,Zn=oa>=la,ma=Zn<<1|wa;on.leaf=!1,wa?jr=Qn:Yn=Qn,Zn?Mn=la:Vn=la,Jr(on=on.nodes[ma]||(on.nodes[ma]={leaf:!0,nodes:[],point:null,x:null,y:null}),Nn,Gn,oa,jr,Mn,Yn,Vn)}kr>Tr?Ft=wt+kr:xt=_t+Tr;var hn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(on){Jr(hn,on,+Ot(on,++bt),+Nt(on,bt),_t,wt,xt,Ft)},visit:function(on){Ro(on,hn,_t,wt,xt,Ft)},find:function(on){return ja(hn,on[0],on[1],_t,wt,xt,Ft)}};if(bt=-1,C==null){for(;++bt<At;)Jr(hn,Me[bt],We[bt],nt[bt],_t,wt,xt,Ft);--bt}else Me.forEach(hn.add);return We=nt=Me=je=null,hn}return ye.x=function(Me){return arguments.length?(ue=Me,ye):ue},ye.y=function(Me){return arguments.length?(ge=Me,ye):ge},ye.extent=function(Me){return arguments.length?(Me==null?C=z=B=G=null:(C=+Me[0][0],z=+Me[0][1],B=+Me[1][0],G=+Me[1][1]),ye):C==null?null:[[C,z],[B,G]]},ye.size=function(Me){return arguments.length?(Me==null?C=z=B=G=null:(C=z=0,B=+Me[0],G=+Me[1]),ye):C==null?null:[B-C,G-z]},ye},g.interpolateRgb=wo,g.interpolateObject=lo,g.interpolateNumber=mi,g.interpolateString=Yi;var co=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xo=new RegExp(co.source,"g");function Ii(le,C){for(var z,B=g.interpolators.length;--B>=0&&!(z=g.interpolators[B](le,C)););return z}function li(le,C){var z,B=[],G=[],ie=le.length,ue=C.length,ge=Math.min(le.length,C.length);for(z=0;z<ge;++z)B.push(Ii(le[z],C[z]));for(;z<ie;++z)G[z]=le[z];for(;z<ue;++z)G[z]=C[z];return function(ye){for(z=0;z<ge;++z)G[z]=B[z](ye);return G}}g.interpolate=Ii,g.interpolators=[function(le,C){var z=typeof C;return(z==="string"?Or.has(C.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(C)?wo:Yi:C instanceof ht?wo:Array.isArray(C)?li:z==="object"&&isNaN(C)?lo:mi)(le,C)}],g.interpolateArray=li;var Hi=function(){return E},gs=g.map({linear:Hi,poly:function(le){return function(C){return Math.pow(C,le)}},quad:function(){return _s},cubic:function(){return ws},sin:function(){return Ts},exp:function(){return To},circle:function(){return ko},elastic:function(le,C){var z;return arguments.length<2&&(C=.45),arguments.length?z=C/Kt*Math.asin(1/le):(le=1,z=C/4),function(B){return 1+le*Math.pow(2,-10*B)*Math.sin((B-z)*Kt/C)}},back:function(le){return le||(le=1.70158),function(C){return C*C*((le+1)*C-le)}},bounce:function(){return Fo}}),bs=g.map({in:E,out:ls,"in-out":Xo,"out-in":function(le){return Xo(ls(le))}});function Ua(le){return function(C){return C<=0?0:C>=1?1:le(C)}}function ls(le){return function(C){return 1-le(1-C)}}function Xo(le){return function(C){return .5*(C<.5?le(2*C):2-le(2-2*C))}}function _s(le){return le*le}function ws(le){return le*le*le}function ms(le){if(le<=0)return 0;if(le>=1)return 1;var C=le*le,z=C*le;return 4*(le<.5?z:3*(le-C)+z-.75)}function Ts(le){return 1-Math.cos(le*qe)}function To(le){return Math.pow(2,10*(le-1))}function ko(le){return 1-Math.sqrt(1-le*le)}function Fo(le){return le<1/2.75?7.5625*le*le:le<2/2.75?7.5625*(le-=1.5/2.75)*le+.75:le<2.5/2.75?7.5625*(le-=2.25/2.75)*le+.9375:7.5625*(le-=2.625/2.75)*le+.984375}function Bo(le,C){return C-=le,function(z){return Math.round(le+C*z)}}function No(le){var C,z,B,G=[le.a,le.b],ie=[le.c,le.d],ue=uo(G),ge=Jo(G,ie),ye=uo(((C=ie)[0]+=(B=-ge)*(z=G)[0],C[1]+=B*z[1],C))||0;G[0]*ie[1]<ie[0]*G[1]&&(G[0]*=-1,G[1]*=-1,ue*=-1,ge*=-1),this.rotate=(ue?Math.atan2(G[1],G[0]):Math.atan2(-ie[0],ie[1]))*Xe,this.translate=[le.e,le.f],this.scale=[ue,ye],this.skew=ye?Math.atan2(ge,ye)*Xe:0}function Jo(le,C){return le[0]*C[0]+le[1]*C[1]}function uo(le){var C=Math.sqrt(Jo(le,le));return C&&(le[0]/=C,le[1]/=C),C}g.ease=function(le){var C=le.indexOf("-"),z=C>=0?le.slice(0,C):le,B=C>=0?le.slice(C+1):"in";return z=gs.get(z)||Hi,Ua((B=bs.get(B)||E)(z.apply(null,m.call(arguments,1))))},g.interpolateHcl=function(le,C){le=g.hcl(le),C=g.hcl(C);var z=le.h,B=le.c,G=le.l,ie=C.h-z,ue=C.c-B,ge=C.l-G;return isNaN(ue)&&(ue=0,B=isNaN(B)?C.c:B),isNaN(ie)?(ie=0,z=isNaN(z)?C.h:z):ie>180?ie-=360:ie<-180&&(ie+=360),function(ye){return Ze(z+ie*ye,B+ue*ye,G+ge*ye)+""}},g.interpolateHsl=function(le,C){le=g.hsl(le),C=g.hsl(C);var z=le.h,B=le.s,G=le.l,ie=C.h-z,ue=C.s-B,ge=C.l-G;return isNaN(ue)&&(ue=0,B=isNaN(B)?C.s:B),isNaN(ie)?(ie=0,z=isNaN(z)?C.h:z):ie>180?ie-=360:ie<-180&&(ie+=360),function(ye){return ot(z+ie*ye,B+ue*ye,G+ge*ye)+""}},g.interpolateLab=function(le,C){le=g.lab(le),C=g.lab(C);var z=le.l,B=le.a,G=le.b,ie=C.l-z,ue=C.a-B,ge=C.b-G;return function(ye){return Gt(z+ie*ye,B+ue*ye,G+ge*ye)+""}},g.interpolateRound=Bo,g.transform=function(le){var C=v.createElementNS(g.ns.prefix.svg,"g");return(g.transform=function(z){if(z!=null){C.setAttribute("transform",z);var B=C.transform.baseVal.consolidate()}return new No(B?B.matrix:cs)})(le)},No.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var cs={a:1,b:0,c:0,d:1,e:0,f:0};function ao(le){return le.length?le.pop()+",":""}function jo(le,C){var z=[],B=[];return le=g.transform(le),C=g.transform(C),function(G,ie,ue,ge){if(G[0]!==ie[0]||G[1]!==ie[1]){var ye=ue.push("translate(",null,",",null,")");ge.push({i:ye-4,x:mi(G[0],ie[0])},{i:ye-2,x:mi(G[1],ie[1])})}else(ie[0]||ie[1])&&ue.push("translate("+ie+")")}(le.translate,C.translate,z,B),function(G,ie,ue,ge){G!==ie?(G-ie>180?ie+=360:ie-G>180&&(G+=360),ge.push({i:ue.push(ao(ue)+"rotate(",null,")")-2,x:mi(G,ie)})):ie&&ue.push(ao(ue)+"rotate("+ie+")")}(le.rotate,C.rotate,z,B),function(G,ie,ue,ge){G!==ie?ge.push({i:ue.push(ao(ue)+"skewX(",null,")")-2,x:mi(G,ie)}):ie&&ue.push(ao(ue)+"skewX("+ie+")")}(le.skew,C.skew,z,B),function(G,ie,ue,ge){if(G[0]!==ie[0]||G[1]!==ie[1]){var ye=ue.push(ao(ue)+"scale(",null,",",null,")");ge.push({i:ye-4,x:mi(G[0],ie[0])},{i:ye-2,x:mi(G[1],ie[1])})}else ie[0]===1&&ie[1]===1||ue.push(ao(ue)+"scale("+ie+")")}(le.scale,C.scale,z,B),le=C=null,function(G){for(var ie,ue=-1,ge=B.length;++ue<ge;)z[(ie=B[ue]).i]=ie.x(G);return z.join("")}}function us(le,C){return C=(C-=le=+le)||1/C,function(z){return(z-le)/C}}function Mo(le,C){return C=(C-=le=+le)||1/C,function(z){return Math.max(0,Math.min(1,(z-le)/C))}}function Ba(le){for(var C=le.source,z=le.target,B=function(ue,ge){if(ue===ge)return ue;for(var ye=Ne(ue),Me=Ne(ge),je=ye.pop(),We=Me.pop(),nt=null;je===We;)nt=je,je=ye.pop(),We=Me.pop();return nt}(C,z),G=[C];C!==B;)C=C.parent,G.push(C);for(var ie=G.length;z!==B;)G.splice(ie,0,z),z=z.parent;return G}function Ne(le){for(var C=[],z=le.parent;z!=null;)C.push(le),le=z,z=z.parent;return C.push(le),C}function He(le){le.fixed|=2}function $e(le){le.fixed&=-7}function at(le){le.fixed|=4,le.px=le.x,le.py=le.y}function mt(le){le.fixed&=-5}g.interpolateTransform=jo,g.layout={},g.layout.bundle=function(){return function(le){for(var C=[],z=-1,B=le.length;++z<B;)C.push(Ba(le[z]));return C}},g.layout.chord=function(){var le,C,z,B,G,ie,ue,ge={},ye=0;function Me(){var We,nt,bt,At,_t,wt={},xt=[],Ft=g.range(B),Ot=[];for(le=[],C=[],We=0,At=-1;++At<B;){for(nt=0,_t=-1;++_t<B;)nt+=z[At][_t];xt.push(nt),Ot.push(g.range(B)),We+=nt}for(G&&Ft.sort(function(hn,on){return G(xt[hn],xt[on])}),ie&&Ot.forEach(function(hn,on){hn.sort(function(Nn,Gn){return ie(z[on][Nn],z[on][Gn])})}),We=(Kt-ye*B)/We,nt=0,At=-1;++At<B;){for(bt=nt,_t=-1;++_t<B;){var Nt=Ft[At],er=Ot[Nt][_t],fr=z[Nt][er],kr=nt,Tr=nt+=fr*We;wt[Nt+"-"+er]={index:Nt,subindex:er,startAngle:kr,endAngle:Tr,value:fr}}C[Nt]={index:Nt,startAngle:bt,endAngle:nt,value:xt[Nt]},nt+=ye}for(At=-1;++At<B;)for(_t=At-1;++_t<B;){var Jr=wt[At+"-"+_t],Xr=wt[_t+"-"+At];(Jr.value||Xr.value)&&le.push(Jr.value<Xr.value?{source:Xr,target:Jr}:{source:Jr,target:Xr})}ue&&je()}function je(){le.sort(function(We,nt){return ue((We.source.value+We.target.value)/2,(nt.source.value+nt.target.value)/2)})}return ge.matrix=function(We){return arguments.length?(B=(z=We)&&z.length,le=C=null,ge):z},ge.padding=function(We){return arguments.length?(ye=We,le=C=null,ge):ye},ge.sortGroups=function(We){return arguments.length?(G=We,le=C=null,ge):G},ge.sortSubgroups=function(We){return arguments.length?(ie=We,le=null,ge):ie},ge.sortChords=function(We){return arguments.length?(ue=We,le&&je(),ge):ue},ge.chords=function(){return le||Me(),le},ge.groups=function(){return C||Me(),C},ge},g.layout.force=function(){var le,C,z,B,G,ie,ue={},ge=g.dispatch("start","tick","end"),ye=[1,1],Me=.9,je=dt,We=Mt,nt=-30,bt=Jt,At=.1,_t=.64,wt=[],xt=[];function Ft(Nt){return function(er,fr,kr,Tr){if(er.point!==Nt){var Jr=er.cx-Nt.x,Xr=er.cy-Nt.y,hn=Tr-fr,on=Jr*Jr+Xr*Xr;if(hn*hn/_t<on){if(on<bt){var Nn=er.charge/on;Nt.px-=Jr*Nn,Nt.py-=Xr*Nn}return!0}er.point&&on&&on<bt&&(Nn=er.pointCharge/on,Nt.px-=Jr*Nn,Nt.py-=Xr*Nn)}return!er.charge}}function Ot(Nt){Nt.px=g.event.x,Nt.py=g.event.y,ue.resume()}return ue.tick=function(){if((z*=.99)<.005)return le=null,ge.end({type:"end",alpha:z=0}),!0;var Nt,er,fr,kr,Tr,Jr,Xr,hn,on,Nn=wt.length,Gn=xt.length;for(er=0;er<Gn;++er)kr=(fr=xt[er]).source,(Jr=(hn=(Tr=fr.target).x-kr.x)*hn+(on=Tr.y-kr.y)*on)&&(hn*=Jr=z*G[er]*((Jr=Math.sqrt(Jr))-B[er])/Jr,on*=Jr,Tr.x-=hn*(Xr=kr.weight+Tr.weight?kr.weight/(kr.weight+Tr.weight):.5),Tr.y-=on*Xr,kr.x+=hn*(Xr=1-Xr),kr.y+=on*Xr);if((Xr=z*At)&&(hn=ye[0]/2,on=ye[1]/2,er=-1,Xr))for(;++er<Nn;)(fr=wt[er]).x+=(hn-fr.x)*Xr,fr.y+=(on-fr.y)*Xr;if(nt)for(function oa(jr,Mn,Yn){var Vn=0,Qn=0;if(jr.charge=0,!jr.leaf)for(var la,wa=jr.nodes,Zn=wa.length,ma=-1;++ma<Zn;)(la=wa[ma])!=null&&(oa(la,Mn,Yn),jr.charge+=la.charge,Vn+=la.charge*la.cx,Qn+=la.charge*la.cy);if(jr.point){jr.leaf||(jr.point.x+=Math.random()-.5,jr.point.y+=Math.random()-.5);var pa=Mn*Yn[jr.point.index];jr.charge+=jr.pointCharge=pa,Vn+=pa*jr.point.x,Qn+=pa*jr.point.y}jr.cx=Vn/jr.charge,jr.cy=Qn/jr.charge}(Nt=g.geom.quadtree(wt),z,ie),er=-1;++er<Nn;)(fr=wt[er]).fixed||Nt.visit(Ft(fr));for(er=-1;++er<Nn;)(fr=wt[er]).fixed?(fr.x=fr.px,fr.y=fr.py):(fr.x-=(fr.px-(fr.px=fr.x))*Me,fr.y-=(fr.py-(fr.py=fr.y))*Me);ge.tick({type:"tick",alpha:z})},ue.nodes=function(Nt){return arguments.length?(wt=Nt,ue):wt},ue.links=function(Nt){return arguments.length?(xt=Nt,ue):xt},ue.size=function(Nt){return arguments.length?(ye=Nt,ue):ye},ue.linkDistance=function(Nt){return arguments.length?(je=typeof Nt=="function"?Nt:+Nt,ue):je},ue.distance=ue.linkDistance,ue.linkStrength=function(Nt){return arguments.length?(We=typeof Nt=="function"?Nt:+Nt,ue):We},ue.friction=function(Nt){return arguments.length?(Me=+Nt,ue):Me},ue.charge=function(Nt){return arguments.length?(nt=typeof Nt=="function"?Nt:+Nt,ue):nt},ue.chargeDistance=function(Nt){return arguments.length?(bt=Nt*Nt,ue):Math.sqrt(bt)},ue.gravity=function(Nt){return arguments.length?(At=+Nt,ue):At},ue.theta=function(Nt){return arguments.length?(_t=Nt*Nt,ue):Math.sqrt(_t)},ue.alpha=function(Nt){return arguments.length?(Nt=+Nt,z?Nt>0?z=Nt:(le.c=null,le.t=NaN,le=null,ge.end({type:"end",alpha:z=0})):Nt>0&&(ge.start({type:"start",alpha:z=Nt}),le=Ir(ue.tick)),ue):z},ue.start=function(){var Nt,er,fr,kr=wt.length,Tr=xt.length,Jr=ye[0],Xr=ye[1];for(Nt=0;Nt<kr;++Nt)(fr=wt[Nt]).index=Nt,fr.weight=0;for(Nt=0;Nt<Tr;++Nt)typeof(fr=xt[Nt]).source=="number"&&(fr.source=wt[fr.source]),typeof fr.target=="number"&&(fr.target=wt[fr.target]),++fr.source.weight,++fr.target.weight;for(Nt=0;Nt<kr;++Nt)fr=wt[Nt],isNaN(fr.x)&&(fr.x=hn("x",Jr)),isNaN(fr.y)&&(fr.y=hn("y",Xr)),isNaN(fr.px)&&(fr.px=fr.x),isNaN(fr.py)&&(fr.py=fr.y);if(B=[],typeof je=="function")for(Nt=0;Nt<Tr;++Nt)B[Nt]=+je.call(this,xt[Nt],Nt);else for(Nt=0;Nt<Tr;++Nt)B[Nt]=je;if(G=[],typeof We=="function")for(Nt=0;Nt<Tr;++Nt)G[Nt]=+We.call(this,xt[Nt],Nt);else for(Nt=0;Nt<Tr;++Nt)G[Nt]=We;if(ie=[],typeof nt=="function")for(Nt=0;Nt<kr;++Nt)ie[Nt]=+nt.call(this,wt[Nt],Nt);else for(Nt=0;Nt<kr;++Nt)ie[Nt]=nt;function hn(on,Nn){if(!er){for(er=new Array(kr),Mn=0;Mn<kr;++Mn)er[Mn]=[];for(Mn=0;Mn<Tr;++Mn){var Gn=xt[Mn];er[Gn.source.index].push(Gn.target),er[Gn.target.index].push(Gn.source)}}for(var oa,jr=er[Nt],Mn=-1,Yn=jr.length;++Mn<Yn;)if(!isNaN(oa=jr[Mn][on]))return oa;return Math.random()*Nn}return ue.resume()},ue.resume=function(){return ue.alpha(.1)},ue.stop=function(){return ue.alpha(0)},ue.drag=function(){if(C||(C=g.behavior.drag().origin(E).on("dragstart.force",He).on("drag.force",Ot).on("dragend.force",$e)),!arguments.length)return C;this.on("mouseover.force",at).on("mouseout.force",mt).call(C)},g.rebind(ue,ge,"on")};var dt=20,Mt=1,Jt=1/0;function $t(le,C){return g.rebind(le,C,"sort","children","value"),le.nodes=le,le.links=Pr,le}function Wt(le,C){for(var z=[le];(le=z.pop())!=null;)if(C(le),(G=le.children)&&(B=G.length))for(var B,G;--B>=0;)z.push(G[B])}function tr(le,C){for(var z=[le],B=[];(le=z.pop())!=null;)if(B.push(le),(ie=le.children)&&(G=ie.length))for(var G,ie,ue=-1;++ue<G;)z.push(ie[ue]);for(;(le=B.pop())!=null;)C(le)}function ur(le){return le.children}function mr(le){return le.value}function yr(le,C){return C.value-le.value}function Pr(le){return g.merge(le.map(function(C){return(C.children||[]).map(function(z){return{source:C,target:z}})}))}g.layout.hierarchy=function(){var le=yr,C=ur,z=mr;function B(G){var ie,ue=[G],ge=[];for(G.depth=0;(ie=ue.pop())!=null;)if(ge.push(ie),(Me=C.call(B,ie,ie.depth))&&(ye=Me.length)){for(var ye,Me,je;--ye>=0;)ue.push(je=Me[ye]),je.parent=ie,je.depth=ie.depth+1;z&&(ie.value=0),ie.children=Me}else z&&(ie.value=+z.call(B,ie,ie.depth)||0),delete ie.children;return tr(G,function(We){var nt,bt;le&&(nt=We.children)&&nt.sort(le),z&&(bt=We.parent)&&(bt.value+=We.value)}),ge}return B.sort=function(G){return arguments.length?(le=G,B):le},B.children=function(G){return arguments.length?(C=G,B):C},B.value=function(G){return arguments.length?(z=G,B):z},B.revalue=function(G){return z&&(Wt(G,function(ie){ie.children&&(ie.value=0)}),tr(G,function(ie){var ue;ie.children||(ie.value=+z.call(B,ie,ie.depth)||0),(ue=ie.parent)&&(ue.value+=ie.value)})),G},B},g.layout.partition=function(){var le=g.layout.hierarchy(),C=[1,1];function z(B,G){var ie=le.call(this,B,G);return function ue(ge,ye,Me,je){var We=ge.children;if(ge.x=ye,ge.y=ge.depth*je,ge.dx=Me,ge.dy=je,We&&(nt=We.length)){var nt,bt,At,_t=-1;for(Me=ge.value?Me/ge.value:0;++_t<nt;)ue(bt=We[_t],ye,At=bt.value*Me,je),ye+=At}}(ie[0],0,C[0],C[1]/function ue(ge){var ye=ge.children,Me=0;if(ye&&(je=ye.length))for(var je,We=-1;++We<je;)Me=Math.max(Me,ue(ye[We]));return 1+Me}(ie[0])),ie}return z.size=function(B){return arguments.length?(C=B,z):C},$t(z,le)},g.layout.pie=function(){var le=Number,C=nn,z=0,B=Kt,G=0;function ie(ue){var ge,ye=ue.length,Me=ue.map(function(Ft,Ot){return+le.call(ie,Ft,Ot)}),je=+(typeof z=="function"?z.apply(this,arguments):z),We=(typeof B=="function"?B.apply(this,arguments):B)-je,nt=Math.min(Math.abs(We)/ye,+(typeof G=="function"?G.apply(this,arguments):G)),bt=nt*(We<0?-1:1),At=g.sum(Me),_t=At?(We-ye*bt)/At:0,wt=g.range(ye),xt=[];return C!=null&&wt.sort(C===nn?function(Ft,Ot){return Me[Ot]-Me[Ft]}:function(Ft,Ot){return C(ue[Ft],ue[Ot])}),wt.forEach(function(Ft){xt[Ft]={data:ue[Ft],value:ge=Me[Ft],startAngle:je,endAngle:je+=ge*_t+bt,padAngle:nt}}),xt}return ie.value=function(ue){return arguments.length?(le=ue,ie):le},ie.sort=function(ue){return arguments.length?(C=ue,ie):C},ie.startAngle=function(ue){return arguments.length?(z=ue,ie):z},ie.endAngle=function(ue){return arguments.length?(B=ue,ie):B},ie.padAngle=function(ue){return arguments.length?(G=ue,ie):G},ie};var nn={};function dn(le){return le.x}function En(le){return le.y}function On(le,C,z){le.y0=C,le.y=z}g.layout.stack=function(){var le=E,C=ha,z=ba,B=On,G=dn,ie=En;function ue(ge,ye){if(!(nt=ge.length))return ge;var Me=ge.map(function(Ft,Ot){return le.call(ue,Ft,Ot)}),je=Me.map(function(Ft){return Ft.map(function(Ot,Nt){return[G.call(ue,Ot,Nt),ie.call(ue,Ot,Nt)]})}),We=C.call(ue,je,ye);Me=g.permute(Me,We),je=g.permute(je,We);var nt,bt,At,_t,wt=z.call(ue,je,ye),xt=Me[0].length;for(At=0;At<xt;++At)for(B.call(ue,Me[0][At],_t=wt[At],je[0][At][1]),bt=1;bt<nt;++bt)B.call(ue,Me[bt][At],_t+=je[bt-1][At][1],je[bt][At][1]);return ge}return ue.values=function(ge){return arguments.length?(le=ge,ue):le},ue.order=function(ge){return arguments.length?(C=typeof ge=="function"?ge:Un.get(ge)||ha,ue):C},ue.offset=function(ge){return arguments.length?(z=typeof ge=="function"?ge:zn.get(ge)||ba,ue):z},ue.x=function(ge){return arguments.length?(G=ge,ue):G},ue.y=function(ge){return arguments.length?(ie=ge,ue):ie},ue.out=function(ge){return arguments.length?(B=ge,ue):B},ue};var Un=g.map({"inside-out":function(le){var C,z,B=le.length,G=le.map(Oa),ie=le.map(Ia),ue=g.range(B).sort(function(We,nt){return G[We]-G[nt]}),ge=0,ye=0,Me=[],je=[];for(C=0;C<B;++C)z=ue[C],ge<ye?(ge+=ie[z],Me.push(z)):(ye+=ie[z],je.push(z));return je.reverse().concat(Me)},reverse:function(le){return g.range(le.length).reverse()},default:ha}),zn=g.map({silhouette:function(le){var C,z,B,G=le.length,ie=le[0].length,ue=[],ge=0,ye=[];for(z=0;z<ie;++z){for(C=0,B=0;C<G;C++)B+=le[C][z][1];B>ge&&(ge=B),ue.push(B)}for(z=0;z<ie;++z)ye[z]=(ge-ue[z])/2;return ye},wiggle:function(le){var C,z,B,G,ie,ue,ge,ye,Me,je=le.length,We=le[0],nt=We.length,bt=[];for(bt[0]=ye=Me=0,z=1;z<nt;++z){for(C=0,G=0;C<je;++C)G+=le[C][z][1];for(C=0,ie=0,ge=We[z][0]-We[z-1][0];C<je;++C){for(B=0,ue=(le[C][z][1]-le[C][z-1][1])/(2*ge);B<C;++B)ue+=(le[B][z][1]-le[B][z-1][1])/ge;ie+=ue*le[C][z][1]}bt[z]=ye-=G?ie/G*ge:0,ye<Me&&(Me=ye)}for(z=0;z<nt;++z)bt[z]-=Me;return bt},expand:function(le){var C,z,B,G=le.length,ie=le[0].length,ue=1/G,ge=[];for(z=0;z<ie;++z){for(C=0,B=0;C<G;C++)B+=le[C][z][1];if(B)for(C=0;C<G;C++)le[C][z][1]/=B;else for(C=0;C<G;C++)le[C][z][1]=ue}for(z=0;z<ie;++z)ge[z]=0;return ge},zero:ba});function ha(le){return g.range(le.length)}function ba(le){for(var C=-1,z=le[0].length,B=[];++C<z;)B[C]=0;return B}function Oa(le){for(var C,z=1,B=0,G=le[0][1],ie=le.length;z<ie;++z)(C=le[z][1])>G&&(B=z,G=C);return B}function Ia(le){return le.reduce(za,0)}function za(le,C){return le+C[1]}function vi(le,C){return pi(le,Math.ceil(Math.log(C.length)/Math.LN2+1))}function pi(le,C){for(var z=-1,B=+le[0],G=(le[1]-B)/C,ie=[];++z<=C;)ie[z]=G*z+B;return ie}function ti(le){return[g.min(le),g.max(le)]}function ri(le,C){return le.value-C.value}function di(le,C){var z=le._pack_next;le._pack_next=C,C._pack_prev=le,C._pack_next=z,z._pack_prev=C}function Oi(le,C){le._pack_next=C,C._pack_prev=le}function Wi(le,C){var z=C.x-le.x,B=C.y-le.y,G=le.r+C.r;return .999*G*G>z*z+B*B}function Zi(le){if((C=le.children)&&(ye=C.length)){var C,z,B,G,ie,ue,ge,ye,Me=1/0,je=-1/0,We=1/0,nt=-1/0;if(C.forEach(Xi),(z=C[0]).x=-z.r,z.y=0,Ot(z),ye>1&&((B=C[1]).x=B.r,B.y=0,Ot(B),ye>2))for(Ea(z,B,G=C[2]),Ot(G),di(z,G),z._pack_prev=G,di(G,B),B=z._pack_next,ie=3;ie<ye;ie++){Ea(z,B,G=C[ie]);var bt=0,At=1,_t=1;for(ue=B._pack_next;ue!==B;ue=ue._pack_next,At++)if(Wi(ue,G)){bt=1;break}if(bt==1)for(ge=z._pack_prev;ge!==ue._pack_prev&&!Wi(ge,G);ge=ge._pack_prev,_t++);bt?(At<_t||At==_t&&B.r<z.r?Oi(z,B=ue):Oi(z=ge,B),ie--):(di(z,G),B=G,Ot(G))}var wt=(Me+je)/2,xt=(We+nt)/2,Ft=0;for(ie=0;ie<ye;ie++)(G=C[ie]).x-=wt,G.y-=xt,Ft=Math.max(Ft,G.r+Math.sqrt(G.x*G.x+G.y*G.y));le.r=Ft,C.forEach(Ji)}function Ot(Nt){Me=Math.min(Nt.x-Nt.r,Me),je=Math.max(Nt.x+Nt.r,je),We=Math.min(Nt.y-Nt.r,We),nt=Math.max(Nt.y+Nt.r,nt)}}function Xi(le){le._pack_next=le._pack_prev=le}function Ji(le){delete le._pack_next,delete le._pack_prev}function Ea(le,C,z){var B=le.r+z.r,G=C.x-le.x,ie=C.y-le.y;if(B&&(G||ie)){var ue=C.r+z.r,ge=G*G+ie*ie,ye=.5+((B*=B)-(ue*=ue))/(2*ge),Me=Math.sqrt(Math.max(0,2*ue*(B+ge)-(B-=ge)*B-ue*ue))/(2*ge);z.x=le.x+ye*G+Me*ie,z.y=le.y+ye*ie-Me*G}else z.x=le.x+B,z.y=le.y}function ft(le,C){return le.parent==C.parent?1:2}function Rt(le){var C=le.children;return C.length?C[0]:le.t}function nr(le){var C,z=le.children;return(C=z.length)?z[C-1]:le.t}function Ht(le,C,z){var B=z/(C.i-le.i);C.c-=B,C.s+=z,le.c+=B,C.z+=z,C.m+=z}function ir(le,C,z){return le.a.parent===C.parent?le.a:z}function Lr(le){return{x:le.x,y:le.y,dx:le.dx,dy:le.dy}}function Dr(le,C){var z=le.x+C[3],B=le.y+C[0],G=le.dx-C[1]-C[3],ie=le.dy-C[0]-C[2];return G<0&&(z+=G/2,G=0),ie<0&&(B+=ie/2,ie=0),{x:z,y:B,dx:G,dy:ie}}function Yr(le){var C=le[0],z=le[le.length-1];return C<z?[C,z]:[z,C]}function sn(le){return le.rangeExtent?le.rangeExtent():Yr(le.range())}function an(le,C,z,B){var G=z(le[0],le[1]),ie=B(C[0],C[1]);return function(ue){return ie(G(ue))}}function gn(le,C){var z,B=0,G=le.length-1,ie=le[B],ue=le[G];return ue<ie&&(z=B,B=G,G=z,z=ie,ie=ue,ue=z),le[B]=C.floor(ie),le[G]=C.ceil(ue),le}function Tn(le){return le?{floor:function(C){return Math.floor(C/le)*le},ceil:function(C){return Math.ceil(C/le)*le}}:ln}g.layout.histogram=function(){var le=!0,C=Number,z=ti,B=vi;function G(ie,ue){for(var ge,ye,Me=[],je=ie.map(C,this),We=z.call(this,je,ue),nt=B.call(this,We,je,ue),bt=(ue=-1,je.length),At=nt.length-1,_t=le?1:1/bt;++ue<At;)(ge=Me[ue]=[]).dx=nt[ue+1]-(ge.x=nt[ue]),ge.y=0;if(At>0)for(ue=-1;++ue<bt;)(ye=je[ue])>=We[0]&&ye<=We[1]&&((ge=Me[g.bisect(nt,ye,1,At)-1]).y+=_t,ge.push(ie[ue]));return Me}return G.value=function(ie){return arguments.length?(C=ie,G):C},G.range=function(ie){return arguments.length?(z=dr(ie),G):z},G.bins=function(ie){return arguments.length?(B=typeof ie=="number"?function(ue){return pi(ue,ie)}:dr(ie),G):B},G.frequency=function(ie){return arguments.length?(le=!!ie,G):le},G},g.layout.pack=function(){var le,C=g.layout.hierarchy().sort(ri),z=0,B=[1,1];function G(ie,ue){var ge=C.call(this,ie,ue),ye=ge[0],Me=B[0],je=B[1],We=le==null?Math.sqrt:typeof le=="function"?le:function(){return le};if(ye.x=ye.y=0,tr(ye,function(bt){bt.r=+We(bt.value)}),tr(ye,Zi),z){var nt=z*(le?1:Math.max(2*ye.r/Me,2*ye.r/je))/2;tr(ye,function(bt){bt.r+=nt}),tr(ye,Zi),tr(ye,function(bt){bt.r-=nt})}return function bt(At,_t,wt,xt){var Ft=At.children;if(At.x=_t+=xt*At.x,At.y=wt+=xt*At.y,At.r*=xt,Ft)for(var Ot=-1,Nt=Ft.length;++Ot<Nt;)bt(Ft[Ot],_t,wt,xt)}(ye,Me/2,je/2,le?1:1/Math.max(2*ye.r/Me,2*ye.r/je)),ge}return G.size=function(ie){return arguments.length?(B=ie,G):B},G.radius=function(ie){return arguments.length?(le=ie==null||typeof ie=="function"?ie:+ie,G):le},G.padding=function(ie){return arguments.length?(z=+ie,G):z},$t(G,C)},g.layout.tree=function(){var le=g.layout.hierarchy().sort(null).value(null),C=ft,z=[1,1],B=null;function G(ye,Me){var je=le.call(this,ye,Me),We=je[0],nt=function(Ot){for(var Nt,er={A:null,children:[Ot]},fr=[er];(Nt=fr.pop())!=null;)for(var kr,Tr=Nt.children,Jr=0,Xr=Tr.length;Jr<Xr;++Jr)fr.push((Tr[Jr]=kr={_:Tr[Jr],parent:Nt,children:(kr=Tr[Jr].children)&&kr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Jr}).a=kr);return er.children[0]}(We);if(tr(nt,ie),nt.parent.m=-nt.z,Wt(nt,ue),B)Wt(We,ge);else{var bt=We,At=We,_t=We;Wt(We,function(Ot){Ot.x<bt.x&&(bt=Ot),Ot.x>At.x&&(At=Ot),Ot.depth>_t.depth&&(_t=Ot)});var wt=C(bt,At)/2-bt.x,xt=z[0]/(At.x+C(At,bt)/2+wt),Ft=z[1]/(_t.depth||1);Wt(We,function(Ot){Ot.x=(Ot.x+wt)*xt,Ot.y=Ot.depth*Ft})}return je}function ie(ye){var Me=ye.children,je=ye.parent.children,We=ye.i?je[ye.i-1]:null;if(Me.length){(function(bt){for(var At,_t=0,wt=0,xt=bt.children,Ft=xt.length;--Ft>=0;)(At=xt[Ft]).z+=_t,At.m+=_t,_t+=At.s+(wt+=At.c)})(ye);var nt=(Me[0].z+Me[Me.length-1].z)/2;We?(ye.z=We.z+C(ye._,We._),ye.m=ye.z-nt):ye.z=nt}else We&&(ye.z=We.z+C(ye._,We._));ye.parent.A=function(bt,At,_t){if(At){for(var wt,xt=bt,Ft=bt,Ot=At,Nt=xt.parent.children[0],er=xt.m,fr=Ft.m,kr=Ot.m,Tr=Nt.m;Ot=nr(Ot),xt=Rt(xt),Ot&&xt;)Nt=Rt(Nt),(Ft=nr(Ft)).a=bt,(wt=Ot.z+kr-xt.z-er+C(Ot._,xt._))>0&&(Ht(ir(Ot,bt,_t),bt,wt),er+=wt,fr+=wt),kr+=Ot.m,er+=xt.m,Tr+=Nt.m,fr+=Ft.m;Ot&&!nr(Ft)&&(Ft.t=Ot,Ft.m+=kr-fr),xt&&!Rt(Nt)&&(Nt.t=xt,Nt.m+=er-Tr,_t=bt)}return _t}(ye,We,ye.parent.A||je[0])}function ue(ye){ye._.x=ye.z+ye.parent.m,ye.m+=ye.parent.m}function ge(ye){ye.x*=z[0],ye.y=ye.depth*z[1]}return G.separation=function(ye){return arguments.length?(C=ye,G):C},G.size=function(ye){return arguments.length?(B=(z=ye)==null?ge:null,G):B?null:z},G.nodeSize=function(ye){return arguments.length?(B=(z=ye)==null?null:ge,G):B?z:null},$t(G,le)},g.layout.cluster=function(){var le=g.layout.hierarchy().sort(null).value(null),C=ft,z=[1,1],B=!1;function G(ie,ue){var ge,ye=le.call(this,ie,ue),Me=ye[0],je=0;tr(Me,function(_t){var wt=_t.children;wt&&wt.length?(_t.x=function(xt){return xt.reduce(function(Ft,Ot){return Ft+Ot.x},0)/xt.length}(wt),_t.y=function(xt){return 1+g.max(xt,function(Ft){return Ft.y})}(wt)):(_t.x=ge?je+=C(_t,ge):0,_t.y=0,ge=_t)});var We=function _t(wt){var xt=wt.children;return xt&&xt.length?_t(xt[0]):wt}(Me),nt=function _t(wt){var xt,Ft=wt.children;return Ft&&(xt=Ft.length)?_t(Ft[xt-1]):wt}(Me),bt=We.x-C(We,nt)/2,At=nt.x+C(nt,We)/2;return tr(Me,B?function(_t){_t.x=(_t.x-Me.x)*z[0],_t.y=(Me.y-_t.y)*z[1]}:function(_t){_t.x=(_t.x-bt)/(At-bt)*z[0],_t.y=(1-(Me.y?_t.y/Me.y:1))*z[1]}),ye}return G.separation=function(ie){return arguments.length?(C=ie,G):C},G.size=function(ie){return arguments.length?(B=(z=ie)==null,G):B?null:z},G.nodeSize=function(ie){return arguments.length?(B=(z=ie)!=null,G):B?z:null},$t(G,le)},g.layout.treemap=function(){var le,C=g.layout.hierarchy(),z=Math.round,B=[1,1],G=null,ie=Lr,ue=!1,ge="squarify",ye=.5*(1+Math.sqrt(5));function Me(_t,wt){for(var xt,Ft,Ot=-1,Nt=_t.length;++Ot<Nt;)Ft=(xt=_t[Ot]).value*(wt<0?0:wt),xt.area=isNaN(Ft)||Ft<=0?0:Ft}function je(_t){var wt=_t.children;if(wt&&wt.length){var xt,Ft,Ot,Nt=ie(_t),er=[],fr=wt.slice(),kr=1/0,Tr=ge==="slice"?Nt.dx:ge==="dice"?Nt.dy:ge==="slice-dice"?1&_t.depth?Nt.dy:Nt.dx:Math.min(Nt.dx,Nt.dy);for(Me(fr,Nt.dx*Nt.dy/_t.value),er.area=0;(Ot=fr.length)>0;)er.push(xt=fr[Ot-1]),er.area+=xt.area,ge!=="squarify"||(Ft=nt(er,Tr))<=kr?(fr.pop(),kr=Ft):(er.area-=er.pop().area,bt(er,Tr,Nt,!1),Tr=Math.min(Nt.dx,Nt.dy),er.length=er.area=0,kr=1/0);er.length&&(bt(er,Tr,Nt,!0),er.length=er.area=0),wt.forEach(je)}}function We(_t){var wt=_t.children;if(wt&&wt.length){var xt,Ft=ie(_t),Ot=wt.slice(),Nt=[];for(Me(Ot,Ft.dx*Ft.dy/_t.value),Nt.area=0;xt=Ot.pop();)Nt.push(xt),Nt.area+=xt.area,xt.z!=null&&(bt(Nt,xt.z?Ft.dx:Ft.dy,Ft,!Ot.length),Nt.length=Nt.area=0);wt.forEach(We)}}function nt(_t,wt){for(var xt,Ft=_t.area,Ot=0,Nt=1/0,er=-1,fr=_t.length;++er<fr;)(xt=_t[er].area)&&(xt<Nt&&(Nt=xt),xt>Ot&&(Ot=xt));return wt*=wt,(Ft*=Ft)?Math.max(wt*Ot*ye/Ft,Ft/(wt*Nt*ye)):1/0}function bt(_t,wt,xt,Ft){var Ot,Nt=-1,er=_t.length,fr=xt.x,kr=xt.y,Tr=wt?z(_t.area/wt):0;if(wt==xt.dx){for((Ft||Tr>xt.dy)&&(Tr=xt.dy);++Nt<er;)(Ot=_t[Nt]).x=fr,Ot.y=kr,Ot.dy=Tr,fr+=Ot.dx=Math.min(xt.x+xt.dx-fr,Tr?z(Ot.area/Tr):0);Ot.z=!0,Ot.dx+=xt.x+xt.dx-fr,xt.y+=Tr,xt.dy-=Tr}else{for((Ft||Tr>xt.dx)&&(Tr=xt.dx);++Nt<er;)(Ot=_t[Nt]).x=fr,Ot.y=kr,Ot.dx=Tr,kr+=Ot.dy=Math.min(xt.y+xt.dy-kr,Tr?z(Ot.area/Tr):0);Ot.z=!1,Ot.dy+=xt.y+xt.dy-kr,xt.x+=Tr,xt.dx-=Tr}}function At(_t){var wt=le||C(_t),xt=wt[0];return xt.x=xt.y=0,xt.value?(xt.dx=B[0],xt.dy=B[1]):xt.dx=xt.dy=0,le&&C.revalue(xt),Me([xt],xt.dx*xt.dy/xt.value),(le?We:je)(xt),ue&&(le=wt),wt}return At.size=function(_t){return arguments.length?(B=_t,At):B},At.padding=function(_t){if(!arguments.length)return G;function wt(Ot){var Nt=_t.call(At,Ot,Ot.depth);return Nt==null?Lr(Ot):Dr(Ot,typeof Nt=="number"?[Nt,Nt,Nt,Nt]:Nt)}function xt(Ot){return Dr(Ot,_t)}var Ft;return ie=(G=_t)==null?Lr:(Ft=typeof _t)=="function"?wt:(Ft==="number"&&(_t=[_t,_t,_t,_t]),xt),At},At.round=function(_t){return arguments.length?(z=_t?Math.round:Number,At):z!=Number},At.sticky=function(_t){return arguments.length?(ue=_t,le=null,At):ue},At.ratio=function(_t){return arguments.length?(ye=_t,At):ye},At.mode=function(_t){return arguments.length?(ge=_t+"",At):ge},$t(At,C)},g.random={normal:function(le,C){var z=arguments.length;return z<2&&(C=1),z<1&&(le=0),function(){var B,G,ie;do ie=(B=2*Math.random()-1)*B+(G=2*Math.random()-1)*G;while(!ie||ie>1);return le+C*B*Math.sqrt(-2*Math.log(ie)/ie)}},logNormal:function(){var le=g.random.normal.apply(g,arguments);return function(){return Math.exp(le())}},bates:function(le){var C=g.random.irwinHall(le);return function(){return C()/le}},irwinHall:function(le){return function(){for(var C=0,z=0;z<le;z++)C+=Math.random();return C}}},g.scale={};var ln={floor:E,ceil:E};function kn(le,C,z,B){var G=[],ie=[],ue=0,ge=Math.min(le.length,C.length)-1;for(le[ge]<le[0]&&(le=le.slice().reverse(),C=C.slice().reverse());++ue<=ge;)G.push(z(le[ue-1],le[ue])),ie.push(B(C[ue-1],C[ue]));return function(ye){var Me=g.bisect(le,ye,1,ge)-1;return ie[Me](G[Me](ye))}}function Dn(le,C){return g.rebind(le,C,"range","rangeRound","interpolate","clamp")}function jn(le,C){return gn(le,Tn($n(le,C)[2])),gn(le,Tn($n(le,C)[2])),le}function $n(le,C){C==null&&(C=10);var z=Yr(le),B=z[1]-z[0],G=Math.pow(10,Math.floor(Math.log(B/C)/Math.LN10)),ie=C/B*G;return ie<=.15?G*=10:ie<=.35?G*=5:ie<=.75&&(G*=2),z[0]=Math.ceil(z[0]/G)*G,z[1]=Math.floor(z[1]/G)*G+.5*G,z[2]=G,z}function Zr(le,C){return g.range.apply(g,$n(le,C))}g.scale.linear=function(){return function le(C,z,B,G){var ie,ue;function ge(){var Me=Math.min(C.length,z.length)>2?kn:an,je=G?Mo:us;return ie=Me(C,z,je,B),ue=Me(z,C,je,Ii),ye}function ye(Me){return ie(Me)}return ye.invert=function(Me){return ue(Me)},ye.domain=function(Me){return arguments.length?(C=Me.map(Number),ge()):C},ye.range=function(Me){return arguments.length?(z=Me,ge()):z},ye.rangeRound=function(Me){return ye.range(Me).interpolate(Bo)},ye.clamp=function(Me){return arguments.length?(G=Me,ge()):G},ye.interpolate=function(Me){return arguments.length?(B=Me,ge()):B},ye.ticks=function(Me){return Zr(C,Me)},ye.tickFormat=function(Me,je){return d3_scale_linearTickFormat(C,Me,je)},ye.nice=function(Me){return jn(C,Me),ge()},ye.copy=function(){return le(C,z,B,G)},ge()}([0,1],[0,1],Ii,!1)},g.scale.log=function(){return function le(C,z,B,G){function ie(ye){return(B?Math.log(ye<0?0:ye):-Math.log(ye>0?0:-ye))/Math.log(z)}function ue(ye){return B?Math.pow(z,ye):-Math.pow(z,-ye)}function ge(ye){return C(ie(ye))}return ge.invert=function(ye){return ue(C.invert(ye))},ge.domain=function(ye){return arguments.length?(B=ye[0]>=0,C.domain((G=ye.map(Number)).map(ie)),ge):G},ge.base=function(ye){return arguments.length?(z=+ye,C.domain(G.map(ie)),ge):z},ge.nice=function(){var ye=gn(G.map(ie),B?Math:Jn);return C.domain(ye),G=ye.map(ue),ge},ge.ticks=function(){var ye=Yr(G),Me=[],je=ye[0],We=ye[1],nt=Math.floor(ie(je)),bt=Math.ceil(ie(We)),At=z%1?2:z;if(isFinite(bt-nt)){if(B){for(;nt<bt;nt++)for(var _t=1;_t<At;_t++)Me.push(ue(nt)*_t);Me.push(ue(nt))}else for(Me.push(ue(nt));nt++<bt;)for(_t=At-1;_t>0;_t--)Me.push(ue(nt)*_t);for(nt=0;Me[nt]<je;nt++);for(bt=Me.length;Me[bt-1]>We;bt--);Me=Me.slice(nt,bt)}return Me},ge.copy=function(){return le(C.copy(),z,B,G)},Dn(ge,C)}(g.scale.linear().domain([0,1]),10,!0,[1,10])};var Jn={floor:function(le){return-Math.ceil(-le)},ceil:function(le){return-Math.floor(-le)}};function Cn(le){return function(C){return C<0?-Math.pow(-C,le):Math.pow(C,le)}}g.scale.pow=function(){return function le(C,z,B){var G=Cn(z),ie=Cn(1/z);function ue(ge){return C(G(ge))}return ue.invert=function(ge){return ie(C.invert(ge))},ue.domain=function(ge){return arguments.length?(C.domain((B=ge.map(Number)).map(G)),ue):B},ue.ticks=function(ge){return Zr(B,ge)},ue.tickFormat=function(ge,ye){return d3_scale_linearTickFormat(B,ge,ye)},ue.nice=function(ge){return ue.domain(jn(B,ge))},ue.exponent=function(ge){return arguments.length?(G=Cn(z=ge),ie=Cn(1/z),C.domain(B.map(G)),ue):z},ue.copy=function(){return le(C.copy(),z,B)},Dn(ue,C)}(g.scale.linear(),1,[0,1])},g.scale.sqrt=function(){return g.scale.pow().exponent(.5)},g.scale.ordinal=function(){return function le(C,z){var B,G,ie;function ue(ye){return G[((B.get(ye)||(z.t==="range"?B.set(ye,C.push(ye)):NaN))-1)%G.length]}function ge(ye,Me){return g.range(C.length).map(function(je){return ye+Me*je})}return ue.domain=function(ye){if(!arguments.length)return C;C=[],B=new w;for(var Me,je=-1,We=ye.length;++je<We;)B.has(Me=ye[je])||B.set(Me,C.push(Me));return ue[z.t].apply(ue,z.a)},ue.range=function(ye){return arguments.length?(G=ye,ie=0,z={t:"range",a:arguments},ue):G},ue.rangePoints=function(ye,Me){arguments.length<2&&(Me=0);var je=ye[0],We=ye[1],nt=C.length<2?(je=(je+We)/2,0):(We-je)/(C.length-1+Me);return G=ge(je+nt*Me/2,nt),ie=0,z={t:"rangePoints",a:arguments},ue},ue.rangeRoundPoints=function(ye,Me){arguments.length<2&&(Me=0);var je=ye[0],We=ye[1],nt=C.length<2?(je=We=Math.round((je+We)/2),0):(We-je)/(C.length-1+Me)|0;return G=ge(je+Math.round(nt*Me/2+(We-je-(C.length-1+Me)*nt)/2),nt),ie=0,z={t:"rangeRoundPoints",a:arguments},ue},ue.rangeBands=function(ye,Me,je){arguments.length<2&&(Me=0),arguments.length<3&&(je=Me);var We=ye[1]<ye[0],nt=ye[We-0],bt=ye[1-We],At=(bt-nt)/(C.length-Me+2*je);return G=ge(nt+At*je,At),We&&G.reverse(),ie=At*(1-Me),z={t:"rangeBands",a:arguments},ue},ue.rangeRoundBands=function(ye,Me,je){arguments.length<2&&(Me=0),arguments.length<3&&(je=Me);var We=ye[1]<ye[0],nt=ye[We-0],bt=ye[1-We],At=Math.floor((bt-nt)/(C.length-Me+2*je));return G=ge(nt+Math.round((bt-nt-(C.length-Me)*At)/2),At),We&&G.reverse(),ie=Math.round(At*(1-Me)),z={t:"rangeRoundBands",a:arguments},ue},ue.rangeBand=function(){return ie},ue.rangeExtent=function(){return Yr(z.a[0])},ue.copy=function(){return le(C,z)},ue.domain(C)}([],{t:"range",a:[[]]})},g.scale.category10=function(){return g.scale.ordinal().range(Bn)},g.scale.category20=function(){return g.scale.ordinal().range(Xn)},g.scale.category20b=function(){return g.scale.ordinal().range(xa)},g.scale.category20c=function(){return g.scale.ordinal().range(Ma)};var Bn=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ut),Xn=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ut),xa=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ut),Ma=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ut);function Sn(){return 0}g.scale.quantile=function(){return function le(C,z){var B;function G(){var ue=0,ge=z.length;for(B=[];++ue<ge;)B[ue-1]=g.quantile(C,ue/ge);return ie}function ie(ue){if(!isNaN(ue=+ue))return z[g.bisect(B,ue)]}return ie.domain=function(ue){return arguments.length?(C=ue.map(u).filter(f).sort(i),G()):C},ie.range=function(ue){return arguments.length?(z=ue,G()):z},ie.quantiles=function(){return B},ie.invertExtent=function(ue){return(ue=z.indexOf(ue))<0?[NaN,NaN]:[ue>0?B[ue-1]:C[0],ue<B.length?B[ue]:C[C.length-1]]},ie.copy=function(){return le(C,z)},G()}([],[])},g.scale.quantize=function(){return function le(C,z,B){var G,ie;function ue(ye){return B[Math.max(0,Math.min(ie,Math.floor(G*(ye-C))))]}function ge(){return G=B.length/(z-C),ie=B.length-1,ue}return ue.domain=function(ye){return arguments.length?(C=+ye[0],z=+ye[ye.length-1],ge()):[C,z]},ue.range=function(ye){return arguments.length?(B=ye,ge()):B},ue.invertExtent=function(ye){return[ye=(ye=B.indexOf(ye))<0?NaN:ye/G+C,ye+1/G]},ue.copy=function(){return le(C,z,B)},ge()}(0,1,[0,1])},g.scale.threshold=function(){return function le(C,z){function B(G){if(G<=G)return z[g.bisect(C,G)]}return B.domain=function(G){return arguments.length?(C=G,B):C},B.range=function(G){return arguments.length?(z=G,B):z},B.invertExtent=function(G){return G=z.indexOf(G),[C[G-1],C[G]]},B.copy=function(){return le(C,z)},B}([.5],[0,1])},g.scale.identity=function(){return function le(C){function z(B){return+B}return z.invert=z,z.domain=z.range=function(B){return arguments.length?(C=B.map(z),z):C},z.ticks=function(B){return Zr(C,B)},z.tickFormat=function(B,G){return d3_scale_linearTickFormat(C,B,G)},z.copy=function(){return le(C)},z}([0,1])},g.svg={},g.svg.arc=function(){var le=Ta,C=fa,z=Sn,B=La,G=Ca,ie=_a,ue=Za;function ge(){var Me=Math.max(0,+le.apply(this,arguments)),je=Math.max(0,+C.apply(this,arguments)),We=G.apply(this,arguments)-qe,nt=ie.apply(this,arguments)-qe,bt=Math.abs(nt-We),At=We>nt?0:1;if(je<Me&&(_t=je,je=Me,Me=_t),bt>=Be)return ye(je,At)+(Me?ye(Me,1-At):"")+"Z";var _t,wt,xt,Ft,Ot,Nt,er,fr,kr,Tr,Jr,Xr,hn=0,on=0,Nn=[];if((Ft=(+ue.apply(this,arguments)||0)/2)&&(xt=B===La?Math.sqrt(Me*Me+je*je):+B.apply(this,arguments),At||(on*=-1),je&&(on=ke(xt/je*Math.sin(Ft))),Me&&(hn=ke(xt/Me*Math.sin(Ft)))),je){Ot=je*Math.cos(We+on),Nt=je*Math.sin(We+on),er=je*Math.cos(nt-on),fr=je*Math.sin(nt-on);var Gn=Math.abs(nt-We-2*on)<=Vt?0:1;if(on&&Kn(Ot,Nt,er,fr)===At^Gn){var oa=(We+nt)/2;Ot=je*Math.cos(oa),Nt=je*Math.sin(oa),er=fr=null}}else Ot=Nt=0;if(Me){kr=Me*Math.cos(nt-hn),Tr=Me*Math.sin(nt-hn),Jr=Me*Math.cos(We+hn),Xr=Me*Math.sin(We+hn);var jr=Math.abs(We-nt+2*hn)<=Vt?0:1;if(hn&&Kn(kr,Tr,Jr,Xr)===1-At^jr){var Mn=(We+nt)/2;kr=Me*Math.cos(Mn),Tr=Me*Math.sin(Mn),Jr=Xr=null}}else kr=Tr=0;if(bt>Tt&&(_t=Math.min(Math.abs(je-Me)/2,+z.apply(this,arguments)))>.001){wt=Me<je^At?0:1;var Yn=_t,Vn=_t;if(bt<Vt){var Qn=Jr==null?[kr,Tr]:er==null?[Ot,Nt]:Pt([Ot,Nt],[Jr,Xr],[er,fr],[kr,Tr]),la=Ot-Qn[0],wa=Nt-Qn[1],Zn=er-Qn[0],ma=fr-Qn[1],pa=1/Math.sin(Math.acos((la*Zn+wa*ma)/(Math.sqrt(la*la+wa*wa)*Math.sqrt(Zn*Zn+ma*ma)))/2),Aa=Math.sqrt(Qn[0]*Qn[0]+Qn[1]*Qn[1]);Vn=Math.min(_t,(Me-Aa)/(pa-1)),Yn=Math.min(_t,(je-Aa)/(pa+1))}if(er!=null){var va=Va(Jr==null?[kr,Tr]:[Jr,Xr],[Ot,Nt],je,Yn,At),Sa=Va([er,fr],[kr,Tr],je,Yn,At);_t===Yn?Nn.push("M",va[0],"A",Yn,",",Yn," 0 0,",wt," ",va[1],"A",je,",",je," 0 ",1-At^Kn(va[1][0],va[1][1],Sa[1][0],Sa[1][1]),",",At," ",Sa[1],"A",Yn,",",Yn," 0 0,",wt," ",Sa[0]):Nn.push("M",va[0],"A",Yn,",",Yn," 0 1,",wt," ",Sa[0])}else Nn.push("M",Ot,",",Nt);if(Jr!=null){var Da=Va([Ot,Nt],[Jr,Xr],Me,-Vn,At),ii=Va([kr,Tr],er==null?[Ot,Nt]:[er,fr],Me,-Vn,At);_t===Vn?Nn.push("L",ii[0],"A",Vn,",",Vn," 0 0,",wt," ",ii[1],"A",Me,",",Me," 0 ",At^Kn(ii[1][0],ii[1][1],Da[1][0],Da[1][1]),",",1-At," ",Da[1],"A",Vn,",",Vn," 0 0,",wt," ",Da[0]):Nn.push("L",ii[0],"A",Vn,",",Vn," 0 0,",wt," ",Da[0])}else Nn.push("L",kr,",",Tr)}else Nn.push("M",Ot,",",Nt),er!=null&&Nn.push("A",je,",",je," 0 ",Gn,",",At," ",er,",",fr),Nn.push("L",kr,",",Tr),Jr!=null&&Nn.push("A",Me,",",Me," 0 ",jr,",",1-At," ",Jr,",",Xr);return Nn.push("Z"),Nn.join("")}function ye(Me,je){return"M0,"+Me+"A"+Me+","+Me+" 0 1,"+je+" 0,"+-Me+"A"+Me+","+Me+" 0 1,"+je+" 0,"+Me}return ge.innerRadius=function(Me){return arguments.length?(le=dr(Me),ge):le},ge.outerRadius=function(Me){return arguments.length?(C=dr(Me),ge):C},ge.cornerRadius=function(Me){return arguments.length?(z=dr(Me),ge):z},ge.padRadius=function(Me){return arguments.length?(B=Me==La?La:dr(Me),ge):B},ge.startAngle=function(Me){return arguments.length?(G=dr(Me),ge):G},ge.endAngle=function(Me){return arguments.length?(ie=dr(Me),ge):ie},ge.padAngle=function(Me){return arguments.length?(ue=dr(Me),ge):ue},ge.centroid=function(){var Me=(+le.apply(this,arguments)+ +C.apply(this,arguments))/2,je=(+G.apply(this,arguments)+ +ie.apply(this,arguments))/2-qe;return[Math.cos(je)*Me,Math.sin(je)*Me]},ge};var La="auto";function Ta(le){return le.innerRadius}function fa(le){return le.outerRadius}function Ca(le){return le.startAngle}function _a(le){return le.endAngle}function Za(le){return le&&le.padAngle}function Kn(le,C,z,B){return(le-z)*C-(C-B)*le>0?0:1}function Va(le,C,z,B,G){var ie=le[0]-C[0],ue=le[1]-C[1],ge=(G?B:-B)/Math.sqrt(ie*ie+ue*ue),ye=ge*ue,Me=-ge*ie,je=le[0]+ye,We=le[1]+Me,nt=C[0]+ye,bt=C[1]+Me,At=(je+nt)/2,_t=(We+bt)/2,wt=nt-je,xt=bt-We,Ft=wt*wt+xt*xt,Ot=z-B,Nt=je*bt-nt*We,er=(xt<0?-1:1)*Math.sqrt(Math.max(0,Ot*Ot*Ft-Nt*Nt)),fr=(Nt*xt-wt*er)/Ft,kr=(-Nt*wt-xt*er)/Ft,Tr=(Nt*xt+wt*er)/Ft,Jr=(-Nt*wt+xt*er)/Ft,Xr=fr-At,hn=kr-_t,on=Tr-At,Nn=Jr-_t;return Xr*Xr+hn*hn>on*on+Nn*Nn&&(fr=Tr,kr=Jr),[[fr-ye,kr-Me],[fr*z/Ot,kr*z/Ot]]}function zi(){return!0}function Go(le){var C=Qr,z=yn,B=zi,G=fo,ie=G.key,ue=.7;function ge(ye){var Me,je=[],We=[],nt=-1,bt=ye.length,At=dr(C),_t=dr(z);function wt(){je.push("M",G(le(We),ue))}for(;++nt<bt;)B.call(this,Me=ye[nt],nt)?We.push([+At.call(this,Me,nt),+_t.call(this,Me,nt)]):We.length&&(wt(),We=[]);return We.length&&wt(),je.length?je.join(""):null}return ge.x=function(ye){return arguments.length?(C=ye,ge):C},ge.y=function(ye){return arguments.length?(z=ye,ge):z},ge.defined=function(ye){return arguments.length?(B=ye,ge):B},ge.interpolate=function(ye){return arguments.length?(ie=typeof ye=="function"?G=ye:(G=Co.get(ye)||fo).key,ge):ie},ge.tension=function(ye){return arguments.length?(ue=ye,ge):ue},ge}g.svg.line=function(){return Go(E)};var Co=g.map({linear:fo,"linear-closed":da,step:function(le){for(var C=0,z=le.length,B=le[0],G=[B[0],",",B[1]];++C<z;)G.push("H",(B[0]+(B=le[C])[0])/2,"V",B[1]);return z>1&&G.push("H",B[0]),G.join("")},"step-before":ci,"step-after":ho,basis:Ni,"basis-open":function(le){if(le.length<4)return fo(le);for(var C,z=[],B=-1,G=le.length,ie=[0],ue=[0];++B<3;)C=le[B],ie.push(C[0]),ue.push(C[1]);for(z.push(Ja(Ki,ie)+","+Ja(Ki,ue)),--B;++B<G;)C=le[B],ie.shift(),ie.push(C[0]),ue.shift(),ue.push(C[1]),ns(z,ie,ue);return z.join("")},"basis-closed":function(le){for(var C,z,B=-1,G=le.length,ie=G+4,ue=[],ge=[];++B<4;)z=le[B%G],ue.push(z[0]),ge.push(z[1]);for(C=[Ja(Ki,ue),",",Ja(Ki,ge)],--B;++B<ie;)z=le[B%G],ue.shift(),ue.push(z[0]),ge.shift(),ge.push(z[1]),ns(C,ue,ge);return C.join("")},bundle:function(le,C){var z=le.length-1;if(z)for(var B,G,ie=le[0][0],ue=le[0][1],ge=le[z][0]-ie,ye=le[z][1]-ue,Me=-1;++Me<=z;)B=le[Me],G=Me/z,B[0]=C*B[0]+(1-C)*(ie+G*ge),B[1]=C*B[1]+(1-C)*(ue+G*ye);return Ni(le)},cardinal:function(le,C){return le.length<3?fo(le):le[0]+Ha(le,yi(le,C))},"cardinal-open":function(le,C){return le.length<4?fo(le):le[1]+Ha(le.slice(1,-1),yi(le,C))},"cardinal-closed":function(le,C){return le.length<3?da(le):le[0]+Ha((le.push(le[0]),le),yi([le[le.length-2]].concat(le,[le[1]]),C))},monotone:function(le){return le.length<3?fo(le):le[0]+Ha(le,function(C){for(var z,B,G,ie,ue=[],ge=function(je){for(var We=0,nt=je.length-1,bt=[],At=je[0],_t=je[1],wt=bt[0]=Ko(At,_t);++We<nt;)bt[We]=(wt+(wt=Ko(At=_t,_t=je[We+1])))/2;return bt[We]=wt,bt}(C),ye=-1,Me=C.length-1;++ye<Me;)z=Ko(C[ye],C[ye+1]),a(z)<Tt?ge[ye]=ge[ye+1]=0:(B=ge[ye]/z,G=ge[ye+1]/z,(ie=B*B+G*G)>9&&(ie=3*z/Math.sqrt(ie),ge[ye]=ie*B,ge[ye+1]=ie*G));for(ye=-1;++ye<=Me;)ie=(C[Math.min(Me,ye+1)][0]-C[Math.max(0,ye-1)][0])/(6*(1+ge[ye]*ge[ye])),ue.push([ie||0,ge[ye]*ie||0]);return ue}(le))}});function fo(le){return le.length>1?le.join("L"):le+"Z"}function da(le){return le.join("L")+"Z"}function ci(le){for(var C=0,z=le.length,B=le[0],G=[B[0],",",B[1]];++C<z;)G.push("V",(B=le[C])[1],"H",B[0]);return G.join("")}function ho(le){for(var C=0,z=le.length,B=le[0],G=[B[0],",",B[1]];++C<z;)G.push("H",(B=le[C])[0],"V",B[1]);return G.join("")}function Ha(le,C){if(C.length<1||le.length!=C.length&&le.length!=C.length+2)return fo(le);var z=le.length!=C.length,B="",G=le[0],ie=le[1],ue=C[0],ge=ue,ye=1;if(z&&(B+="Q"+(ie[0]-2*ue[0]/3)+","+(ie[1]-2*ue[1]/3)+","+ie[0]+","+ie[1],G=le[1],ye=2),C.length>1){ge=C[1],ie=le[ye],ye++,B+="C"+(G[0]+ue[0])+","+(G[1]+ue[1])+","+(ie[0]-ge[0])+","+(ie[1]-ge[1])+","+ie[0]+","+ie[1];for(var Me=2;Me<C.length;Me++,ye++)ie=le[ye],ge=C[Me],B+="S"+(ie[0]-ge[0])+","+(ie[1]-ge[1])+","+ie[0]+","+ie[1]}if(z){var je=le[ye];B+="Q"+(ie[0]+2*ge[0]/3)+","+(ie[1]+2*ge[1]/3)+","+je[0]+","+je[1]}return B}function yi(le,C){for(var z,B=[],G=(1-C)/2,ie=le[0],ue=le[1],ge=1,ye=le.length;++ge<ye;)z=ie,ie=ue,ue=le[ge],B.push([G*(ue[0]-z[0]),G*(ue[1]-z[1])]);return B}function Ni(le){if(le.length<3)return fo(le);var C=1,z=le.length,B=le[0],G=B[0],ie=B[1],ue=[G,G,G,(B=le[1])[0]],ge=[ie,ie,ie,B[1]],ye=[G,",",ie,"L",Ja(Ki,ue),",",Ja(Ki,ge)];for(le.push(le[z-1]);++C<=z;)B=le[C],ue.shift(),ue.push(B[0]),ge.shift(),ge.push(B[1]),ns(ye,ue,ge);return le.pop(),ye.push("L",B),ye.join("")}function Ja(le,C){return le[0]*C[0]+le[1]*C[1]+le[2]*C[2]+le[3]*C[3]}Co.forEach(function(le,C){C.key=le,C.closed=/-closed$/.test(le)});var io=[0,2/3,1/3,0],Ka=[0,1/3,2/3,0],Ki=[0,1/6,2/3,1/6];function ns(le,C,z){le.push("C",Ja(io,C),",",Ja(io,z),",",Ja(Ka,C),",",Ja(Ka,z),",",Ja(Ki,C),",",Ja(Ki,z))}function Ko(le,C){return(C[1]-le[1])/(C[0]-le[0])}function Ds(le){for(var C,z,B,G=-1,ie=le.length;++G<ie;)z=(C=le[G])[0],B=C[1]-qe,C[0]=z*Math.cos(B),C[1]=z*Math.sin(B);return le}function Li(le){var C=Qr,z=Qr,B=0,G=yn,ie=zi,ue=fo,ge=ue.key,ye=ue,Me="L",je=.7;function We(nt){var bt,At,_t,wt=[],xt=[],Ft=[],Ot=-1,Nt=nt.length,er=dr(C),fr=dr(B),kr=C===z?function(){return At}:dr(z),Tr=B===G?function(){return _t}:dr(G);function Jr(){wt.push("M",ue(le(Ft),je),Me,ye(le(xt.reverse()),je),"Z")}for(;++Ot<Nt;)ie.call(this,bt=nt[Ot],Ot)?(xt.push([At=+er.call(this,bt,Ot),_t=+fr.call(this,bt,Ot)]),Ft.push([+kr.call(this,bt,Ot),+Tr.call(this,bt,Ot)])):xt.length&&(Jr(),xt=[],Ft=[]);return xt.length&&Jr(),wt.length?wt.join(""):null}return We.x=function(nt){return arguments.length?(C=z=nt,We):z},We.x0=function(nt){return arguments.length?(C=nt,We):C},We.x1=function(nt){return arguments.length?(z=nt,We):z},We.y=function(nt){return arguments.length?(B=G=nt,We):G},We.y0=function(nt){return arguments.length?(B=nt,We):B},We.y1=function(nt){return arguments.length?(G=nt,We):G},We.defined=function(nt){return arguments.length?(ie=nt,We):ie},We.interpolate=function(nt){return arguments.length?(ge=typeof nt=="function"?ue=nt:(ue=Co.get(nt)||fo).key,ye=ue.reverse||ue,Me=ue.closed?"M":"L",We):ge},We.tension=function(nt){return arguments.length?(je=nt,We):je},We}function Rs(le){return le.source}function Ci(le){return le.target}function Qo(le){return le.radius}function ia(le){return[le.x,le.y]}function ga(le){return function(){var C=le.apply(this,arguments),z=C[0],B=C[1]-qe;return[z*Math.cos(B),z*Math.sin(B)]}}function Fs(){return 64}function Bs(){return"circle"}function $o(le){var C=Math.sqrt(le/Vt);return"M0,"+C+"A"+C+","+C+" 0 1,1 0,"+-C+"A"+C+","+C+" 0 1,1 0,"+C+"Z"}g.svg.line.radial=function(){var le=Go(Ds);return le.radius=le.x,delete le.x,le.angle=le.y,delete le.y,le},ci.reverse=ho,ho.reverse=ci,g.svg.area=function(){return Li(E)},g.svg.area.radial=function(){var le=Li(Ds);return le.radius=le.x,delete le.x,le.innerRadius=le.x0,delete le.x0,le.outerRadius=le.x1,delete le.x1,le.angle=le.y,delete le.y,le.startAngle=le.y0,delete le.y0,le.endAngle=le.y1,delete le.y1,le},g.svg.chord=function(){var le=Rs,C=Ci,z=Qo,B=Ca,G=_a;function ie(Me,je){var We,nt,bt=ue(this,le,Me,je),At=ue(this,C,Me,je);return"M"+bt.p0+ge(bt.r,bt.p1,bt.a1-bt.a0)+(nt=At,((We=bt).a0==nt.a0&&We.a1==nt.a1?ye(bt.r,bt.p1,bt.r,bt.p0):ye(bt.r,bt.p1,At.r,At.p0)+ge(At.r,At.p1,At.a1-At.a0)+ye(At.r,At.p1,bt.r,bt.p0))+"Z")}function ue(Me,je,We,nt){var bt=je.call(Me,We,nt),At=z.call(Me,bt,nt),_t=B.call(Me,bt,nt)-qe,wt=G.call(Me,bt,nt)-qe;return{r:At,a0:_t,a1:wt,p0:[At*Math.cos(_t),At*Math.sin(_t)],p1:[At*Math.cos(wt),At*Math.sin(wt)]}}function ge(Me,je,We){return"A"+Me+","+Me+" 0 "+ +(We>Vt)+",1 "+je}function ye(Me,je,We,nt){return"Q 0,0 "+nt}return ie.radius=function(Me){return arguments.length?(z=dr(Me),ie):z},ie.source=function(Me){return arguments.length?(le=dr(Me),ie):le},ie.target=function(Me){return arguments.length?(C=dr(Me),ie):C},ie.startAngle=function(Me){return arguments.length?(B=dr(Me),ie):B},ie.endAngle=function(Me){return arguments.length?(G=dr(Me),ie):G},ie},g.svg.diagonal=function(){var le=Rs,C=Ci,z=ia;function B(G,ie){var ue=le.call(this,G,ie),ge=C.call(this,G,ie),ye=(ue.y+ge.y)/2,Me=[ue,{x:ue.x,y:ye},{x:ge.x,y:ye},ge];return"M"+(Me=Me.map(z))[0]+"C"+Me[1]+" "+Me[2]+" "+Me[3]}return B.source=function(G){return arguments.length?(le=dr(G),B):le},B.target=function(G){return arguments.length?(C=dr(G),B):C},B.projection=function(G){return arguments.length?(z=G,B):z},B},g.svg.diagonal.radial=function(){var le=g.svg.diagonal(),C=ia,z=le.projection;return le.projection=function(B){return arguments.length?z(ga(C=B)):C},le},g.svg.symbol=function(){var le=Bs,C=Fs;function z(B,G){return(Ao.get(le.call(this,B,G))||$o)(C.call(this,B,G))}return z.type=function(B){return arguments.length?(le=dr(B),z):le},z.size=function(B){return arguments.length?(C=dr(B),z):C},z};var Ao=g.map({circle:$o,cross:function(le){var C=Math.sqrt(le/5)/2;return"M"+-3*C+","+-C+"H"+-C+"V"+-3*C+"H"+C+"V"+-C+"H"+3*C+"V"+C+"H"+C+"V"+3*C+"H"+-C+"V"+C+"H"+-3*C+"Z"},diamond:function(le){var C=Math.sqrt(le/(2*Js)),z=C*Js;return"M0,"+-C+"L"+z+",0 0,"+C+" "+-z+",0Z"},square:function(le){var C=Math.sqrt(le)/2;return"M"+-C+","+-C+"L"+C+","+-C+" "+C+","+C+" "+-C+","+C+"Z"},"triangle-down":function(le){var C=Math.sqrt(le/Uo),z=C*Uo/2;return"M0,"+z+"L"+C+","+-z+" "+-C+","+-z+"Z"},"triangle-up":function(le){var C=Math.sqrt(le/Uo),z=C*Uo/2;return"M0,"+-z+"L"+C+","+z+" "+-C+","+z+"Z"}});g.svg.symbolTypes=Ao.keys();var Uo=Math.sqrt(3),Js=Math.tan(30*Re);J.transition=function(le){for(var C,z,B=fs||++hs,G=As(le),ie=[],ue=as||{time:Date.now(),ease:ms,delay:0,duration:250},ge=-1,ye=this.length;++ge<ye;){ie.push(C=[]);for(var Me=this[ge],je=-1,We=Me.length;++je<We;)(z=Me[je])&&is(z,je,G,B,ue),C.push(z)}return Qa(ie,G,B)},J.interrupt=function(le){return this.each(le==null?ks:qa(As(le)))};var ks=qa(As());function qa(le){return function(){var C,z,B;(C=this[le])&&(B=C[z=C.active])&&(B.timer.c=null,B.timer.t=NaN,--C.count?delete C[z]:delete this[le],C.active+=.5,B.event&&B.event.interrupt.call(this,this.__data__,B.index))}}function Qa(le,C,z){return N(le,Mi),le.namespace=C,le.id=z,le}var fs,as,Mi=[],hs=0;function Ms(le,C,z,B){var G=le.id,ie=le.namespace;return De(le,typeof z=="function"?function(ue,ge,ye){ue[ie][G].tween.set(C,B(z.call(ue,ue.__data__,ge,ye)))}:(z=B(z),function(ue){ue[ie][G].tween.set(C,z)}))}function vs(le){return le==null&&(le=""),function(){this.textContent=le}}function As(le){return le==null?"__transition__":"__transition_"+le+"__"}function is(le,C,z,B,G){var ie,ue,ge,ye,Me,je=le[z]||(le[z]={active:0,count:0}),We=je[B];function nt(At){var _t=je.active,wt=je[_t];for(var xt in wt&&(wt.timer.c=null,wt.timer.t=NaN,--je.count,delete je[_t],wt.event&&wt.event.interrupt.call(le,le.__data__,wt.index)),je)if(+xt<B){var Ft=je[xt];Ft.timer.c=null,Ft.timer.t=NaN,--je.count,delete je[xt]}ue.c=bt,Ir(function(){return ue.c&&bt(At||1)&&(ue.c=null,ue.t=NaN),1},0,ie),je.active=B,We.event&&We.event.start.call(le,le.__data__,C),Me=[],We.tween.forEach(function(Ot,Nt){(Nt=Nt.call(le,le.__data__,C))&&Me.push(Nt)}),ye=We.ease,ge=We.duration}function bt(At){for(var _t=At/ge,wt=ye(_t),xt=Me.length;xt>0;)Me[--xt].call(le,wt);if(_t>=1)return We.event&&We.event.end.call(le,le.__data__,C),--je.count?delete je[B]:delete le[z],1}We||(ie=G.time,ue=Ir(function(At){var _t=We.delay;if(ue.t=_t+ie,_t<=At)return nt(At-_t);ue.c=nt},0,ie),We=je[B]={tween:new w,time:ie,timer:ue,delay:G.delay,duration:G.duration,ease:G.ease,index:C},G=null,++je.count)}Mi.call=J.call,Mi.empty=J.empty,Mi.node=J.node,Mi.size=J.size,g.transition=function(le,C){return le&&le.transition?fs?le.transition(C):le:g.selection().transition(le)},g.transition.prototype=Mi,Mi.select=function(le){var C,z,B,G=this.id,ie=this.namespace,ue=[];le=re(le);for(var ge=-1,ye=this.length;++ge<ye;){ue.push(C=[]);for(var Me=this[ge],je=-1,We=Me.length;++je<We;)(B=Me[je])&&(z=le.call(B,B.__data__,je,ge))?("__data__"in B&&(z.__data__=B.__data__),is(z,je,ie,G,B[ie][G]),C.push(z)):C.push(null)}return Qa(ue,ie,G)},Mi.selectAll=function(le){var C,z,B,G,ie,ue=this.id,ge=this.namespace,ye=[];le=ne(le);for(var Me=-1,je=this.length;++Me<je;)for(var We=this[Me],nt=-1,bt=We.length;++nt<bt;)if(B=We[nt]){ie=B[ge][ue],z=le.call(B,B.__data__,nt,Me),ye.push(C=[]);for(var At=-1,_t=z.length;++At<_t;)(G=z[At])&&is(G,At,ge,ue,ie),C.push(G)}return Qa(ye,ge,ue)},Mi.filter=function(le){var C,z,B=[];typeof le!="function"&&(le=Ae(le));for(var G=0,ie=this.length;G<ie;G++){B.push(C=[]);for(var ue,ge=0,ye=(ue=this[G]).length;ge<ye;ge++)(z=ue[ge])&&le.call(z,z.__data__,ge,G)&&C.push(z)}return Qa(B,this.namespace,this.id)},Mi.tween=function(le,C){var z=this.id,B=this.namespace;return arguments.length<2?this.node()[B][z].tween.get(le):De(this,C==null?function(G){G[B][z].tween.remove(le)}:function(G){G[B][z].tween.set(le,C)})},Mi.attr=function(le,C){if(arguments.length<2){for(C in le)this.attr(C,le[C]);return this}var z=le=="transform"?jo:Ii,B=g.ns.qualify(le);function G(){this.removeAttribute(B)}function ie(){this.removeAttributeNS(B.space,B.local)}function ue(ye){return ye==null?G:(ye+="",function(){var Me,je=this.getAttribute(B);return je!==ye&&(Me=z(je,ye),function(We){this.setAttribute(B,Me(We))})})}function ge(ye){return ye==null?ie:(ye+="",function(){var Me,je=this.getAttributeNS(B.space,B.local);return je!==ye&&(Me=z(je,ye),function(We){this.setAttributeNS(B.space,B.local,Me(We))})})}return Ms(this,"attr."+le,C,B.local?ge:ue)},Mi.attrTween=function(le,C){var z=g.ns.qualify(le);return this.tween("attr."+le,z.local?function(B,G){var ie=C.call(this,B,G,this.getAttributeNS(z.space,z.local));return ie&&function(ue){this.setAttributeNS(z.space,z.local,ie(ue))}}:function(B,G){var ie=C.call(this,B,G,this.getAttribute(z));return ie&&function(ue){this.setAttribute(z,ie(ue))}})},Mi.style=function(le,C,z){var B=arguments.length;if(B<3){if(typeof le!="string"){for(z in B<2&&(C=""),le)this.style(z,le[z],C);return this}z=""}function G(){this.style.removeProperty(le)}function ie(ue){return ue==null?G:(ue+="",function(){var ge,ye=n(this).getComputedStyle(this,null).getPropertyValue(le);return ye!==ue&&(ge=Ii(ye,ue),function(Me){this.style.setProperty(le,ge(Me),z)})})}return Ms(this,"style."+le,C,ie)},Mi.styleTween=function(le,C,z){function B(G,ie){var ue=C.call(this,G,ie,n(this).getComputedStyle(this,null).getPropertyValue(le));return ue&&function(ge){this.style.setProperty(le,ue(ge),z)}}return arguments.length<3&&(z=""),this.tween("style."+le,B)},Mi.text=function(le){return Ms(this,"text",le,vs)},Mi.remove=function(){var le=this.namespace;return this.each("end.transition",function(){var C;this[le].count<2&&(C=this.parentNode)&&C.removeChild(this)})},Mi.ease=function(le){var C=this.id,z=this.namespace;return arguments.length<1?this.node()[z][C].ease:(typeof le!="function"&&(le=g.ease.apply(g,arguments)),De(this,function(B){B[z][C].ease=le}))},Mi.delay=function(le){var C=this.id,z=this.namespace;return arguments.length<1?this.node()[z][C].delay:De(this,typeof le=="function"?function(B,G,ie){B[z][C].delay=+le.call(B,B.__data__,G,ie)}:(le=+le,function(B){B[z][C].delay=le}))},Mi.duration=function(le){var C=this.id,z=this.namespace;return arguments.length<1?this.node()[z][C].duration:De(this,typeof le=="function"?function(B,G,ie){B[z][C].duration=Math.max(1,le.call(B,B.__data__,G,ie))}:(le=Math.max(1,le),function(B){B[z][C].duration=le}))},Mi.each=function(le,C){var z=this.id,B=this.namespace;if(arguments.length<2){var G=as,ie=fs;try{fs=z,De(this,function(ue,ge,ye){as=ue[B][z],le.call(ue,ue.__data__,ge,ye)})}finally{as=G,fs=ie}}else De(this,function(ue){var ge=ue[B][z];(ge.event||(ge.event=g.dispatch("start","end","interrupt"))).on(le,C)});return this},Mi.transition=function(){for(var le,C,z,B=this.id,G=++hs,ie=this.namespace,ue=[],ge=0,ye=this.length;ge<ye;ge++){ue.push(le=[]);for(var Me,je=0,We=(Me=this[ge]).length;je<We;je++)(C=Me[je])&&is(C,je,ie,G,{time:(z=C[ie][B]).time,ease:z.ease,delay:z.delay+z.duration,duration:z.duration}),le.push(C)}return Qa(ue,ie,G)},g.svg.axis=function(){var le,C=g.scale.linear(),z=Ks,B=6,G=6,ie=3,ue=[10],ge=null;function ye(Me){Me.each(function(){var je,We=g.select(this),nt=this.__chart__||C,bt=this.__chart__=C.copy(),At=ge??(bt.ticks?bt.ticks.apply(bt,ue):bt.domain()),_t=le??(bt.tickFormat?bt.tickFormat.apply(bt,ue):E),wt=We.selectAll(".tick").data(At,bt),xt=wt.enter().insert("g",".domain").attr("class","tick").style("opacity",Tt),Ft=g.transition(wt.exit()).style("opacity",Tt).remove(),Ot=g.transition(wt.order()).style("opacity",1),Nt=Math.max(B,0)+ie,er=sn(bt),fr=We.selectAll(".domain").data([0]),kr=(fr.enter().append("path").attr("class","domain"),g.transition(fr));xt.append("line"),xt.append("text");var Tr,Jr,Xr,hn,on=xt.select("line"),Nn=Ot.select("line"),Gn=wt.select("text").text(_t),oa=xt.select("text"),jr=Ot.select("text"),Mn=z==="top"||z==="left"?-1:1;if(z==="bottom"||z==="top"?(je=ps,Tr="x",Xr="y",Jr="x2",hn="y2",Gn.attr("dy",Mn<0?"0em":".71em").style("text-anchor","middle"),kr.attr("d","M"+er[0]+","+Mn*G+"V0H"+er[1]+"V"+Mn*G)):(je=Qs,Tr="y",Xr="x",Jr="y2",hn="x2",Gn.attr("dy",".32em").style("text-anchor",Mn<0?"end":"start"),kr.attr("d","M"+Mn*G+","+er[0]+"H0V"+er[1]+"H"+Mn*G)),on.attr(hn,Mn*B),oa.attr(Xr,Mn*Nt),Nn.attr(Jr,0).attr(hn,Mn*B),jr.attr(Tr,0).attr(Xr,Mn*Nt),bt.rangeBand){var Yn=bt,Vn=Yn.rangeBand()/2;nt=bt=function(Qn){return Yn(Qn)+Vn}}else nt.rangeBand?nt=bt:Ft.call(je,bt,nt);xt.call(je,nt,bt),Ot.call(je,bt,bt)})}return ye.scale=function(Me){return arguments.length?(C=Me,ye):C},ye.orient=function(Me){return arguments.length?(z=Me in ol?Me+"":Ks,ye):z},ye.ticks=function(){return arguments.length?(ue=b(arguments),ye):ue},ye.tickValues=function(Me){return arguments.length?(ge=Me,ye):ge},ye.tickFormat=function(Me){return arguments.length?(le=Me,ye):le},ye.tickSize=function(Me){var je=arguments.length;return je?(B=+Me,G=+arguments[je-1],ye):B},ye.innerTickSize=function(Me){return arguments.length?(B=+Me,ye):B},ye.outerTickSize=function(Me){return arguments.length?(G=+Me,ye):G},ye.tickPadding=function(Me){return arguments.length?(ie=+Me,ye):ie},ye.tickSubdivide=function(){return arguments.length&&ye},ye};var Ks="bottom",ol={top:1,right:1,bottom:1,left:1};function ps(le,C,z){le.attr("transform",function(B){var G=C(B);return"translate("+(isFinite(G)?G:z(B))+",0)"})}function Qs(le,C,z){le.attr("transform",function(B){var G=C(B);return"translate(0,"+(isFinite(G)?G:z(B))+")"})}g.svg.brush=function(){var le,C,z=$(je,"brushstart","brush","brushend"),B=null,G=null,ie=[0,0],ue=[0,0],ge=!0,ye=!0,Me=Qi[0];function je(_t){_t.each(function(){var wt=g.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",At).on("touchstart.brush",At),xt=wt.selectAll(".background").data([0]);xt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),wt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Ft=wt.selectAll(".resize").data(Me,E);Ft.exit().remove(),Ft.enter().append("g").attr("class",function(fr){return"resize "+fr}).style("cursor",function(fr){return Ss[fr]}).append("rect").attr("x",function(fr){return/[ew]$/.test(fr)?-3:null}).attr("y",function(fr){return/^[ns]/.test(fr)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Ft.style("display",je.empty()?"none":null);var Ot,Nt=g.transition(wt),er=g.transition(xt);B&&(Ot=sn(B),er.attr("x",Ot[0]).attr("width",Ot[1]-Ot[0]),nt(Nt)),G&&(Ot=sn(G),er.attr("y",Ot[0]).attr("height",Ot[1]-Ot[0]),bt(Nt)),We(Nt)})}function We(_t){_t.selectAll(".resize").attr("transform",function(wt){return"translate("+ie[+/e$/.test(wt)]+","+ue[+/^s/.test(wt)]+")"})}function nt(_t){_t.select(".extent").attr("x",ie[0]),_t.selectAll(".extent,.n>rect,.s>rect").attr("width",ie[1]-ie[0])}function bt(_t){_t.select(".extent").attr("y",ue[0]),_t.selectAll(".extent,.e>rect,.w>rect").attr("height",ue[1]-ue[0])}function At(){var _t,wt,xt=this,Ft=g.select(g.event.target),Ot=z.of(xt,arguments),Nt=g.select(xt),er=Ft.datum(),fr=!/^(n|s)$/.test(er)&&B,kr=!/^(e|w)$/.test(er)&&G,Tr=Ft.classed("extent"),Jr=It(xt),Xr=g.mouse(xt),hn=g.select(n(xt)).on("keydown.brush",Gn).on("keyup.brush",oa);if(g.event.changedTouches?hn.on("touchmove.brush",jr).on("touchend.brush",Yn):hn.on("mousemove.brush",jr).on("mouseup.brush",Yn),Nt.interrupt().selectAll("*").interrupt(),Tr)Xr[0]=ie[0]-Xr[0],Xr[1]=ue[0]-Xr[1];else if(er){var on=+/w$/.test(er),Nn=+/^n/.test(er);wt=[ie[1-on]-Xr[0],ue[1-Nn]-Xr[1]],Xr[0]=ie[on],Xr[1]=ue[Nn]}else g.event.altKey&&(_t=Xr.slice());function Gn(){g.event.keyCode==32&&(Tr||(_t=null,Xr[0]-=ie[1],Xr[1]-=ue[1],Tr=2),q())}function oa(){g.event.keyCode==32&&Tr==2&&(Xr[0]+=ie[1],Xr[1]+=ue[1],Tr=0,q())}function jr(){var Vn=g.mouse(xt),Qn=!1;wt&&(Vn[0]+=wt[0],Vn[1]+=wt[1]),Tr||(g.event.altKey?(_t||(_t=[(ie[0]+ie[1])/2,(ue[0]+ue[1])/2]),Xr[0]=ie[+(Vn[0]<_t[0])],Xr[1]=ue[+(Vn[1]<_t[1])]):_t=null),fr&&Mn(Vn,B,0)&&(nt(Nt),Qn=!0),kr&&Mn(Vn,G,1)&&(bt(Nt),Qn=!0),Qn&&(We(Nt),Ot({type:"brush",mode:Tr?"move":"resize"}))}function Mn(Vn,Qn,la){var wa,Zn,ma=sn(Qn),pa=ma[0],Aa=ma[1],va=Xr[la],Sa=la?ue:ie,Da=Sa[1]-Sa[0];if(Tr&&(pa-=va,Aa-=Da+va),wa=(la?ye:ge)?Math.max(pa,Math.min(Aa,Vn[la])):Vn[la],Tr?Zn=(wa+=va)+Da:(_t&&(va=Math.max(pa,Math.min(Aa,2*_t[la]-wa))),va<wa?(Zn=wa,wa=va):Zn=va),Sa[0]!=wa||Sa[1]!=Zn)return la?C=null:le=null,Sa[0]=wa,Sa[1]=Zn,!0}function Yn(){jr(),Nt.style("pointer-events","all").selectAll(".resize").style("display",je.empty()?"none":null),g.select("body").style("cursor",null),hn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Jr(),Ot({type:"brushend"})}Nt.style("pointer-events","none").selectAll(".resize").style("display",null),g.select("body").style("cursor",Ft.style("cursor")),Ot({type:"brushstart"}),jr()}return je.event=function(_t){_t.each(function(){var wt=z.of(this,arguments),xt={x:ie,y:ue,i:le,j:C},Ft=this.__chart__||xt;this.__chart__=xt,fs?g.select(this).transition().each("start.brush",function(){le=Ft.i,C=Ft.j,ie=Ft.x,ue=Ft.y,wt({type:"brushstart"})}).tween("brush:brush",function(){var Ot=li(ie,xt.x),Nt=li(ue,xt.y);return le=C=null,function(er){ie=xt.x=Ot(er),ue=xt.y=Nt(er),wt({type:"brush",mode:"resize"})}}).each("end.brush",function(){le=xt.i,C=xt.j,wt({type:"brush",mode:"resize"}),wt({type:"brushend"})}):(wt({type:"brushstart"}),wt({type:"brush",mode:"resize"}),wt({type:"brushend"}))})},je.x=function(_t){return arguments.length?(Me=Qi[!(B=_t)<<1|!G],je):B},je.y=function(_t){return arguments.length?(Me=Qi[!B<<1|!(G=_t)],je):G},je.clamp=function(_t){return arguments.length?(B&&G?(ge=!!_t[0],ye=!!_t[1]):B?ge=!!_t:G&&(ye=!!_t),je):B&&G?[ge,ye]:B?ge:G?ye:null},je.extent=function(_t){var wt,xt,Ft,Ot,Nt;return arguments.length?(B&&(wt=_t[0],xt=_t[1],G&&(wt=wt[0],xt=xt[0]),le=[wt,xt],B.invert&&(wt=B(wt),xt=B(xt)),xt<wt&&(Nt=wt,wt=xt,xt=Nt),wt==ie[0]&&xt==ie[1]||(ie=[wt,xt])),G&&(Ft=_t[0],Ot=_t[1],B&&(Ft=Ft[1],Ot=Ot[1]),C=[Ft,Ot],G.invert&&(Ft=G(Ft),Ot=G(Ot)),Ot<Ft&&(Nt=Ft,Ft=Ot,Ot=Nt),Ft==ue[0]&&Ot==ue[1]||(ue=[Ft,Ot])),je):(B&&(le?(wt=le[0],xt=le[1]):(wt=ie[0],xt=ie[1],B.invert&&(wt=B.invert(wt),xt=B.invert(xt)),xt<wt&&(Nt=wt,wt=xt,xt=Nt))),G&&(C?(Ft=C[0],Ot=C[1]):(Ft=ue[0],Ot=ue[1],G.invert&&(Ft=G.invert(Ft),Ot=G.invert(Ot)),Ot<Ft&&(Nt=Ft,Ft=Ot,Ot=Nt))),B&&G?[[wt,Ft],[xt,Ot]]:B?[wt,xt]:G&&[Ft,Ot])},je.clear=function(){return je.empty()||(ie=[0,0],ue=[0,0],le=C=null),je},je.empty=function(){return!!B&&ie[0]==ie[1]||!!G&&ue[0]==ue[1]},g.rebind(je,z,"on")};var Ss={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Qi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function sl(le){return JSON.parse(le.responseText)}function ll(le){var C=v.createRange();return C.selectNode(v.body),C.createContextualFragment(le.responseText)}g.text=Fr(function(le){return le.responseText}),g.json=function(le,C){return tn(le,"application/json",sl,C)},g.html=function(le,C){return tn(le,"text/html",ll,C)},g.xml=Fr(function(le){return le.responseXML}),typeof ee=="object"&&ee.exports?ee.exports=g:this.d3=g}).apply(self)},{}],59:[function(y,ee,te){ee.exports=y("./quad")},{"./quad":60}],60:[function(y,ee,te){var g=y("binary-search-bounds"),m=y("clamp"),b=y("parse-rect"),v=y("array-bounds"),e=y("pick-by-alias"),n=y("defined"),r=y("flatten-vertex-data"),o=y("is-obj"),t=y("dtype"),d=y("math-log2");function c(i,u){for(var f=u[0],s=u[1],h=1/(u[2]-f),p=1/(u[3]-s),a=new Array(i.length),x=0,l=i.length/2;x<l;x++)a[2*x]=m((i[2*x]-f)*h,0,1),a[2*x+1]=m((i[2*x+1]-s)*p,0,1);return a}ee.exports=function(i,u){u||(u={}),i=r(i,"float64"),u=e(u,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var f=n(u.maxDepth,255),s=n(u.bounds,v(i,2));s[0]===s[2]&&s[2]++,s[1]===s[3]&&s[3]++;var h,p=c(i,s),a=i.length>>>1;u.dtype||(u.dtype="array"),typeof u.dtype=="string"?h=new(t(u.dtype))(a):u.dtype&&(h=u.dtype,Array.isArray(h)&&(h.length=a));for(var x=0;x<a;++x)h[x]=x;var l=[],w=[],_=[],T=[];(function F(H,V,Z,K,q,W){if(!K.length)return null;var $=l[q]||(l[q]=[]),R=_[q]||(_[q]=[]),N=w[q]||(w[q]=[]),U=$.length;if(++q>f||W>1073741824){for(var Q=0;Q<K.length;Q++)$.push(K[Q]),R.push(W),N.push(null,null,null,null);return U}if($.push(K[0]),R.push(W),K.length<=1)return N.push(null,null,null,null),U;for(var j=.5*Z,X=H+j,J=V+j,re=[],ne=[],se=[],oe=[],pe=1,ce=K.length;pe<ce;pe++){var de=K[pe],xe=p[2*de],we=p[2*de+1];xe<X?we<J?re.push(de):ne.push(de):we<J?se.push(de):oe.push(de)}return W<<=2,N.push(F(H,V,j,re,q,W),F(H,J,j,ne,q,W+1),F(X,V,j,se,q,W+2),F(X,J,j,oe,q,W+3)),U})(0,0,1,h,0,1);for(var k=0,L=0;L<l.length;L++){var A=l[L];if(h.set)h.set(A,k);else for(var I=0,P=A.length;I<P;I++)h[I+k]=A[I];var S=k+l[L].length;T[L]=[k,S],k=S}return h.range=function(){for(var F,H=[],V=arguments.length;V--;)H[V]=arguments[V];if(o(H[H.length-1])){var Z=H.pop();H.length||Z.x==null&&Z.l==null&&Z.left==null||(H=[Z],F={}),F=e(Z,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else F={};H.length||(H=s);var K=b.apply(void 0,H),q=[Math.min(K.x,K.x+K.width),Math.min(K.y,K.y+K.height),Math.max(K.x,K.x+K.width),Math.max(K.y,K.y+K.height)],W=q[0],$=q[1],R=q[2],N=q[3],U=c([W,$,R,N],s),Q=U[0],j=U[1],X=U[2],J=U[3],re=n(F.level,l.length);if(F.d!=null){var ne;typeof F.d=="number"?ne=[F.d,F.d]:F.d.length&&(ne=F.d),re=Math.min(Math.max(Math.ceil(-d(Math.abs(ne[0])/(s[2]-s[0]))),Math.ceil(-d(Math.abs(ne[1])/(s[3]-s[1])))),re)}if(re=Math.min(re,l.length),F.lod)return E(Q,j,X,J,re);var se=[];function oe(ce,de,xe,we,be,Ee){if(be!==null&&Ee!==null&&!(Q>ce+xe||j>de+xe||X<ce||J<de||we>=re||be===Ee)){var fe=l[we];Ee===void 0&&(Ee=fe.length);for(var me=be;me<Ee;me++){var Te=fe[me],_e=i[2*Te],Ae=i[2*Te+1];_e>=W&&_e<=R&&Ae>=$&&Ae<=N&&se.push(Te)}var Pe=w[we],De=Pe[4*be+0],Ve=Pe[4*be+1],Qe=Pe[4*be+2],Oe=Pe[4*be+3],Ue=pe(Pe,be+1),Ge=.5*xe,Ye=we+1;oe(ce,de,Ge,Ye,De,Ve||Qe||Oe||Ue),oe(ce,de+Ge,Ge,Ye,Ve,Qe||Oe||Ue),oe(ce+Ge,de,Ge,Ye,Qe,Oe||Ue),oe(ce+Ge,de+Ge,Ge,Ye,Oe,Ue)}}function pe(ce,de){for(var xe=null,we=0;xe===null;)if(xe=ce[4*de+we],++we>ce.length)return null;return xe}return oe(0,0,1,0,0,1),se},h;function E(F,H,V,Z,K){for(var q=[],W=0;W<K;W++){var $=_[W],R=T[W][0],N=D(F,H,W),U=D(V,Z,W),Q=g.ge($,N),j=g.gt($,U,Q,$.length-1);q[W]=[Q+R,j+R]}return q}function D(F,H,V){for(var Z=1,K=.5,q=.5,W=.5,$=0;$<V;$++)Z<<=2,Z+=F<K?H<q?0:1:H<q?2:3,W*=.5,K+=F<K?-W:W,q+=H<q?-W:W;return Z}}},{"array-bounds":71,"binary-search-bounds":80,clamp:86,defined:124,dtype:127,"flatten-vertex-data":191,"is-obj":235,"math-log2":240,"parse-rect":249,"pick-by-alias":253}],61:[function(y,ee,te){Object.defineProperty(te,"__esModule",{value:!0});var g=y("@turf/meta");function m(e){var n=0;if(e&&e.length>0){n+=Math.abs(b(e[0]));for(var r=1;r<e.length;r++)n-=Math.abs(b(e[r]))}return n}function b(e){var n,r,o,t,d,c,i=0,u=e.length;if(u>2){for(c=0;c<u;c++)c===u-2?(o=u-2,t=u-1,d=0):c===u-1?(o=u-1,t=0,d=1):(o=c,t=c+1,d=c+2),n=e[o],r=e[t],i+=(v(e[d][0])-v(n[0]))*Math.sin(v(r[1]));i=6378137*i*6378137/2}return i}function v(e){return e*Math.PI/180}te.default=function(e){return g.geomReduce(e,function(n,r){return n+function(o){var t,d=0;switch(o.type){case"Polygon":return m(o.coordinates);case"MultiPolygon":for(t=0;t<o.coordinates.length;t++)d+=m(o.coordinates[t]);return d;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(r)},0)}},{"@turf/meta":63}],62:[function(y,ee,te){function g(u,f,s){s===void 0&&(s={});var h={type:"Feature"};return(s.id===0||s.id)&&(h.id=s.id),s.bbox&&(h.bbox=s.bbox),h.properties=f||{},h.geometry=u,h}function m(u,f,s){if(s===void 0&&(s={}),!u)throw new Error("coordinates is required");if(!Array.isArray(u))throw new Error("coordinates must be an Array");if(u.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!i(u[0])||!i(u[1]))throw new Error("coordinates must contain numbers");return g({type:"Point",coordinates:u},f,s)}function b(u,f,s){s===void 0&&(s={});for(var h=0,p=u;h<p.length;h++){var a=p[h];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var x=0;x<a[a.length-1].length;x++)if(a[a.length-1][x]!==a[0][x])throw new Error("First and last Position are not equivalent.")}return g({type:"Polygon",coordinates:u},f,s)}function v(u,f,s){if(s===void 0&&(s={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");return g({type:"LineString",coordinates:u},f,s)}function e(u,f){f===void 0&&(f={});var s={type:"FeatureCollection"};return f.id&&(s.id=f.id),f.bbox&&(s.bbox=f.bbox),s.features=u,s}function n(u,f,s){return s===void 0&&(s={}),g({type:"MultiLineString",coordinates:u},f,s)}function r(u,f,s){return s===void 0&&(s={}),g({type:"MultiPoint",coordinates:u},f,s)}function o(u,f,s){return s===void 0&&(s={}),g({type:"MultiPolygon",coordinates:u},f,s)}function t(u,f){f===void 0&&(f="kilometers");var s=te.factors[f];if(!s)throw new Error(f+" units is invalid");return u*s}function d(u,f){f===void 0&&(f="kilometers");var s=te.factors[f];if(!s)throw new Error(f+" units is invalid");return u/s}function c(u){return 180*(u%(2*Math.PI))/Math.PI}function i(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)}Object.defineProperty(te,"__esModule",{value:!0}),te.earthRadius=63710088e-1,te.factors={centimeters:100*te.earthRadius,centimetres:100*te.earthRadius,degrees:te.earthRadius/111325,feet:3.28084*te.earthRadius,inches:39.37*te.earthRadius,kilometers:te.earthRadius/1e3,kilometres:te.earthRadius/1e3,meters:te.earthRadius,metres:te.earthRadius,miles:te.earthRadius/1609.344,millimeters:1e3*te.earthRadius,millimetres:1e3*te.earthRadius,nauticalmiles:te.earthRadius/1852,radians:1,yards:1.0936*te.earthRadius},te.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/te.earthRadius,yards:1.0936133},te.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},te.feature=g,te.geometry=function(u,f,s){switch(u){case"Point":return m(f).geometry;case"LineString":return v(f).geometry;case"Polygon":return b(f).geometry;case"MultiPoint":return r(f).geometry;case"MultiLineString":return n(f).geometry;case"MultiPolygon":return o(f).geometry;default:throw new Error(u+" is invalid")}},te.point=m,te.points=function(u,f,s){return s===void 0&&(s={}),e(u.map(function(h){return m(h,f)}),s)},te.polygon=b,te.polygons=function(u,f,s){return s===void 0&&(s={}),e(u.map(function(h){return b(h,f)}),s)},te.lineString=v,te.lineStrings=function(u,f,s){return s===void 0&&(s={}),e(u.map(function(h){return v(h,f)}),s)},te.featureCollection=e,te.multiLineString=n,te.multiPoint=r,te.multiPolygon=o,te.geometryCollection=function(u,f,s){return s===void 0&&(s={}),g({type:"GeometryCollection",geometries:u},f,s)},te.round=function(u,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,f||0);return Math.round(u*s)/s},te.radiansToLength=t,te.lengthToRadians=d,te.lengthToDegrees=function(u,f){return c(d(u,f))},te.bearingToAzimuth=function(u){var f=u%360;return f<0&&(f+=360),f},te.radiansToDegrees=c,te.degreesToRadians=function(u){return u%360*Math.PI/180},te.convertLength=function(u,f,s){if(f===void 0&&(f="kilometers"),s===void 0&&(s="kilometers"),!(u>=0))throw new Error("length must be a positive number");return t(d(u,f),s)},te.convertArea=function(u,f,s){if(f===void 0&&(f="meters"),s===void 0&&(s="kilometers"),!(u>=0))throw new Error("area must be a positive number");var h=te.areaFactors[f];if(!h)throw new Error("invalid original units");var p=te.areaFactors[s];if(!p)throw new Error("invalid final units");return u/h*p},te.isNumber=i,te.isObject=function(u){return!!u&&u.constructor===Object},te.validateBBox=function(u){if(!u)throw new Error("bbox is required");if(!Array.isArray(u))throw new Error("bbox must be an Array");if(u.length!==4&&u.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");u.forEach(function(f){if(!i(f))throw new Error("bbox must only contain numbers")})},te.validateId=function(u){if(!u)throw new Error("id is required");if(["string","number"].indexOf(typeof u)===-1)throw new Error("id must be a number or a string")}},{}],63:[function(y,ee,te){Object.defineProperty(te,"__esModule",{value:!0});var g=y("@turf/helpers");function m(t,d,c){if(t!==null)for(var i,u,f,s,h,p,a,x,l=0,w=0,_=t.type,T=_==="FeatureCollection",k=_==="Feature",L=T?t.features.length:1,A=0;A<L;A++){h=(x=!!(a=T?t.features[A].geometry:k?t.geometry:t)&&a.type==="GeometryCollection")?a.geometries.length:1;for(var I=0;I<h;I++){var P=0,S=0;if((s=x?a.geometries[I]:a)!==null){p=s.coordinates;var E=s.type;switch(l=!c||E!=="Polygon"&&E!=="MultiPolygon"?0:1,E){case null:break;case"Point":if(d(p,w,A,P,S)===!1)return!1;w++,P++;break;case"LineString":case"MultiPoint":for(i=0;i<p.length;i++){if(d(p[i],w,A,P,S)===!1)return!1;w++,E==="MultiPoint"&&P++}E==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(i=0;i<p.length;i++){for(u=0;u<p[i].length-l;u++){if(d(p[i][u],w,A,P,S)===!1)return!1;w++}E==="MultiLineString"&&P++,E==="Polygon"&&S++}E==="Polygon"&&P++;break;case"MultiPolygon":for(i=0;i<p.length;i++){for(S=0,u=0;u<p[i].length;u++){for(f=0;f<p[i][u].length-l;f++){if(d(p[i][u][f],w,A,P,S)===!1)return!1;w++}S++}P++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(m(s.geometries[i],d,c)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function b(t,d){var c;switch(t.type){case"FeatureCollection":for(c=0;c<t.features.length&&d(t.features[c].properties,c)!==!1;c++);break;case"Feature":d(t.properties,0)}}function v(t,d){if(t.type==="Feature")d(t,0);else if(t.type==="FeatureCollection")for(var c=0;c<t.features.length&&d(t.features[c],c)!==!1;c++);}function e(t,d){var c,i,u,f,s,h,p,a,x,l,w=0,_=t.type==="FeatureCollection",T=t.type==="Feature",k=_?t.features.length:1;for(c=0;c<k;c++){for(h=_?t.features[c].geometry:T?t.geometry:t,a=_?t.features[c].properties:T?t.properties:{},x=_?t.features[c].bbox:T?t.bbox:void 0,l=_?t.features[c].id:T?t.id:void 0,s=(p=!!h&&h.type==="GeometryCollection")?h.geometries.length:1,u=0;u<s;u++)if((f=p?h.geometries[u]:h)!==null)switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(d(f,w,a,x,l)===!1)return!1;break;case"GeometryCollection":for(i=0;i<f.geometries.length;i++)if(d(f.geometries[i],w,a,x,l)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(d(null,w,a,x,l)===!1)return!1;w++}}function n(t,d){e(t,function(c,i,u,f,s){var h,p=c===null?null:c.type;switch(p){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(c,u,{bbox:f,id:s}),i,0)!==!1&&void 0}switch(p){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var a=0;a<c.coordinates.length;a++){var x={type:h,coordinates:c.coordinates[a]};if(d(g.feature(x,u),i,a)===!1)return!1}})}function r(t,d){n(t,function(c,i,u){var f=0;if(c.geometry){var s=c.geometry.type;if(s!=="Point"&&s!=="MultiPoint"){var h,p=0,a=0,x=0;return m(c,function(l,w,_,T,k){if(h===void 0||i>p||T>a||k>x)return h=l,p=i,a=T,x=k,void(f=0);var L=g.lineString([h,l],c.properties);if(d(L,i,u,k,f)===!1)return!1;f++,h=l})!==!1&&void 0}}})}function o(t,d){if(!t)throw new Error("geojson is required");n(t,function(c,i,u){if(c.geometry!==null){var f=c.geometry.type,s=c.geometry.coordinates;switch(f){case"LineString":if(d(c,i,u,0,0)===!1)return!1;break;case"Polygon":for(var h=0;h<s.length;h++)if(d(g.lineString(s[h],c.properties),i,u,h)===!1)return!1}}})}te.coordEach=m,te.coordReduce=function(t,d,c,i){var u=c;return m(t,function(f,s,h,p,a){u=s===0&&c===void 0?f:d(u,f,s,h,p,a)},i),u},te.propEach=b,te.propReduce=function(t,d,c){var i=c;return b(t,function(u,f){i=f===0&&c===void 0?u:d(i,u,f)}),i},te.featureEach=v,te.featureReduce=function(t,d,c){var i=c;return v(t,function(u,f){i=f===0&&c===void 0?u:d(i,u,f)}),i},te.coordAll=function(t){var d=[];return m(t,function(c){d.push(c)}),d},te.geomEach=e,te.geomReduce=function(t,d,c){var i=c;return e(t,function(u,f,s,h,p){i=f===0&&c===void 0?u:d(i,u,f,s,h,p)}),i},te.flattenEach=n,te.flattenReduce=function(t,d,c){var i=c;return n(t,function(u,f,s){i=f===0&&s===0&&c===void 0?u:d(i,u,f,s)}),i},te.segmentEach=r,te.segmentReduce=function(t,d,c){var i=c,u=!1;return r(t,function(f,s,h,p,a){i=u===!1&&c===void 0?f:d(i,f,s,h,p,a),u=!0}),i},te.lineEach=o,te.lineReduce=function(t,d,c){var i=c;return o(t,function(u,f,s,h){i=f===0&&c===void 0?u:d(i,u,f,s,h)}),i},te.findSegment=function(t,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var c,i=d.featureIndex||0,u=d.multiFeatureIndex||0,f=d.geometryIndex||0,s=d.segmentIndex||0,h=d.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),h=h||t.features[i].properties,c=t.features[i].geometry;break;case"Feature":h=h||t.properties,c=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":c=t;break;default:throw new Error("geojson is invalid")}if(c===null)return null;var p=c.coordinates;switch(c.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=p.length+s-1),g.lineString([p[s],p[s+1]],h,d);case"Polygon":return f<0&&(f=p.length+f),s<0&&(s=p[f].length+s-1),g.lineString([p[f][s],p[f][s+1]],h,d);case"MultiLineString":return u<0&&(u=p.length+u),s<0&&(s=p[u].length+s-1),g.lineString([p[u][s],p[u][s+1]],h,d);case"MultiPolygon":return u<0&&(u=p.length+u),f<0&&(f=p[u].length+f),s<0&&(s=p[u][f].length-s-1),g.lineString([p[u][f][s],p[u][f][s+1]],h,d)}throw new Error("geojson is invalid")},te.findPoint=function(t,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var c,i=d.featureIndex||0,u=d.multiFeatureIndex||0,f=d.geometryIndex||0,s=d.coordIndex||0,h=d.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),h=h||t.features[i].properties,c=t.features[i].geometry;break;case"Feature":h=h||t.properties,c=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":c=t;break;default:throw new Error("geojson is invalid")}if(c===null)return null;var p=c.coordinates;switch(c.type){case"Point":return g.point(p,h,d);case"MultiPoint":return u<0&&(u=p.length+u),g.point(p[u],h,d);case"LineString":return s<0&&(s=p.length+s),g.point(p[s],h,d);case"Polygon":return f<0&&(f=p.length+f),s<0&&(s=p[f].length+s),g.point(p[f][s],h,d);case"MultiLineString":return u<0&&(u=p.length+u),s<0&&(s=p[u].length+s),g.point(p[u][s],h,d);case"MultiPolygon":return u<0&&(u=p.length+u),f<0&&(f=p[u].length+f),s<0&&(s=p[u][f].length-s),g.point(p[u][f][s],h,d)}throw new Error("geojson is invalid")}},{"@turf/helpers":62}],64:[function(y,ee,te){Object.defineProperty(te,"__esModule",{value:!0});var g=y("@turf/meta");function m(b){var v=[1/0,1/0,-1/0,-1/0];return g.coordEach(b,function(e){v[0]>e[0]&&(v[0]=e[0]),v[1]>e[1]&&(v[1]=e[1]),v[2]<e[0]&&(v[2]=e[0]),v[3]<e[1]&&(v[3]=e[1])}),v}m.default=m,te.default=m},{"@turf/meta":66}],65:[function(y,ee,te){arguments[4][62][0].apply(te,arguments)},{dup:62}],66:[function(y,ee,te){arguments[4][63][0].apply(te,arguments)},{"@turf/helpers":65,dup:63}],67:[function(y,ee,te){Object.defineProperty(te,"__esModule",{value:!0});var g=y("@turf/meta"),m=y("@turf/helpers");te.default=function(b,v){v===void 0&&(v={});var e=0,n=0,r=0;return g.coordEach(b,function(o){e+=o[0],n+=o[1],r++}),m.point([e/r,n/r],v.properties)}},{"@turf/helpers":68,"@turf/meta":69}],68:[function(y,ee,te){function g(u,f,s){s===void 0&&(s={});var h={type:"Feature"};return(s.id===0||s.id)&&(h.id=s.id),s.bbox&&(h.bbox=s.bbox),h.properties=f||{},h.geometry=u,h}function m(u,f,s){return s===void 0&&(s={}),g({type:"Point",coordinates:u},f,s)}function b(u,f,s){s===void 0&&(s={});for(var h=0,p=u;h<p.length;h++){var a=p[h];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var x=0;x<a[a.length-1].length;x++)if(a[a.length-1][x]!==a[0][x])throw new Error("First and last Position are not equivalent.")}return g({type:"Polygon",coordinates:u},f,s)}function v(u,f,s){if(s===void 0&&(s={}),u.length<2)throw new Error("coordinates must be an array of two or more positions");return g({type:"LineString",coordinates:u},f,s)}function e(u,f){f===void 0&&(f={});var s={type:"FeatureCollection"};return f.id&&(s.id=f.id),f.bbox&&(s.bbox=f.bbox),s.features=u,s}function n(u,f,s){return s===void 0&&(s={}),g({type:"MultiLineString",coordinates:u},f,s)}function r(u,f,s){return s===void 0&&(s={}),g({type:"MultiPoint",coordinates:u},f,s)}function o(u,f,s){return s===void 0&&(s={}),g({type:"MultiPolygon",coordinates:u},f,s)}function t(u,f){f===void 0&&(f="kilometers");var s=te.factors[f];if(!s)throw new Error(f+" units is invalid");return u*s}function d(u,f){f===void 0&&(f="kilometers");var s=te.factors[f];if(!s)throw new Error(f+" units is invalid");return u/s}function c(u){return 180*(u%(2*Math.PI))/Math.PI}function i(u){return!isNaN(u)&&u!==null&&!Array.isArray(u)&&!/^\s*$/.test(u)}Object.defineProperty(te,"__esModule",{value:!0}),te.earthRadius=63710088e-1,te.factors={centimeters:100*te.earthRadius,centimetres:100*te.earthRadius,degrees:te.earthRadius/111325,feet:3.28084*te.earthRadius,inches:39.37*te.earthRadius,kilometers:te.earthRadius/1e3,kilometres:te.earthRadius/1e3,meters:te.earthRadius,metres:te.earthRadius,miles:te.earthRadius/1609.344,millimeters:1e3*te.earthRadius,millimetres:1e3*te.earthRadius,nauticalmiles:te.earthRadius/1852,radians:1,yards:te.earthRadius/1.0936},te.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/te.earthRadius,yards:1/1.0936},te.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},te.feature=g,te.geometry=function(u,f,s){switch(u){case"Point":return m(f).geometry;case"LineString":return v(f).geometry;case"Polygon":return b(f).geometry;case"MultiPoint":return r(f).geometry;case"MultiLineString":return n(f).geometry;case"MultiPolygon":return o(f).geometry;default:throw new Error(u+" is invalid")}},te.point=m,te.points=function(u,f,s){return s===void 0&&(s={}),e(u.map(function(h){return m(h,f)}),s)},te.polygon=b,te.polygons=function(u,f,s){return s===void 0&&(s={}),e(u.map(function(h){return b(h,f)}),s)},te.lineString=v,te.lineStrings=function(u,f,s){return s===void 0&&(s={}),e(u.map(function(h){return v(h,f)}),s)},te.featureCollection=e,te.multiLineString=n,te.multiPoint=r,te.multiPolygon=o,te.geometryCollection=function(u,f,s){return s===void 0&&(s={}),g({type:"GeometryCollection",geometries:u},f,s)},te.round=function(u,f){if(f===void 0&&(f=0),f&&!(f>=0))throw new Error("precision must be a positive number");var s=Math.pow(10,f||0);return Math.round(u*s)/s},te.radiansToLength=t,te.lengthToRadians=d,te.lengthToDegrees=function(u,f){return c(d(u,f))},te.bearingToAzimuth=function(u){var f=u%360;return f<0&&(f+=360),f},te.radiansToDegrees=c,te.degreesToRadians=function(u){return u%360*Math.PI/180},te.convertLength=function(u,f,s){if(f===void 0&&(f="kilometers"),s===void 0&&(s="kilometers"),!(u>=0))throw new Error("length must be a positive number");return t(d(u,f),s)},te.convertArea=function(u,f,s){if(f===void 0&&(f="meters"),s===void 0&&(s="kilometers"),!(u>=0))throw new Error("area must be a positive number");var h=te.areaFactors[f];if(!h)throw new Error("invalid original units");var p=te.areaFactors[s];if(!p)throw new Error("invalid final units");return u/h*p},te.isNumber=i,te.isObject=function(u){return!!u&&u.constructor===Object},te.validateBBox=function(u){if(!u)throw new Error("bbox is required");if(!Array.isArray(u))throw new Error("bbox must be an Array");if(u.length!==4&&u.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");u.forEach(function(f){if(!i(f))throw new Error("bbox must only contain numbers")})},te.validateId=function(u){if(!u)throw new Error("id is required");if(["string","number"].indexOf(typeof u)===-1)throw new Error("id must be a number or a string")},te.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},te.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},te.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},te.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},te.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},te.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},te.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},{}],69:[function(y,ee,te){Object.defineProperty(te,"__esModule",{value:!0});var g=y("@turf/helpers");function m(t,d,c){if(t!==null)for(var i,u,f,s,h,p,a,x,l=0,w=0,_=t.type,T=_==="FeatureCollection",k=_==="Feature",L=T?t.features.length:1,A=0;A<L;A++){h=(x=!!(a=T?t.features[A].geometry:k?t.geometry:t)&&a.type==="GeometryCollection")?a.geometries.length:1;for(var I=0;I<h;I++){var P=0,S=0;if((s=x?a.geometries[I]:a)!==null){p=s.coordinates;var E=s.type;switch(l=!c||E!=="Polygon"&&E!=="MultiPolygon"?0:1,E){case null:break;case"Point":if(d(p,w,A,P,S)===!1)return!1;w++,P++;break;case"LineString":case"MultiPoint":for(i=0;i<p.length;i++){if(d(p[i],w,A,P,S)===!1)return!1;w++,E==="MultiPoint"&&P++}E==="LineString"&&P++;break;case"Polygon":case"MultiLineString":for(i=0;i<p.length;i++){for(u=0;u<p[i].length-l;u++){if(d(p[i][u],w,A,P,S)===!1)return!1;w++}E==="MultiLineString"&&P++,E==="Polygon"&&S++}E==="Polygon"&&P++;break;case"MultiPolygon":for(i=0;i<p.length;i++){for(S=0,u=0;u<p[i].length;u++){for(f=0;f<p[i][u].length-l;f++){if(d(p[i][u][f],w,A,P,S)===!1)return!1;w++}S++}P++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(m(s.geometries[i],d,c)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function b(t,d){var c;switch(t.type){case"FeatureCollection":for(c=0;c<t.features.length&&d(t.features[c].properties,c)!==!1;c++);break;case"Feature":d(t.properties,0)}}function v(t,d){if(t.type==="Feature")d(t,0);else if(t.type==="FeatureCollection")for(var c=0;c<t.features.length&&d(t.features[c],c)!==!1;c++);}function e(t,d){var c,i,u,f,s,h,p,a,x,l,w=0,_=t.type==="FeatureCollection",T=t.type==="Feature",k=_?t.features.length:1;for(c=0;c<k;c++){for(h=_?t.features[c].geometry:T?t.geometry:t,a=_?t.features[c].properties:T?t.properties:{},x=_?t.features[c].bbox:T?t.bbox:void 0,l=_?t.features[c].id:T?t.id:void 0,s=(p=!!h&&h.type==="GeometryCollection")?h.geometries.length:1,u=0;u<s;u++)if((f=p?h.geometries[u]:h)!==null)switch(f.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(d(f,w,a,x,l)===!1)return!1;break;case"GeometryCollection":for(i=0;i<f.geometries.length;i++)if(d(f.geometries[i],w,a,x,l)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(d(null,w,a,x,l)===!1)return!1;w++}}function n(t,d){e(t,function(c,i,u,f,s){var h,p=c===null?null:c.type;switch(p){case null:case"Point":case"LineString":case"Polygon":return d(g.feature(c,u,{bbox:f,id:s}),i,0)!==!1&&void 0}switch(p){case"MultiPoint":h="Point";break;case"MultiLineString":h="LineString";break;case"MultiPolygon":h="Polygon"}for(var a=0;a<c.coordinates.length;a++){var x={type:h,coordinates:c.coordinates[a]};if(d(g.feature(x,u),i,a)===!1)return!1}})}function r(t,d){n(t,function(c,i,u){var f=0;if(c.geometry){var s=c.geometry.type;if(s!=="Point"&&s!=="MultiPoint"){var h,p=0,a=0,x=0;return m(c,function(l,w,_,T,k){if(h===void 0||i>p||T>a||k>x)return h=l,p=i,a=T,x=k,void(f=0);var L=g.lineString([h,l],c.properties);if(d(L,i,u,k,f)===!1)return!1;f++,h=l})!==!1&&void 0}}})}function o(t,d){if(!t)throw new Error("geojson is required");n(t,function(c,i,u){if(c.geometry!==null){var f=c.geometry.type,s=c.geometry.coordinates;switch(f){case"LineString":if(d(c,i,u,0,0)===!1)return!1;break;case"Polygon":for(var h=0;h<s.length;h++)if(d(g.lineString(s[h],c.properties),i,u,h)===!1)return!1}}})}te.coordEach=m,te.coordReduce=function(t,d,c,i){var u=c;return m(t,function(f,s,h,p,a){u=s===0&&c===void 0?f:d(u,f,s,h,p,a)},i),u},te.propEach=b,te.propReduce=function(t,d,c){var i=c;return b(t,function(u,f){i=f===0&&c===void 0?u:d(i,u,f)}),i},te.featureEach=v,te.featureReduce=function(t,d,c){var i=c;return v(t,function(u,f){i=f===0&&c===void 0?u:d(i,u,f)}),i},te.coordAll=function(t){var d=[];return m(t,function(c){d.push(c)}),d},te.geomEach=e,te.geomReduce=function(t,d,c){var i=c;return e(t,function(u,f,s,h,p){i=f===0&&c===void 0?u:d(i,u,f,s,h,p)}),i},te.flattenEach=n,te.flattenReduce=function(t,d,c){var i=c;return n(t,function(u,f,s){i=f===0&&s===0&&c===void 0?u:d(i,u,f,s)}),i},te.segmentEach=r,te.segmentReduce=function(t,d,c){var i=c,u=!1;return r(t,function(f,s,h,p,a){i=u===!1&&c===void 0?f:d(i,f,s,h,p,a),u=!0}),i},te.lineEach=o,te.lineReduce=function(t,d,c){var i=c;return o(t,function(u,f,s,h){i=f===0&&c===void 0?u:d(i,u,f,s,h)}),i},te.findSegment=function(t,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var c,i=d.featureIndex||0,u=d.multiFeatureIndex||0,f=d.geometryIndex||0,s=d.segmentIndex||0,h=d.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),h=h||t.features[i].properties,c=t.features[i].geometry;break;case"Feature":h=h||t.properties,c=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":c=t;break;default:throw new Error("geojson is invalid")}if(c===null)return null;var p=c.coordinates;switch(c.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=p.length+s-1),g.lineString([p[s],p[s+1]],h,d);case"Polygon":return f<0&&(f=p.length+f),s<0&&(s=p[f].length+s-1),g.lineString([p[f][s],p[f][s+1]],h,d);case"MultiLineString":return u<0&&(u=p.length+u),s<0&&(s=p[u].length+s-1),g.lineString([p[u][s],p[u][s+1]],h,d);case"MultiPolygon":return u<0&&(u=p.length+u),f<0&&(f=p[u].length+f),s<0&&(s=p[u][f].length-s-1),g.lineString([p[u][f][s],p[u][f][s+1]],h,d)}throw new Error("geojson is invalid")},te.findPoint=function(t,d){if(d=d||{},!g.isObject(d))throw new Error("options is invalid");var c,i=d.featureIndex||0,u=d.multiFeatureIndex||0,f=d.geometryIndex||0,s=d.coordIndex||0,h=d.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),h=h||t.features[i].properties,c=t.features[i].geometry;break;case"Feature":h=h||t.properties,c=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":c=t;break;default:throw new Error("geojson is invalid")}if(c===null)return null;var p=c.coordinates;switch(c.type){case"Point":return g.point(p,h,d);case"MultiPoint":return u<0&&(u=p.length+u),g.point(p[u],h,d);case"LineString":return s<0&&(s=p.length+s),g.point(p[s],h,d);case"Polygon":return f<0&&(f=p.length+f),s<0&&(s=p[f].length+s),g.point(p[f][s],h,d);case"MultiLineString":return u<0&&(u=p.length+u),s<0&&(s=p[u].length+s),g.point(p[u][s],h,d);case"MultiPolygon":return u<0&&(u=p.length+u),f<0&&(f=p[u].length+f),s<0&&(s=p[u][f].length-s),g.point(p[u][f][s],h,d)}throw new Error("geojson is invalid")}},{"@turf/helpers":68}],70:[function(y,ee,te){ee.exports=function(g){var m=0,b=0,v=0,e=0;return g.map(function(n){var r=(n=n.slice())[0],o=r.toUpperCase();if(r!=o)switch(n[0]=o,r){case"a":n[6]+=v,n[7]+=e;break;case"v":n[1]+=e;break;case"h":n[1]+=v;break;default:for(var t=1;t<n.length;)n[t++]+=v,n[t++]+=e}switch(o){case"Z":v=m,e=b;break;case"H":v=n[1];break;case"V":e=n[1];break;case"M":v=m=n[1],e=b=n[2];break;default:v=n[n.length-2],e=n[n.length-1]}return n})}},{}],71:[function(y,ee,te){ee.exports=function(g,m){if(!g||g.length==null)throw Error("Argument should be an array");m=m==null?1:Math.floor(m);for(var b=Array(2*m),v=0;v<m;v++){for(var e=-1/0,n=1/0,r=v,o=g.length;r<o;r+=m)g[r]>e&&(e=g[r]),g[r]<n&&(n=g[r]);b[v]=n,b[m+v]=e}return b}},{}],72:[function(y,ee,te){ee.exports=function(g,m,b){if(typeof Array.prototype.findIndex=="function")return g.findIndex(m,b);if(typeof m!="function")throw new TypeError("predicate must be a function");var v=Object(g),e=v.length;if(e===0)return-1;for(var n=0;n<e;n++)if(m.call(b,v[n],n,v))return n;return-1}},{}],73:[function(y,ee,te){var g=y("array-bounds");ee.exports=function(m,b,v){if(!m||m.length==null)throw Error("Argument should be an array");b==null&&(b=1),v==null&&(v=g(m,b));for(var e=0;e<b;e++){var n=v[b+e],r=v[e],o=e,t=m.length;if(n===1/0&&r===-1/0)for(o=e;o<t;o+=b)m[o]=m[o]===n?1:m[o]===r?0:.5;else if(n===1/0)for(o=e;o<t;o+=b)m[o]=m[o]===n?1:0;else if(r===-1/0)for(o=e;o<t;o+=b)m[o]=m[o]===r?0:1;else{var d=n-r;for(o=e;o<t;o+=b)isNaN(m[o])||(m[o]=d===0?.5:(m[o]-r)/d)}}return m}},{"array-bounds":71}],74:[function(y,ee,te){ee.exports=function(g,m){var b=typeof g=="number",v=typeof m=="number";b&&!v?(m=g,g=0):b||v||(g=0,m=0);var e=(m|=0)-(g|=0);if(e<0)throw new Error("array length must be positive");for(var n=new Array(e),r=0,o=g;r<e;r++,o++)n[r]=o;return n}},{}],75:[function(y,ee,te){(function(g){(function(){var m=y("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function b(T,k){if(T===k)return 0;for(var L=T.length,A=k.length,I=0,P=Math.min(L,A);I<P;++I)if(T[I]!==k[I]){L=T[I],A=k[I];break}return L<A?-1:A<L?1:0}function v(T){return g.Buffer&&typeof g.Buffer.isBuffer=="function"?g.Buffer.isBuffer(T):!(T==null||!T._isBuffer)}var e=y("util/"),n=Object.prototype.hasOwnProperty,r=Array.prototype.slice,o=function(){}.name==="foo";function t(T){return Object.prototype.toString.call(T)}function d(T){return!v(T)&&typeof g.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(T):!!T&&(T instanceof DataView||!!(T.buffer&&T.buffer instanceof ArrayBuffer)))}var c=ee.exports=p,i=/\s*function\s+([^\(\s]*)\s*/;function u(T){if(e.isFunction(T)){if(o)return T.name;var k=T.toString().match(i);return k&&k[1]}}function f(T,k){return typeof T=="string"?T.length<k?T:T.slice(0,k):T}function s(T){if(o||!e.isFunction(T))return e.inspect(T);var k=u(T);return"[Function"+(k?": "+k:"")+"]"}function h(T,k,L,A,I){throw new c.AssertionError({message:L,actual:T,expected:k,operator:A,stackStartFunction:I})}function p(T,k){T||h(T,!0,k,"==",c.ok)}function a(T,k,L,A){if(T===k)return!0;if(v(T)&&v(k))return b(T,k)===0;if(e.isDate(T)&&e.isDate(k))return T.getTime()===k.getTime();if(e.isRegExp(T)&&e.isRegExp(k))return T.source===k.source&&T.global===k.global&&T.multiline===k.multiline&&T.lastIndex===k.lastIndex&&T.ignoreCase===k.ignoreCase;if(T!==null&&typeof T=="object"||k!==null&&typeof k=="object"){if(d(T)&&d(k)&&t(T)===t(k)&&!(T instanceof Float32Array||T instanceof Float64Array))return b(new Uint8Array(T.buffer),new Uint8Array(k.buffer))===0;if(v(T)!==v(k))return!1;var I=(A=A||{actual:[],expected:[]}).actual.indexOf(T);return I!==-1&&I===A.expected.indexOf(k)||(A.actual.push(T),A.expected.push(k),function(P,S,E,D){if(P==null||S==null)return!1;if(e.isPrimitive(P)||e.isPrimitive(S))return P===S;if(E&&Object.getPrototypeOf(P)!==Object.getPrototypeOf(S))return!1;var F=x(P),H=x(S);if(F&&!H||!F&&H)return!1;if(F)return P=r.call(P),S=r.call(S),a(P,S,E);var V,Z,K=_(P),q=_(S);if(K.length!==q.length)return!1;for(K.sort(),q.sort(),Z=K.length-1;Z>=0;Z--)if(K[Z]!==q[Z])return!1;for(Z=K.length-1;Z>=0;Z--)if(V=K[Z],!a(P[V],S[V],E,D))return!1;return!0}(T,k,L,A))}return L?T===k:T==k}function x(T){return Object.prototype.toString.call(T)=="[object Arguments]"}function l(T,k){if(!T||!k)return!1;if(Object.prototype.toString.call(k)=="[object RegExp]")return k.test(T);try{if(T instanceof k)return!0}catch{}return!Error.isPrototypeOf(k)&&k.call({},T)===!0}function w(T,k,L,A){var I;if(typeof k!="function")throw new TypeError('"block" argument must be a function');typeof L=="string"&&(A=L,L=null),I=function(E){var D;try{E()}catch(F){D=F}return D}(k),A=(L&&L.name?" ("+L.name+").":".")+(A?" "+A:"."),T&&!I&&h(I,L,"Missing expected exception"+A);var P=typeof A=="string",S=!T&&I&&!L;if((!T&&e.isError(I)&&P&&l(I,L)||S)&&h(I,L,"Got unwanted exception"+A),T&&I&&L&&!l(I,L)||!T&&I)throw I}c.AssertionError=function(T){this.name="AssertionError",this.actual=T.actual,this.expected=T.expected,this.operator=T.operator,T.message?(this.message=T.message,this.generatedMessage=!1):(this.message=function(E){return f(s(E.actual),128)+" "+E.operator+" "+f(s(E.expected),128)}(this),this.generatedMessage=!0);var k=T.stackStartFunction||h;if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var L=new Error;if(L.stack){var A=L.stack,I=u(k),P=A.indexOf(`
`+I);if(P>=0){var S=A.indexOf(`
`,P+1);A=A.substring(S+1)}this.stack=A}}},e.inherits(c.AssertionError,Error),c.fail=h,c.ok=p,c.equal=function(T,k,L){T!=k&&h(T,k,L,"==",c.equal)},c.notEqual=function(T,k,L){T==k&&h(T,k,L,"!=",c.notEqual)},c.deepEqual=function(T,k,L){a(T,k,!1)||h(T,k,L,"deepEqual",c.deepEqual)},c.deepStrictEqual=function(T,k,L){a(T,k,!0)||h(T,k,L,"deepStrictEqual",c.deepStrictEqual)},c.notDeepEqual=function(T,k,L){a(T,k,!1)&&h(T,k,L,"notDeepEqual",c.notDeepEqual)},c.notDeepStrictEqual=function T(k,L,A){a(k,L,!0)&&h(k,L,A,"notDeepStrictEqual",T)},c.strictEqual=function(T,k,L){T!==k&&h(T,k,L,"===",c.strictEqual)},c.notStrictEqual=function(T,k,L){T===k&&h(T,k,L,"!==",c.notStrictEqual)},c.throws=function(T,k,L){w(!0,T,k,L)},c.doesNotThrow=function(T,k,L){w(!1,T,k,L)},c.ifError=function(T){if(T)throw T},c.strict=m(function T(k,L){k||h(k,!0,L,"==",T)},c,{equal:c.strictEqual,deepEqual:c.deepStrictEqual,notEqual:c.notStrictEqual,notDeepEqual:c.notDeepStrictEqual}),c.strict.strict=c.strict;var _=Object.keys||function(T){var k=[];for(var L in T)n.call(T,L)&&k.push(L);return k}}).call(this)}).call(this,typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{"object-assign":247,"util/":78}],76:[function(y,ee,te){typeof Object.create=="function"?ee.exports=function(g,m){g.super_=m,g.prototype=Object.create(m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})}:ee.exports=function(g,m){g.super_=m;var b=function(){};b.prototype=m.prototype,g.prototype=new b,g.prototype.constructor=g}},{}],77:[function(y,ee,te){ee.exports=function(g){return g&&typeof g=="object"&&typeof g.copy=="function"&&typeof g.fill=="function"&&typeof g.readUInt8=="function"}},{}],78:[function(y,ee,te){(function(g,m){(function(){var b=/%[sdj%]/g;te.format=function(P){if(!h(P)){for(var S=[],E=0;E<arguments.length;E++)S.push(n(arguments[E]));return S.join(" ")}E=1;for(var D=arguments,F=D.length,H=String(P).replace(b,function(Z){if(Z==="%%")return"%";if(E>=F)return Z;switch(Z){case"%s":return String(D[E++]);case"%d":return Number(D[E++]);case"%j":try{return JSON.stringify(D[E++])}catch{return"[Circular]"}default:return Z}}),V=D[E];E<F;V=D[++E])f(V)||!x(V)?H+=" "+V:H+=" "+n(V);return H},te.deprecate=function(P,S){if(p(m.process))return function(){return te.deprecate(P,S).apply(this,arguments)};if(g.noDeprecation===!0)return P;var E=!1;return function(){if(!E){if(g.throwDeprecation)throw new Error(S);g.traceDeprecation?console.trace(S):console.error(S),E=!0}return P.apply(this,arguments)}};var v,e={};function n(P,S){var E={seen:[],stylize:o};return arguments.length>=3&&(E.depth=arguments[2]),arguments.length>=4&&(E.colors=arguments[3]),u(S)?E.showHidden=S:S&&te._extend(E,S),p(E.showHidden)&&(E.showHidden=!1),p(E.depth)&&(E.depth=2),p(E.colors)&&(E.colors=!1),p(E.customInspect)&&(E.customInspect=!0),E.colors&&(E.stylize=r),t(E,P,E.depth)}function r(P,S){var E=n.styles[S];return E?"\x1B["+n.colors[E][0]+"m"+P+"\x1B["+n.colors[E][1]+"m":P}function o(P,S){return P}function t(P,S,E){if(P.customInspect&&S&&_(S.inspect)&&S.inspect!==te.inspect&&(!S.constructor||S.constructor.prototype!==S)){var D=S.inspect(E,P);return h(D)||(D=t(P,D,E)),D}var F=function(R,N){if(p(N))return R.stylize("undefined","undefined");if(h(N)){var U="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return R.stylize(U,"string")}if(s(N))return R.stylize(""+N,"number");if(u(N))return R.stylize(""+N,"boolean");if(f(N))return R.stylize("null","null")}(P,S);if(F)return F;var H=Object.keys(S),V=function(R){var N={};return R.forEach(function(U,Q){N[U]=!0}),N}(H);if(P.showHidden&&(H=Object.getOwnPropertyNames(S)),w(S)&&(H.indexOf("message")>=0||H.indexOf("description")>=0))return d(S);if(H.length===0){if(_(S)){var Z=S.name?": "+S.name:"";return P.stylize("[Function"+Z+"]","special")}if(a(S))return P.stylize(RegExp.prototype.toString.call(S),"regexp");if(l(S))return P.stylize(Date.prototype.toString.call(S),"date");if(w(S))return d(S)}var K,q="",W=!1,$=["{","}"];return i(S)&&(W=!0,$=["[","]"]),_(S)&&(q=" [Function"+(S.name?": "+S.name:"")+"]"),a(S)&&(q=" "+RegExp.prototype.toString.call(S)),l(S)&&(q=" "+Date.prototype.toUTCString.call(S)),w(S)&&(q=" "+d(S)),H.length!==0||W&&S.length!=0?E<0?a(S)?P.stylize(RegExp.prototype.toString.call(S),"regexp"):P.stylize("[Object]","special"):(P.seen.push(S),K=W?function(R,N,U,Q,j){for(var X=[],J=0,re=N.length;J<re;++J)I(N,String(J))?X.push(c(R,N,U,Q,String(J),!0)):X.push("");return j.forEach(function(ne){ne.match(/^\d+$/)||X.push(c(R,N,U,Q,ne,!0))}),X}(P,S,E,V,H):H.map(function(R){return c(P,S,E,V,R,W)}),P.seen.pop(),function(R,N,U){return R.reduce(function(Q,j){return j.indexOf(`
`)>=0,Q+j.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?U[0]+(N===""?"":N+`
 `)+" "+R.join(`,
  `)+" "+U[1]:U[0]+N+" "+R.join(", ")+" "+U[1]}(K,q,$)):$[0]+q+$[1]}function d(P){return"["+Error.prototype.toString.call(P)+"]"}function c(P,S,E,D,F,H){var V,Z,K;if((K=Object.getOwnPropertyDescriptor(S,F)||{value:S[F]}).get?Z=K.set?P.stylize("[Getter/Setter]","special"):P.stylize("[Getter]","special"):K.set&&(Z=P.stylize("[Setter]","special")),I(D,F)||(V="["+F+"]"),Z||(P.seen.indexOf(K.value)<0?(Z=f(E)?t(P,K.value,null):t(P,K.value,E-1)).indexOf(`
`)>-1&&(Z=H?Z.split(`
`).map(function(q){return"  "+q}).join(`
`).substr(2):`
`+Z.split(`
`).map(function(q){return"   "+q}).join(`
`)):Z=P.stylize("[Circular]","special")),p(V)){if(H&&F.match(/^\d+$/))return Z;(V=JSON.stringify(""+F)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(V=V.substr(1,V.length-2),V=P.stylize(V,"name")):(V=V.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),V=P.stylize(V,"string"))}return V+": "+Z}function i(P){return Array.isArray(P)}function u(P){return typeof P=="boolean"}function f(P){return P===null}function s(P){return typeof P=="number"}function h(P){return typeof P=="string"}function p(P){return P===void 0}function a(P){return x(P)&&T(P)==="[object RegExp]"}function x(P){return typeof P=="object"&&P!==null}function l(P){return x(P)&&T(P)==="[object Date]"}function w(P){return x(P)&&(T(P)==="[object Error]"||P instanceof Error)}function _(P){return typeof P=="function"}function T(P){return Object.prototype.toString.call(P)}function k(P){return P<10?"0"+P.toString(10):P.toString(10)}te.debuglog=function(P){if(p(v)&&(v=g.env.NODE_DEBUG||""),P=P.toUpperCase(),!e[P])if(new RegExp("\\b"+P+"\\b","i").test(v)){var S=g.pid;e[P]=function(){var E=te.format.apply(te,arguments);console.error("%s %d: %s",P,S,E)}}else e[P]=function(){};return e[P]},te.inspect=n,n.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},n.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},te.isArray=i,te.isBoolean=u,te.isNull=f,te.isNullOrUndefined=function(P){return P==null},te.isNumber=s,te.isString=h,te.isSymbol=function(P){return typeof P=="symbol"},te.isUndefined=p,te.isRegExp=a,te.isObject=x,te.isDate=l,te.isError=w,te.isFunction=_,te.isPrimitive=function(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||P===void 0},te.isBuffer=y("./support/isBuffer");var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var P=new Date,S=[k(P.getHours()),k(P.getMinutes()),k(P.getSeconds())].join(":");return[P.getDate(),L[P.getMonth()],S].join(" ")}function I(P,S){return Object.prototype.hasOwnProperty.call(P,S)}te.log=function(){console.log("%s - %s",A(),te.format.apply(te,arguments))},te.inherits=y("inherits"),te._extend=function(P,S){if(!S||!x(S))return P;for(var E=Object.keys(S),D=E.length;D--;)P[E[D]]=S[E[D]];return P}}).call(this)}).call(this,y("_process"),typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":77,_process:277,inherits:76}],79:[function(y,ee,te){te.byteLength=function(t){var d=r(t),c=d[0],i=d[1];return 3*(c+i)/4-i},te.toByteArray=function(t){var d,c,i=r(t),u=i[0],f=i[1],s=new b(function(a,x,l){return 3*(x+l)/4-l}(0,u,f)),h=0,p=f>0?u-4:u;for(c=0;c<p;c+=4)d=m[t.charCodeAt(c)]<<18|m[t.charCodeAt(c+1)]<<12|m[t.charCodeAt(c+2)]<<6|m[t.charCodeAt(c+3)],s[h++]=d>>16&255,s[h++]=d>>8&255,s[h++]=255&d;return f===2&&(d=m[t.charCodeAt(c)]<<2|m[t.charCodeAt(c+1)]>>4,s[h++]=255&d),f===1&&(d=m[t.charCodeAt(c)]<<10|m[t.charCodeAt(c+1)]<<4|m[t.charCodeAt(c+2)]>>2,s[h++]=d>>8&255,s[h++]=255&d),s},te.fromByteArray=function(t){for(var d,c=t.length,i=c%3,u=[],f=0,s=c-i;f<s;f+=16383)u.push(o(t,f,f+16383>s?s:f+16383));return i===1?(d=t[c-1],u.push(g[d>>2]+g[d<<4&63]+"==")):i===2&&(d=(t[c-2]<<8)+t[c-1],u.push(g[d>>10]+g[d>>4&63]+g[d<<2&63]+"=")),u.join("")};for(var g=[],m=[],b=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,n=v.length;e<n;++e)g[e]=v[e],m[v.charCodeAt(e)]=e;function r(t){var d=t.length;if(d%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.indexOf("=");return c===-1&&(c=d),[c,c===d?0:4-c%4]}function o(t,d,c){for(var i,u,f=[],s=d;s<c;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),f.push(g[(u=i)>>18&63]+g[u>>12&63]+g[u>>6&63]+g[63&u]);return f.join("")}m[45]=62,m[95]=63},{}],80:[function(y,ee,te){function g(r,o,t,d,c){for(var i=c+1;d<=c;){var u=d+c>>>1,f=r[u];(t!==void 0?t(f,o):f-o)>=0?(i=u,c=u-1):d=u+1}return i}function m(r,o,t,d,c){for(var i=c+1;d<=c;){var u=d+c>>>1,f=r[u];(t!==void 0?t(f,o):f-o)>0?(i=u,c=u-1):d=u+1}return i}function b(r,o,t,d,c){for(var i=d-1;d<=c;){var u=d+c>>>1,f=r[u];(t!==void 0?t(f,o):f-o)<0?(i=u,d=u+1):c=u-1}return i}function v(r,o,t,d,c){for(var i=d-1;d<=c;){var u=d+c>>>1,f=r[u];(t!==void 0?t(f,o):f-o)<=0?(i=u,d=u+1):c=u-1}return i}function e(r,o,t,d,c){for(;d<=c;){var i=d+c>>>1,u=r[i],f=t!==void 0?t(u,o):u-o;if(f===0)return i;f<=0?d=i+1:c=i-1}return-1}function n(r,o,t,d,c,i){return typeof t=="function"?i(r,o,t,d===void 0?0:0|d,c===void 0?r.length-1:0|c):i(r,o,void 0,t===void 0?0:0|t,d===void 0?r.length-1:0|d)}ee.exports={ge:function(r,o,t,d,c){return n(r,o,t,d,c,g)},gt:function(r,o,t,d,c){return n(r,o,t,d,c,m)},lt:function(r,o,t,d,c){return n(r,o,t,d,c,b)},le:function(r,o,t,d,c){return n(r,o,t,d,c,v)},eq:function(r,o,t,d,c){return n(r,o,t,d,c,e)}}},{}],81:[function(y,ee,te){function g(b){var v=32;return(b&=-b)&&v--,65535&b&&(v-=16),16711935&b&&(v-=8),252645135&b&&(v-=4),858993459&b&&(v-=2),1431655765&b&&(v-=1),v}te.INT_BITS=32,te.INT_MAX=2147483647,te.INT_MIN=-1<<31,te.sign=function(b){return(b>0)-(b<0)},te.abs=function(b){var v=b>>31;return(b^v)-v},te.min=function(b,v){return v^(b^v)&-(b<v)},te.max=function(b,v){return b^(b^v)&-(b<v)},te.isPow2=function(b){return!(b&b-1||!b)},te.log2=function(b){var v,e;return v=(b>65535)<<4,v|=e=((b>>>=v)>255)<<3,v|=e=((b>>>=e)>15)<<2,(v|=e=((b>>>=e)>3)<<1)|(b>>>=e)>>1},te.log10=function(b){return b>=1e9?9:b>=1e8?8:b>=1e7?7:b>=1e6?6:b>=1e5?5:b>=1e4?4:b>=1e3?3:b>=100?2:b>=10?1:0},te.popCount=function(b){return 16843009*((b=(858993459&(b-=b>>>1&1431655765))+(b>>>2&858993459))+(b>>>4)&252645135)>>>24},te.countTrailingZeros=g,te.nextPow2=function(b){return b+=b===0,--b,b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,(b|=b>>>16)+1},te.prevPow2=function(b){return b|=b>>>1,b|=b>>>2,b|=b>>>4,b|=b>>>8,(b|=b>>>16)-(b>>>1)},te.parity=function(b){return b^=b>>>16,b^=b>>>8,b^=b>>>4,27030>>>(b&=15)&1};var m=new Array(256);(function(b){for(var v=0;v<256;++v){var e=v,n=v,r=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--r;b[v]=n<<r&255}})(m),te.reverse=function(b){return m[255&b]<<24|m[b>>>8&255]<<16|m[b>>>16&255]<<8|m[b>>>24&255]},te.interleave2=function(b,v){return(b=1431655765&((b=858993459&((b=252645135&((b=16711935&((b&=65535)|b<<8))|b<<4))|b<<2))|b<<1))|(v=1431655765&((v=858993459&((v=252645135&((v=16711935&((v&=65535)|v<<8))|v<<4))|v<<2))|v<<1))<<1},te.deinterleave2=function(b,v){return(b=65535&((b=16711935&((b=252645135&((b=858993459&((b=b>>>v&1431655765)|b>>>1))|b>>>2))|b>>>4))|b>>>16))<<16>>16},te.interleave3=function(b,v,e){return b=1227133513&((b=3272356035&((b=251719695&((b=4278190335&((b&=1023)|b<<16))|b<<8))|b<<4))|b<<2),(b|=(v=1227133513&((v=3272356035&((v=251719695&((v=4278190335&((v&=1023)|v<<16))|v<<8))|v<<4))|v<<2))<<1)|(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<2},te.deinterleave3=function(b,v){return(b=1023&((b=4278190335&((b=251719695&((b=3272356035&((b=b>>>v&1227133513)|b>>>2))|b>>>4))|b>>>8))|b>>>16))<<22>>22},te.nextCombination=function(b){var v=b|b-1;return v+1|(~v&-~v)-1>>>g(b)+1}},{}],82:[function(y,ee,te){var g=y("clamp");ee.exports=function(e,n){n||(n={});var r,o,t,d,c,i,u,f,s,h,p,a=n.cutoff==null?.25:n.cutoff,x=n.radius==null?8:n.radius,l=n.channel||0;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!n.width||!n.height)throw Error("For raw data width and height should be provided by options");r=n.width,o=n.height,d=e,i=n.stride?n.stride:Math.floor(e.length/r/o)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(u=(f=e).getContext("2d"),r=f.width,o=f.height,s=u.getImageData(0,0,r,o),d=s.data,i=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(f=e.canvas,u=e,r=f.width,o=f.height,s=u.getImageData(0,0,r,o),d=s.data,i=4):window.ImageData&&e instanceof window.ImageData&&(s=e,r=e.width,o=e.height,d=s.data,i=4);if(t=Math.max(r,o),window.Uint8ClampedArray&&d instanceof window.Uint8ClampedArray||window.Uint8Array&&d instanceof window.Uint8Array)for(c=d,d=Array(r*o),h=0,p=c.length;h<p;h++)d[h]=c[h*i+l]/255;else if(i!==1)throw Error("Raw data can have only 1 value per pixel");var w=Array(r*o),_=Array(r*o),T=Array(t),k=Array(t),L=Array(t+1),A=Array(t);for(h=0,p=r*o;h<p;h++){var I=d[h];w[h]=I===1?0:I===0?m:Math.pow(Math.max(0,.5-I),2),_[h]=I===1?m:I===0?0:Math.pow(Math.max(0,I-.5),2)}b(w,r,o,T,k,A,L),b(_,r,o,T,k,A,L);var P=window.Float32Array?new Float32Array(r*o):new Array(r*o);for(h=0,p=r*o;h<p;h++)P[h]=g(1-((w[h]-_[h])/x+a),0,1);return P};var m=1e20;function b(e,n,r,o,t,d,c){for(var i=0;i<n;i++){for(var u=0;u<r;u++)o[u]=e[u*n+i];for(v(o,t,d,c,r),u=0;u<r;u++)e[u*n+i]=t[u]}for(u=0;u<r;u++){for(i=0;i<n;i++)o[i]=e[u*n+i];for(v(o,t,d,c,n),i=0;i<n;i++)e[u*n+i]=Math.sqrt(t[i])}}function v(e,n,r,o,t){r[0]=0,o[0]=-m,o[1]=+m;for(var d=1,c=0;d<t;d++){for(var i=(e[d]+d*d-(e[r[c]]+r[c]*r[c]))/(2*d-2*r[c]);i<=o[c];)c--,i=(e[d]+d*d-(e[r[c]]+r[c]*r[c]))/(2*d-2*r[c]);r[++c]=d,o[c]=i,o[c+1]=+m}for(d=0,c=0;d<t;d++){for(;o[c+1]<d;)c++;n[d]=(d-r[c])*(d-r[c])+e[r[c]]}}},{clamp:86}],83:[function(y,ee,te){},{}],84:[function(y,ee,te){var g,m=typeof Reflect=="object"?Reflect:null,b=m&&typeof m.apply=="function"?m.apply:function(s,h,p){return Function.prototype.apply.call(s,h,p)};g=m&&typeof m.ownKeys=="function"?m.ownKeys:Object.getOwnPropertySymbols?function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:function(s){return Object.getOwnPropertyNames(s)};var v=Number.isNaN||function(s){return s!=s};function e(){e.init.call(this)}ee.exports=e,ee.exports.once=function(s,h){return new Promise(function(p,a){function x(){l!==void 0&&s.removeListener("error",l),p([].slice.call(arguments))}var l;h!=="error"&&(l=function(w){s.removeListener(h,x),a(w)},s.once("error",l)),s.once(h,x)})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var n=10;function r(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}function o(s){return s._maxListeners===void 0?e.defaultMaxListeners:s._maxListeners}function t(s,h,p,a){var x,l,w,_;if(r(p),(l=s._events)===void 0?(l=s._events=Object.create(null),s._eventsCount=0):(l.newListener!==void 0&&(s.emit("newListener",h,p.listener?p.listener:p),l=s._events),w=l[h]),w===void 0)w=l[h]=p,++s._eventsCount;else if(typeof w=="function"?w=l[h]=a?[p,w]:[w,p]:a?w.unshift(p):w.push(p),(x=o(s))>0&&w.length>x&&!w.warned){w.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+w.length+" "+String(h)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=s,T.type=h,T.count=w.length,_=T,console&&console.warn&&console.warn(_)}return s}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(s,h,p){var a={fired:!1,wrapFn:void 0,target:s,type:h,listener:p},x=d.bind(a);return x.listener=p,a.wrapFn=x,x}function i(s,h,p){var a=s._events;if(a===void 0)return[];var x=a[h];return x===void 0?[]:typeof x=="function"?p?[x.listener||x]:[x]:p?function(l){for(var w=new Array(l.length),_=0;_<w.length;++_)w[_]=l[_].listener||l[_];return w}(x):f(x,x.length)}function u(s){var h=this._events;if(h!==void 0){var p=h[s];if(typeof p=="function")return 1;if(p!==void 0)return p.length}return 0}function f(s,h){for(var p=new Array(h),a=0;a<h;++a)p[a]=s[a];return p}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(s){if(typeof s!="number"||s<0||v(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");n=s}}),e.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(s){if(typeof s!="number"||s<0||v(s))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+s+".");return this._maxListeners=s,this},e.prototype.getMaxListeners=function(){return o(this)},e.prototype.emit=function(s){for(var h=[],p=1;p<arguments.length;p++)h.push(arguments[p]);var a=s==="error",x=this._events;if(x!==void 0)a=a&&x.error===void 0;else if(!a)return!1;if(a){var l;if(h.length>0&&(l=h[0]),l instanceof Error)throw l;var w=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw w.context=l,w}var _=x[s];if(_===void 0)return!1;if(typeof _=="function")b(_,this,h);else{var T=_.length,k=f(_,T);for(p=0;p<T;++p)b(k[p],this,h)}return!0},e.prototype.addListener=function(s,h){return t(this,s,h,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(s,h){return t(this,s,h,!0)},e.prototype.once=function(s,h){return r(h),this.on(s,c(this,s,h)),this},e.prototype.prependOnceListener=function(s,h){return r(h),this.prependListener(s,c(this,s,h)),this},e.prototype.removeListener=function(s,h){var p,a,x,l,w;if(r(h),(a=this._events)===void 0)return this;if((p=a[s])===void 0)return this;if(p===h||p.listener===h)--this._eventsCount==0?this._events=Object.create(null):(delete a[s],a.removeListener&&this.emit("removeListener",s,p.listener||h));else if(typeof p!="function"){for(x=-1,l=p.length-1;l>=0;l--)if(p[l]===h||p[l].listener===h){w=p[l].listener,x=l;break}if(x<0)return this;x===0?p.shift():function(_,T){for(;T+1<_.length;T++)_[T]=_[T+1];_.pop()}(p,x),p.length===1&&(a[s]=p[0]),a.removeListener!==void 0&&this.emit("removeListener",s,w||h)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(s){var h,p,a;if((p=this._events)===void 0)return this;if(p.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):p[s]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete p[s]),this;if(arguments.length===0){var x,l=Object.keys(p);for(a=0;a<l.length;++a)(x=l[a])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(h=p[s])=="function")this.removeListener(s,h);else if(h!==void 0)for(a=h.length-1;a>=0;a--)this.removeListener(s,h[a]);return this},e.prototype.listeners=function(s){return i(this,s,!0)},e.prototype.rawListeners=function(s){return i(this,s,!1)},e.listenerCount=function(s,h){return typeof s.listenerCount=="function"?s.listenerCount(h):u.call(s,h)},e.prototype.listenerCount=u,e.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},{}],85:[function(y,ee,te){(function(g){(function(){var m=y("base64-js"),b=y("ieee754");te.Buffer=e,te.SlowBuffer=function(R){return+R!=R&&(R=0),e.alloc(+R)},te.INSPECT_MAX_BYTES=50;function v(R){if(R>2147483647)throw new RangeError('The value "'+R+'" is invalid for option "size"');var N=new Uint8Array(R);return N.__proto__=e.prototype,N}function e(R,N,U){if(typeof R=="number"){if(typeof N=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(R)}return n(R,N,U)}function n(R,N,U){if(typeof R=="string")return function(X,J){if(typeof J=="string"&&J!==""||(J="utf8"),!e.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var re=0|c(X,J),ne=v(re),se=ne.write(X,J);return se!==re&&(ne=ne.slice(0,se)),ne}(R,N);if(ArrayBuffer.isView(R))return t(R);if(R==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R);if(W(R,ArrayBuffer)||R&&W(R.buffer,ArrayBuffer))return function(X,J,re){if(J<0||X.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<J+(re||0))throw new RangeError('"length" is outside of buffer bounds');var ne;return ne=J===void 0&&re===void 0?new Uint8Array(X):re===void 0?new Uint8Array(X,J):new Uint8Array(X,J,re),ne.__proto__=e.prototype,ne}(R,N,U);if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=R.valueOf&&R.valueOf();if(Q!=null&&Q!==R)return e.from(Q,N,U);var j=function(X){if(e.isBuffer(X)){var J=0|d(X.length),re=v(J);return re.length===0||X.copy(re,0,0,J),re}if(X.length!==void 0)return typeof X.length!="number"||$(X.length)?v(0):t(X);if(X.type==="Buffer"&&Array.isArray(X.data))return t(X.data)}(R);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return e.from(R[Symbol.toPrimitive]("string"),N,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}function r(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function o(R){return r(R),v(R<0?0:0|d(R))}function t(R){for(var N=R.length<0?0:0|d(R.length),U=v(N),Q=0;Q<N;Q+=1)U[Q]=255&R[Q];return U}function d(R){if(R>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|R}function c(R,N){if(e.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||W(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var U=R.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&U===0)return 0;for(var j=!1;;)switch(N){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return Z(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return K(R).length;default:if(j)return Q?-1:Z(R).length;N=(""+N).toLowerCase(),j=!0}}function i(R,N,U){var Q=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(N>>>=0))return"";for(R||(R="utf8");;)switch(R){case"hex":return A(this,N,U);case"utf8":case"utf-8":return T(this,N,U);case"ascii":return k(this,N,U);case"latin1":case"binary":return L(this,N,U);case"base64":return _(this,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,N,U);default:if(Q)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),Q=!0}}function u(R,N,U){var Q=R[N];R[N]=R[U],R[U]=Q}function f(R,N,U,Q,j){if(R.length===0)return-1;if(typeof U=="string"?(Q=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),$(U=+U)&&(U=j?0:R.length-1),U<0&&(U=R.length+U),U>=R.length){if(j)return-1;U=R.length-1}else if(U<0){if(!j)return-1;U=0}if(typeof N=="string"&&(N=e.from(N,Q)),e.isBuffer(N))return N.length===0?-1:s(R,N,U,Q,j);if(typeof N=="number")return N&=255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(R,N,U):Uint8Array.prototype.lastIndexOf.call(R,N,U):s(R,[N],U,Q,j);throw new TypeError("val must be string, number or Buffer")}function s(R,N,U,Q,j){var X,J=1,re=R.length,ne=N.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(R.length<2||N.length<2)return-1;J=2,re/=2,ne/=2,U/=2}function se(de,xe){return J===1?de[xe]:de.readUInt16BE(xe*J)}if(j){var oe=-1;for(X=U;X<re;X++)if(se(R,X)===se(N,oe===-1?0:X-oe)){if(oe===-1&&(oe=X),X-oe+1===ne)return oe*J}else oe!==-1&&(X-=X-oe),oe=-1}else for(U+ne>re&&(U=re-ne),X=U;X>=0;X--){for(var pe=!0,ce=0;ce<ne;ce++)if(se(R,X+ce)!==se(N,ce)){pe=!1;break}if(pe)return X}return-1}function h(R,N,U,Q){U=Number(U)||0;var j=R.length-U;Q?(Q=Number(Q))>j&&(Q=j):Q=j;var X=N.length;Q>X/2&&(Q=X/2);for(var J=0;J<Q;++J){var re=parseInt(N.substr(2*J,2),16);if($(re))return J;R[U+J]=re}return J}function p(R,N,U,Q){return q(Z(N,R.length-U),R,U,Q)}function a(R,N,U,Q){return q(function(j){for(var X=[],J=0;J<j.length;++J)X.push(255&j.charCodeAt(J));return X}(N),R,U,Q)}function x(R,N,U,Q){return a(R,N,U,Q)}function l(R,N,U,Q){return q(K(N),R,U,Q)}function w(R,N,U,Q){return q(function(j,X){for(var J,re,ne,se=[],oe=0;oe<j.length&&!((X-=2)<0);++oe)J=j.charCodeAt(oe),re=J>>8,ne=J%256,se.push(ne),se.push(re);return se}(N,R.length-U),R,U,Q)}function _(R,N,U){return N===0&&U===R.length?m.fromByteArray(R):m.fromByteArray(R.slice(N,U))}function T(R,N,U){U=Math.min(R.length,U);for(var Q=[],j=N;j<U;){var X,J,re,ne,se=R[j],oe=null,pe=se>239?4:se>223?3:se>191?2:1;if(j+pe<=U)switch(pe){case 1:se<128&&(oe=se);break;case 2:(192&(X=R[j+1]))==128&&(ne=(31&se)<<6|63&X)>127&&(oe=ne);break;case 3:X=R[j+1],J=R[j+2],(192&X)==128&&(192&J)==128&&(ne=(15&se)<<12|(63&X)<<6|63&J)>2047&&(ne<55296||ne>57343)&&(oe=ne);break;case 4:X=R[j+1],J=R[j+2],re=R[j+3],(192&X)==128&&(192&J)==128&&(192&re)==128&&(ne=(15&se)<<18|(63&X)<<12|(63&J)<<6|63&re)>65535&&ne<1114112&&(oe=ne)}oe===null?(oe=65533,pe=1):oe>65535&&(oe-=65536,Q.push(oe>>>10&1023|55296),oe=56320|1023&oe),Q.push(oe),j+=pe}return function(ce){var de=ce.length;if(de<=4096)return String.fromCharCode.apply(String,ce);for(var xe="",we=0;we<de;)xe+=String.fromCharCode.apply(String,ce.slice(we,we+=4096));return xe}(Q)}te.kMaxLength=2147483647,e.TYPED_ARRAY_SUPPORT=function(){try{var R=new Uint8Array(1);return R.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},R.foo()===42}catch{return!1}}(),e.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(e.prototype,"parent",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.buffer}}),Object.defineProperty(e.prototype,"offset",{enumerable:!0,get:function(){if(e.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),e.poolSize=8192,e.from=function(R,N,U){return n(R,N,U)},e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,e.alloc=function(R,N,U){return function(Q,j,X){return r(Q),Q<=0?v(Q):j!==void 0?typeof X=="string"?v(Q).fill(j,X):v(Q).fill(j):v(Q)}(R,N,U)},e.allocUnsafe=function(R){return o(R)},e.allocUnsafeSlow=function(R){return o(R)},e.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==e.prototype},e.compare=function(R,N){if(W(R,Uint8Array)&&(R=e.from(R,R.offset,R.byteLength)),W(N,Uint8Array)&&(N=e.from(N,N.offset,N.byteLength)),!e.isBuffer(R)||!e.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===N)return 0;for(var U=R.length,Q=N.length,j=0,X=Math.min(U,Q);j<X;++j)if(R[j]!==N[j]){U=R[j],Q=N[j];break}return U<Q?-1:Q<U?1:0},e.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(R,N){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return e.alloc(0);var U;if(N===void 0)for(N=0,U=0;U<R.length;++U)N+=R[U].length;var Q=e.allocUnsafe(N),j=0;for(U=0;U<R.length;++U){var X=R[U];if(W(X,Uint8Array)&&(X=e.from(X)),!e.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(Q,j),j+=X.length}return Q},e.byteLength=c,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var R=this.length;if(R%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<R;N+=2)u(this,N,N+1);return this},e.prototype.swap32=function(){var R=this.length;if(R%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<R;N+=4)u(this,N,N+3),u(this,N+1,N+2);return this},e.prototype.swap64=function(){var R=this.length;if(R%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<R;N+=8)u(this,N,N+7),u(this,N+1,N+6),u(this,N+2,N+5),u(this,N+3,N+4);return this},e.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?T(this,0,R):i.apply(this,arguments)},e.prototype.toLocaleString=e.prototype.toString,e.prototype.equals=function(R){if(!e.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R||e.compare(this,R)===0},e.prototype.inspect=function(){var R="",N=te.INSPECT_MAX_BYTES;return R=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(R+=" ... "),"<Buffer "+R+">"},e.prototype.compare=function(R,N,U,Q,j){if(W(R,Uint8Array)&&(R=e.from(R,R.offset,R.byteLength)),!e.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(N===void 0&&(N=0),U===void 0&&(U=R?R.length:0),Q===void 0&&(Q=0),j===void 0&&(j=this.length),N<0||U>R.length||Q<0||j>this.length)throw new RangeError("out of range index");if(Q>=j&&N>=U)return 0;if(Q>=j)return-1;if(N>=U)return 1;if(this===R)return 0;for(var X=(j>>>=0)-(Q>>>=0),J=(U>>>=0)-(N>>>=0),re=Math.min(X,J),ne=this.slice(Q,j),se=R.slice(N,U),oe=0;oe<re;++oe)if(ne[oe]!==se[oe]){X=ne[oe],J=se[oe];break}return X<J?-1:J<X?1:0},e.prototype.includes=function(R,N,U){return this.indexOf(R,N,U)!==-1},e.prototype.indexOf=function(R,N,U){return f(this,R,N,U,!0)},e.prototype.lastIndexOf=function(R,N,U){return f(this,R,N,U,!1)},e.prototype.write=function(R,N,U,Q){if(N===void 0)Q="utf8",U=this.length,N=0;else if(U===void 0&&typeof N=="string")Q=N,U=this.length,N=0;else{if(!isFinite(N))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");N>>>=0,isFinite(U)?(U>>>=0,Q===void 0&&(Q="utf8")):(Q=U,U=void 0)}var j=this.length-N;if((U===void 0||U>j)&&(U=j),R.length>0&&(U<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var X=!1;;)switch(Q){case"hex":return h(this,R,N,U);case"utf8":case"utf-8":return p(this,R,N,U);case"ascii":return a(this,R,N,U);case"latin1":case"binary":return x(this,R,N,U);case"base64":return l(this,R,N,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,R,N,U);default:if(X)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),X=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(R,N,U){var Q="";U=Math.min(R.length,U);for(var j=N;j<U;++j)Q+=String.fromCharCode(127&R[j]);return Q}function L(R,N,U){var Q="";U=Math.min(R.length,U);for(var j=N;j<U;++j)Q+=String.fromCharCode(R[j]);return Q}function A(R,N,U){var Q=R.length;(!N||N<0)&&(N=0),(!U||U<0||U>Q)&&(U=Q);for(var j="",X=N;X<U;++X)j+=V(R[X]);return j}function I(R,N,U){for(var Q=R.slice(N,U),j="",X=0;X<Q.length;X+=2)j+=String.fromCharCode(Q[X]+256*Q[X+1]);return j}function P(R,N,U){if(R%1!=0||R<0)throw new RangeError("offset is not uint");if(R+N>U)throw new RangeError("Trying to access beyond buffer length")}function S(R,N,U,Q,j,X){if(!e.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>j||N<X)throw new RangeError('"value" argument is out of bounds');if(U+Q>R.length)throw new RangeError("Index out of range")}function E(R,N,U,Q,j,X){if(U+Q>R.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function D(R,N,U,Q,j){return N=+N,U>>>=0,j||E(R,0,U,4),b.write(R,N,U,Q,23,4),U+4}function F(R,N,U,Q,j){return N=+N,U>>>=0,j||E(R,0,U,8),b.write(R,N,U,Q,52,8),U+8}e.prototype.slice=function(R,N){var U=this.length;(R=~~R)<0?(R+=U)<0&&(R=0):R>U&&(R=U),(N=N===void 0?U:~~N)<0?(N+=U)<0&&(N=0):N>U&&(N=U),N<R&&(N=R);var Q=this.subarray(R,N);return Q.__proto__=e.prototype,Q},e.prototype.readUIntLE=function(R,N,U){R>>>=0,N>>>=0,U||P(R,N,this.length);for(var Q=this[R],j=1,X=0;++X<N&&(j*=256);)Q+=this[R+X]*j;return Q},e.prototype.readUIntBE=function(R,N,U){R>>>=0,N>>>=0,U||P(R,N,this.length);for(var Q=this[R+--N],j=1;N>0&&(j*=256);)Q+=this[R+--N]*j;return Q},e.prototype.readUInt8=function(R,N){return R>>>=0,N||P(R,1,this.length),this[R]},e.prototype.readUInt16LE=function(R,N){return R>>>=0,N||P(R,2,this.length),this[R]|this[R+1]<<8},e.prototype.readUInt16BE=function(R,N){return R>>>=0,N||P(R,2,this.length),this[R]<<8|this[R+1]},e.prototype.readUInt32LE=function(R,N){return R>>>=0,N||P(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+16777216*this[R+3]},e.prototype.readUInt32BE=function(R,N){return R>>>=0,N||P(R,4,this.length),16777216*this[R]+(this[R+1]<<16|this[R+2]<<8|this[R+3])},e.prototype.readIntLE=function(R,N,U){R>>>=0,N>>>=0,U||P(R,N,this.length);for(var Q=this[R],j=1,X=0;++X<N&&(j*=256);)Q+=this[R+X]*j;return Q>=(j*=128)&&(Q-=Math.pow(2,8*N)),Q},e.prototype.readIntBE=function(R,N,U){R>>>=0,N>>>=0,U||P(R,N,this.length);for(var Q=N,j=1,X=this[R+--Q];Q>0&&(j*=256);)X+=this[R+--Q]*j;return X>=(j*=128)&&(X-=Math.pow(2,8*N)),X},e.prototype.readInt8=function(R,N){return R>>>=0,N||P(R,1,this.length),128&this[R]?-1*(255-this[R]+1):this[R]},e.prototype.readInt16LE=function(R,N){R>>>=0,N||P(R,2,this.length);var U=this[R]|this[R+1]<<8;return 32768&U?4294901760|U:U},e.prototype.readInt16BE=function(R,N){R>>>=0,N||P(R,2,this.length);var U=this[R+1]|this[R]<<8;return 32768&U?4294901760|U:U},e.prototype.readInt32LE=function(R,N){return R>>>=0,N||P(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},e.prototype.readInt32BE=function(R,N){return R>>>=0,N||P(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},e.prototype.readFloatLE=function(R,N){return R>>>=0,N||P(R,4,this.length),b.read(this,R,!0,23,4)},e.prototype.readFloatBE=function(R,N){return R>>>=0,N||P(R,4,this.length),b.read(this,R,!1,23,4)},e.prototype.readDoubleLE=function(R,N){return R>>>=0,N||P(R,8,this.length),b.read(this,R,!0,52,8)},e.prototype.readDoubleBE=function(R,N){return R>>>=0,N||P(R,8,this.length),b.read(this,R,!1,52,8)},e.prototype.writeUIntLE=function(R,N,U,Q){R=+R,N>>>=0,U>>>=0,Q||S(this,R,N,U,Math.pow(2,8*U)-1,0);var j=1,X=0;for(this[N]=255&R;++X<U&&(j*=256);)this[N+X]=R/j&255;return N+U},e.prototype.writeUIntBE=function(R,N,U,Q){R=+R,N>>>=0,U>>>=0,Q||S(this,R,N,U,Math.pow(2,8*U)-1,0);var j=U-1,X=1;for(this[N+j]=255&R;--j>=0&&(X*=256);)this[N+j]=R/X&255;return N+U},e.prototype.writeUInt8=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,1,255,0),this[N]=255&R,N+1},e.prototype.writeUInt16LE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,2,65535,0),this[N]=255&R,this[N+1]=R>>>8,N+2},e.prototype.writeUInt16BE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,2,65535,0),this[N]=R>>>8,this[N+1]=255&R,N+2},e.prototype.writeUInt32LE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,4,4294967295,0),this[N+3]=R>>>24,this[N+2]=R>>>16,this[N+1]=R>>>8,this[N]=255&R,N+4},e.prototype.writeUInt32BE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,4,4294967295,0),this[N]=R>>>24,this[N+1]=R>>>16,this[N+2]=R>>>8,this[N+3]=255&R,N+4},e.prototype.writeIntLE=function(R,N,U,Q){if(R=+R,N>>>=0,!Q){var j=Math.pow(2,8*U-1);S(this,R,N,U,j-1,-j)}var X=0,J=1,re=0;for(this[N]=255&R;++X<U&&(J*=256);)R<0&&re===0&&this[N+X-1]!==0&&(re=1),this[N+X]=(R/J>>0)-re&255;return N+U},e.prototype.writeIntBE=function(R,N,U,Q){if(R=+R,N>>>=0,!Q){var j=Math.pow(2,8*U-1);S(this,R,N,U,j-1,-j)}var X=U-1,J=1,re=0;for(this[N+X]=255&R;--X>=0&&(J*=256);)R<0&&re===0&&this[N+X+1]!==0&&(re=1),this[N+X]=(R/J>>0)-re&255;return N+U},e.prototype.writeInt8=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,1,127,-128),R<0&&(R=255+R+1),this[N]=255&R,N+1},e.prototype.writeInt16LE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,2,32767,-32768),this[N]=255&R,this[N+1]=R>>>8,N+2},e.prototype.writeInt16BE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,2,32767,-32768),this[N]=R>>>8,this[N+1]=255&R,N+2},e.prototype.writeInt32LE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,4,2147483647,-2147483648),this[N]=255&R,this[N+1]=R>>>8,this[N+2]=R>>>16,this[N+3]=R>>>24,N+4},e.prototype.writeInt32BE=function(R,N,U){return R=+R,N>>>=0,U||S(this,R,N,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[N]=R>>>24,this[N+1]=R>>>16,this[N+2]=R>>>8,this[N+3]=255&R,N+4},e.prototype.writeFloatLE=function(R,N,U){return D(this,R,N,!0,U)},e.prototype.writeFloatBE=function(R,N,U){return D(this,R,N,!1,U)},e.prototype.writeDoubleLE=function(R,N,U){return F(this,R,N,!0,U)},e.prototype.writeDoubleBE=function(R,N,U){return F(this,R,N,!1,U)},e.prototype.copy=function(R,N,U,Q){if(!e.isBuffer(R))throw new TypeError("argument should be a Buffer");if(U||(U=0),Q||Q===0||(Q=this.length),N>=R.length&&(N=R.length),N||(N=0),Q>0&&Q<U&&(Q=U),Q===U||R.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),R.length-N<Q-U&&(Q=R.length-N+U);var j=Q-U;if(this===R&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(N,U,Q);else if(this===R&&U<N&&N<Q)for(var X=j-1;X>=0;--X)R[X+N]=this[X+U];else Uint8Array.prototype.set.call(R,this.subarray(U,Q),N);return j},e.prototype.fill=function(R,N,U,Q){if(typeof R=="string"){if(typeof N=="string"?(Q=N,N=0,U=this.length):typeof U=="string"&&(Q=U,U=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!e.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(R.length===1){var j=R.charCodeAt(0);(Q==="utf8"&&j<128||Q==="latin1")&&(R=j)}}else typeof R=="number"&&(R&=255);if(N<0||this.length<N||this.length<U)throw new RangeError("Out of range index");if(U<=N)return this;var X;if(N>>>=0,U=U===void 0?this.length:U>>>0,R||(R=0),typeof R=="number")for(X=N;X<U;++X)this[X]=R;else{var J=e.isBuffer(R)?R:e.from(R,Q),re=J.length;if(re===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(X=0;X<U-N;++X)this[X+N]=J[X%re]}return this};var H=/[^+/0-9A-Za-z-_]/g;function V(R){return R<16?"0"+R.toString(16):R.toString(16)}function Z(R,N){var U;N=N||1/0;for(var Q=R.length,j=null,X=[],J=0;J<Q;++J){if((U=R.charCodeAt(J))>55295&&U<57344){if(!j){if(U>56319){(N-=3)>-1&&X.push(239,191,189);continue}if(J+1===Q){(N-=3)>-1&&X.push(239,191,189);continue}j=U;continue}if(U<56320){(N-=3)>-1&&X.push(239,191,189),j=U;continue}U=65536+(j-55296<<10|U-56320)}else j&&(N-=3)>-1&&X.push(239,191,189);if(j=null,U<128){if((N-=1)<0)break;X.push(U)}else if(U<2048){if((N-=2)<0)break;X.push(U>>6|192,63&U|128)}else if(U<65536){if((N-=3)<0)break;X.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;X.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return X}function K(R){return m.toByteArray(function(N){if((N=(N=N.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;N.length%4!=0;)N+="=";return N}(R))}function q(R,N,U,Q){for(var j=0;j<Q&&!(j+U>=N.length||j>=R.length);++j)N[j+U]=R[j];return j}function W(R,N){return R instanceof N||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===N.name}function $(R){return R!=R}}).call(this)}).call(this,y("buffer").Buffer)},{"base64-js":79,buffer:85,ieee754:230}],86:[function(y,ee,te){ee.exports=function(g,m,b){return m<b?g<m?m:g>b?b:g:g<b?b:g>m?m:g}},{}],87:[function(y,ee,te){var g=y("clamp");function m(b,v){v==null&&(v=!0);var e=b[0],n=b[1],r=b[2],o=b[3];return o==null&&(o=v?1:255),v&&(e*=255,n*=255,r*=255,o*=255),16777216*(e=255&g(e,0,255))+((n=255&g(n,0,255))<<16)+((r=255&g(r,0,255))<<8)+(o=255&g(o,0,255))}ee.exports=m,ee.exports.to=m,ee.exports.from=function(b,v){var e=(b=+b)>>>24,n=(16711680&b)>>>16,r=(65280&b)>>>8,o=255&b;return v===!1?[e,n,r,o]:[e/255,n/255,r/255,o/255]}},{clamp:86}],88:[function(y,ee,te){ee.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],89:[function(y,ee,te){var g=y("color-rgba"),m=y("clamp"),b=y("dtype");ee.exports=function(v,e){e!=="float"&&e||(e="array"),e==="uint"&&(e="uint8"),e==="uint_clamped"&&(e="uint8_clamped");var n=new(b(e))(4),r=e!=="uint8"&&e!=="uint8_clamped";return v.length&&typeof v!="string"||((v=g(v))[0]/=255,v[1]/=255,v[2]/=255),function(o){return o instanceof Uint8Array||o instanceof Uint8ClampedArray||!!(Array.isArray(o)&&(o[0]>1||o[0]===0)&&(o[1]>1||o[1]===0)&&(o[2]>1||o[2]===0)&&(!o[3]||o[3]>1))}(v)?(n[0]=v[0],n[1]=v[1],n[2]=v[2],n[3]=v[3]!=null?v[3]:255,r&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(r?(n[0]=v[0],n[1]=v[1],n[2]=v[2],n[3]=v[3]!=null?v[3]:1):(n[0]=m(Math.floor(255*v[0]),0,255),n[1]=m(Math.floor(255*v[1]),0,255),n[2]=m(Math.floor(255*v[2]),0,255),n[3]=v[3]==null?255:m(Math.floor(255*v[3]),0,255)),n)}},{clamp:86,"color-rgba":91,dtype:127}],90:[function(y,ee,te){(function(g){(function(){var m=y("color-name"),b=y("is-plain-obj"),v=y("defined");ee.exports=function(n){var r,o,t=[],d=1;if(typeof n=="string")if(m[n])t=m[n].slice(),o="rgb";else if(n==="transparent")d=0,o="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(n)){var c=(f=n.slice(1)).length;d=1,c<=4?(t=[parseInt(f[0]+f[0],16),parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16)],c===4&&(d=parseInt(f[3]+f[3],16)/255)):(t=[parseInt(f[0]+f[1],16),parseInt(f[2]+f[3],16),parseInt(f[4]+f[5],16)],c===8&&(d=parseInt(f[6]+f[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),o="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(n)){var i=r[1],u=i==="rgb",f=i.replace(/a$/,"");o=f,c=f==="cmyk"?4:f==="gray"?1:3,t=r[2].trim().split(/\s*,\s*/).map(function(h,p){if(/%$/.test(h))return p===c?parseFloat(h)/100:f==="rgb"?255*parseFloat(h)/100:parseFloat(h);if(f[p]==="h"){if(/deg$/.test(h))return parseFloat(h);if(e[h]!==void 0)return e[h]}return parseFloat(h)}),i===f&&t.push(1),d=u||t[c]===void 0?1:t[c],t=t.slice(0,c)}else n.length>10&&/[0-9](?:\s|\/)/.test(n)&&(t=n.match(/([0-9]+)/g).map(function(h){return parseFloat(h)}),o=n.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(n))if(b(n)){var s=v(n.r,n.red,n.R,null);s!==null?(o="rgb",t=[s,v(n.g,n.green,n.G),v(n.b,n.blue,n.B)]):(o="hsl",t=[v(n.h,n.hue,n.H),v(n.s,n.saturation,n.S),v(n.l,n.lightness,n.L,n.b,n.brightness)]),d=v(n.a,n.alpha,n.opacity,1),n.opacity!=null&&(d/=100)}else(Array.isArray(n)||g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(n))&&(t=[n[0],n[1],n[2]],o="rgb",d=n.length===4?n[3]:1);else o="rgb",t=[n>>>16,(65280&n)>>>8,255&n];return{space:o,values:t,alpha:d}};var e={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this)}).call(this,typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{"color-name":88,defined:124,"is-plain-obj":236}],91:[function(y,ee,te){var g=y("color-parse"),m=y("color-space/hsl"),b=y("clamp");ee.exports=function(v){var e,n=g(v);return n.space?((e=Array(3))[0]=b(n.values[0],0,255),e[1]=b(n.values[1],0,255),e[2]=b(n.values[2],0,255),n.space[0]==="h"&&(e=m.rgb(e)),e.push(b(n.alpha,0,1)),e):[]}},{clamp:86,"color-parse":90,"color-space/hsl":92}],92:[function(y,ee,te){var g=y("./rgb");ee.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(m){var b,v,e,n,r,o=m[0]/360,t=m[1]/100,d=m[2]/100;if(t===0)return[r=255*d,r,r];b=2*d-(v=d<.5?d*(1+t):d+t-d*t),n=[0,0,0];for(var c=0;c<3;c++)(e=o+1/3*-(c-1))<0?e++:e>1&&e--,r=6*e<1?b+6*(v-b)*e:2*e<1?v:3*e<2?b+(v-b)*(2/3-e)*6:b,n[c]=255*r;return n}},g.hsl=function(m){var b,v,e=m[0]/255,n=m[1]/255,r=m[2]/255,o=Math.min(e,n,r),t=Math.max(e,n,r),d=t-o;return t===o?b=0:e===t?b=(n-r)/d:n===t?b=2+(r-e)/d:r===t&&(b=4+(e-n)/d),(b=Math.min(60*b,360))<0&&(b+=360),v=(o+t)/2,[b,100*(t===o?0:v<=.5?d/(t+o):d/(2-t-o)),100*v]}},{"./rgb":93}],93:[function(y,ee,te){ee.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},{}],94:[function(y,ee,te){ee.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},{}],95:[function(y,ee,te){ee.exports=["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]},{}],96:[function(y,ee,te){ee.exports=["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]},{}],97:[function(y,ee,te){ee.exports=["normal","italic","oblique"]},{}],98:[function(y,ee,te){ee.exports=["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]},{}],99:[function(y,ee,te){ee.exports={parse:y("./parse"),stringify:y("./stringify")}},{"./parse":101,"./stringify":102}],100:[function(y,ee,te){var g=y("css-font-size-keywords");ee.exports={isSize:function(m){return/^[\d\.]/.test(m)||m.indexOf("/")!==-1||g.indexOf(m)!==-1}}},{"css-font-size-keywords":95}],101:[function(y,ee,te){var g=y("unquote"),m=y("css-global-keywords"),b=y("css-system-font-keywords"),v=y("css-font-weight-keywords"),e=y("css-font-style-keywords"),n=y("css-font-stretch-keywords"),r=y("string-split-by"),o=y("./lib/util").isSize;ee.exports=d;var t=d.cache={};function d(i){if(typeof i!="string")throw new Error("Font argument must be a string.");if(t[i])return t[i];if(i==="")throw new Error("Cannot parse an empty string.");if(b.indexOf(i)!==-1)return t[i]={system:i};for(var u,f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},s=r(i,/\s+/);u=s.shift();){if(m.indexOf(u)!==-1)return["style","variant","weight","stretch"].forEach(function(p){f[p]=u}),t[i]=f;if(e.indexOf(u)===-1)if(u!=="normal"&&u!=="small-caps")if(n.indexOf(u)===-1){if(v.indexOf(u)===-1){if(o(u)){var h=r(u,"/");if(f.size=h[0],h[1]!=null?f.lineHeight=c(h[1]):s[0]==="/"&&(s.shift(),f.lineHeight=c(s.shift())),!s.length)throw new Error("Missing required font-family.");return f.family=r(s.join(" "),/\s*,\s*/).map(g),t[i]=f}throw new Error("Unknown or unsupported font token: "+u)}f.weight=u}else f.stretch=u;else f.variant=u;else f.style=u}throw new Error("Missing required font-size.")}function c(i){var u=parseFloat(i);return u.toString()===i?u:i}},{"./lib/util":100,"css-font-stretch-keywords":96,"css-font-style-keywords":97,"css-font-weight-keywords":98,"css-global-keywords":103,"css-system-font-keywords":104,"string-split-by":305,unquote:328}],102:[function(y,ee,te){var g=y("pick-by-alias"),m=y("./lib/util").isSize,b=u(y("css-global-keywords")),v=u(y("css-system-font-keywords")),e=u(y("css-font-weight-keywords")),n=u(y("css-font-style-keywords")),r=u(y("css-font-stretch-keywords")),o={normal:1,"small-caps":1},t={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},d="1rem",c="serif";function i(f,s){if(f&&!s[f]&&!b[f])throw Error("Unknown keyword `"+f+"`");return f}function u(f){for(var s={},h=0;h<f.length;h++)s[f[h]]=1;return s}ee.exports=function(f){if((f=g(f,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return f.system&&i(f.system,v),f.system;if(i(f.style,n),i(f.variant,o),i(f.weight,e),i(f.stretch,r),f.size==null&&(f.size=d),typeof f.size=="number"&&(f.size+="px"),!m)throw Error("Bad size value `"+f.size+"`");f.family||(f.family=c),Array.isArray(f.family)&&(f.family.length||(f.family=[c]),f.family=f.family.map(function(h){return t[h]?h:'"'+h+'"'}).join(", "));var s=[];return s.push(f.style),f.variant!==f.style&&s.push(f.variant),f.weight!==f.variant&&f.weight!==f.style&&s.push(f.weight),f.stretch!==f.weight&&f.stretch!==f.variant&&f.stretch!==f.style&&s.push(f.stretch),s.push(f.size+(f.lineHeight==null||f.lineHeight==="normal"||f.lineHeight+""=="1"?"":"/"+f.lineHeight)),s.push(f.family),s.filter(Boolean).join(" ")}},{"./lib/util":100,"css-font-stretch-keywords":96,"css-font-style-keywords":97,"css-font-weight-keywords":98,"css-global-keywords":103,"css-system-font-keywords":104,"pick-by-alias":253}],103:[function(y,ee,te){ee.exports=["inherit","initial","unset"]},{}],104:[function(y,ee,te){ee.exports=["caption","icon","menu","message-box","small-caption","status-bar"]},{}],105:[function(y,ee,te){var g,m=y("type/value/is"),b=y("type/value/ensure"),v=y("type/plain-function/ensure"),e=y("es5-ext/object/copy"),n=y("es5-ext/object/normalize-options"),r=y("es5-ext/object/map"),o=Function.prototype.bind,t=Object.defineProperty,d=Object.prototype.hasOwnProperty;g=function(c,i,u){var f,s=b(i)&&v(i.value);return delete(f=e(i)).writable,delete f.value,f.get=function(){return!u.overwriteDefinition&&d.call(this,c)?s:(i.value=o.call(s,u.resolveContext?u.resolveContext(this):this),t(this,c,i),this[c])},f},ee.exports=function(c){var i=n(arguments[1]);return m(i.resolveContext)&&v(i.resolveContext),r(c,function(u,f){return g(f,u,i)})}},{"es5-ext/object/copy":147,"es5-ext/object/map":155,"es5-ext/object/normalize-options":156,"type/plain-function/ensure":321,"type/value/ensure":325,"type/value/is":326}],106:[function(y,ee,te){var g=y("type/value/is"),m=y("type/plain-function/is"),b=y("es5-ext/object/assign"),v=y("es5-ext/object/normalize-options"),e=y("es5-ext/string/#/contains");(ee.exports=function(n,r){var o,t,d,c,i;return arguments.length<2||typeof n!="string"?(c=r,r=n,n=null):c=arguments[2],g(n)?(o=e.call(n,"c"),t=e.call(n,"e"),d=e.call(n,"w")):(o=d=!0,t=!1),i={value:r,configurable:o,enumerable:t,writable:d},c?b(v(c),i):i}).gs=function(n,r,o){var t,d,c,i;return typeof n!="string"?(c=o,o=r,r=n,n=null):c=arguments[3],g(r)?m(r)?g(o)?m(o)||(c=o,o=void 0):o=void 0:(c=r,r=o=void 0):r=void 0,g(n)?(t=e.call(n,"c"),d=e.call(n,"e")):(t=!0,d=!1),i={get:r,set:o,configurable:t,enumerable:d},c?b(v(c),i):i}},{"es5-ext/object/assign":144,"es5-ext/object/normalize-options":156,"es5-ext/string/#/contains":163,"type/plain-function/is":322,"type/value/is":326}],107:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:g.d3=g.d3||{})})(this,function(g){function m(P,S){return P<S?-1:P>S?1:P>=S?0:NaN}function b(P){var S;return P.length===1&&(S=P,P=function(E,D){return m(S(E),D)}),{left:function(E,D,F,H){for(F==null&&(F=0),H==null&&(H=E.length);F<H;){var V=F+H>>>1;P(E[V],D)<0?F=V+1:H=V}return F},right:function(E,D,F,H){for(F==null&&(F=0),H==null&&(H=E.length);F<H;){var V=F+H>>>1;P(E[V],D)>0?H=V:F=V+1}return F}}}var v=b(m),e=v.right,n=v.left;function r(P,S){return[P,S]}function o(P){return P===null?NaN:+P}function t(P,S){var E,D,F=P.length,H=0,V=-1,Z=0,K=0;if(S==null)for(;++V<F;)isNaN(E=o(P[V]))||(K+=(D=E-Z)*(E-(Z+=D/++H)));else for(;++V<F;)isNaN(E=o(S(P[V],V,P)))||(K+=(D=E-Z)*(E-(Z+=D/++H)));if(H>1)return K/(H-1)}function d(P,S){var E=t(P,S);return E&&Math.sqrt(E)}function c(P,S){var E,D,F,H=P.length,V=-1;if(S==null){for(;++V<H;)if((E=P[V])!=null&&E>=E)for(D=F=E;++V<H;)(E=P[V])!=null&&(D>E&&(D=E),F<E&&(F=E))}else for(;++V<H;)if((E=S(P[V],V,P))!=null&&E>=E)for(D=F=E;++V<H;)(E=S(P[V],V,P))!=null&&(D>E&&(D=E),F<E&&(F=E));return[D,F]}var i=Array.prototype,u=i.slice,f=i.map;function s(P){return function(){return P}}function h(P){return P}function p(P,S,E){P=+P,S=+S,E=(F=arguments.length)<2?(S=P,P=0,1):F<3?1:+E;for(var D=-1,F=0|Math.max(0,Math.ceil((S-P)/E)),H=new Array(F);++D<F;)H[D]=P+D*E;return H}var a=Math.sqrt(50),x=Math.sqrt(10),l=Math.sqrt(2);function w(P,S,E){var D=(S-P)/Math.max(0,E),F=Math.floor(Math.log(D)/Math.LN10),H=D/Math.pow(10,F);return F>=0?(H>=a?10:H>=x?5:H>=l?2:1)*Math.pow(10,F):-Math.pow(10,-F)/(H>=a?10:H>=x?5:H>=l?2:1)}function _(P,S,E){var D=Math.abs(S-P)/Math.max(0,E),F=Math.pow(10,Math.floor(Math.log(D)/Math.LN10)),H=D/F;return H>=a?F*=10:H>=x?F*=5:H>=l&&(F*=2),S<P?-F:F}function T(P){return Math.ceil(Math.log(P.length)/Math.LN2)+1}function k(P,S,E){if(E==null&&(E=o),D=P.length){if((S=+S)<=0||D<2)return+E(P[0],0,P);if(S>=1)return+E(P[D-1],D-1,P);var D,F=(D-1)*S,H=Math.floor(F),V=+E(P[H],H,P);return V+(+E(P[H+1],H+1,P)-V)*(F-H)}}function L(P,S){var E,D,F=P.length,H=-1;if(S==null){for(;++H<F;)if((E=P[H])!=null&&E>=E)for(D=E;++H<F;)(E=P[H])!=null&&D>E&&(D=E)}else for(;++H<F;)if((E=S(P[H],H,P))!=null&&E>=E)for(D=E;++H<F;)(E=S(P[H],H,P))!=null&&D>E&&(D=E);return D}function A(P){if(!(F=P.length))return[];for(var S=-1,E=L(P,I),D=new Array(E);++S<E;)for(var F,H=-1,V=D[S]=new Array(F);++H<F;)V[H]=P[H][S];return D}function I(P){return P.length}g.bisect=e,g.bisectRight=e,g.bisectLeft=n,g.ascending=m,g.bisector=b,g.cross=function(P,S,E){var D,F,H,V,Z=P.length,K=S.length,q=new Array(Z*K);for(E==null&&(E=r),D=H=0;D<Z;++D)for(V=P[D],F=0;F<K;++F,++H)q[H]=E(V,S[F]);return q},g.descending=function(P,S){return S<P?-1:S>P?1:S>=P?0:NaN},g.deviation=d,g.extent=c,g.histogram=function(){var P=h,S=c,E=T;function D(F){var H,V,Z=F.length,K=new Array(Z);for(H=0;H<Z;++H)K[H]=P(F[H],H,F);var q=S(K),W=q[0],$=q[1],R=E(K,W,$);Array.isArray(R)||(R=_(W,$,R),R=p(Math.ceil(W/R)*R,$,R));for(var N=R.length;R[0]<=W;)R.shift(),--N;for(;R[N-1]>$;)R.pop(),--N;var U,Q=new Array(N+1);for(H=0;H<=N;++H)(U=Q[H]=[]).x0=H>0?R[H-1]:W,U.x1=H<N?R[H]:$;for(H=0;H<Z;++H)W<=(V=K[H])&&V<=$&&Q[e(R,V,0,N)].push(F[H]);return Q}return D.value=function(F){return arguments.length?(P=typeof F=="function"?F:s(F),D):P},D.domain=function(F){return arguments.length?(S=typeof F=="function"?F:s([F[0],F[1]]),D):S},D.thresholds=function(F){return arguments.length?(E=typeof F=="function"?F:Array.isArray(F)?s(u.call(F)):s(F),D):E},D},g.thresholdFreedmanDiaconis=function(P,S,E){return P=f.call(P,o).sort(m),Math.ceil((E-S)/(2*(k(P,.75)-k(P,.25))*Math.pow(P.length,-1/3)))},g.thresholdScott=function(P,S,E){return Math.ceil((E-S)/(3.5*d(P)*Math.pow(P.length,-1/3)))},g.thresholdSturges=T,g.max=function(P,S){var E,D,F=P.length,H=-1;if(S==null){for(;++H<F;)if((E=P[H])!=null&&E>=E)for(D=E;++H<F;)(E=P[H])!=null&&E>D&&(D=E)}else for(;++H<F;)if((E=S(P[H],H,P))!=null&&E>=E)for(D=E;++H<F;)(E=S(P[H],H,P))!=null&&E>D&&(D=E);return D},g.mean=function(P,S){var E,D=P.length,F=D,H=-1,V=0;if(S==null)for(;++H<D;)isNaN(E=o(P[H]))?--F:V+=E;else for(;++H<D;)isNaN(E=o(S(P[H],H,P)))?--F:V+=E;if(F)return V/F},g.median=function(P,S){var E,D=P.length,F=-1,H=[];if(S==null)for(;++F<D;)isNaN(E=o(P[F]))||H.push(E);else for(;++F<D;)isNaN(E=o(S(P[F],F,P)))||H.push(E);return k(H.sort(m),.5)},g.merge=function(P){for(var S,E,D,F=P.length,H=-1,V=0;++H<F;)V+=P[H].length;for(E=new Array(V);--F>=0;)for(S=(D=P[F]).length;--S>=0;)E[--V]=D[S];return E},g.min=L,g.pairs=function(P,S){S==null&&(S=r);for(var E=0,D=P.length-1,F=P[0],H=new Array(D<0?0:D);E<D;)H[E]=S(F,F=P[++E]);return H},g.permute=function(P,S){for(var E=S.length,D=new Array(E);E--;)D[E]=P[S[E]];return D},g.quantile=k,g.range=p,g.scan=function(P,S){if(E=P.length){var E,D,F=0,H=0,V=P[H];for(S==null&&(S=m);++F<E;)(S(D=P[F],V)<0||S(V,V)!==0)&&(V=D,H=F);return S(V,V)===0?H:void 0}},g.shuffle=function(P,S,E){for(var D,F,H=(E??P.length)-(S=S==null?0:+S);H;)F=Math.random()*H--|0,D=P[H+S],P[H+S]=P[F+S],P[F+S]=D;return P},g.sum=function(P,S){var E,D=P.length,F=-1,H=0;if(S==null)for(;++F<D;)(E=+P[F])&&(H+=E);else for(;++F<D;)(E=+S(P[F],F,P))&&(H+=E);return H},g.ticks=function(P,S,E){var D,F,H,V,Z=-1;if(E=+E,(P=+P)==(S=+S)&&E>0)return[P];if((D=S<P)&&(F=P,P=S,S=F),(V=w(P,S,E))===0||!isFinite(V))return[];if(V>0)for(P=Math.ceil(P/V),S=Math.floor(S/V),H=new Array(F=Math.ceil(S-P+1));++Z<F;)H[Z]=(P+Z)*V;else for(P=Math.floor(P*V),S=Math.ceil(S*V),H=new Array(F=Math.ceil(P-S+1));++Z<F;)H[Z]=(P-Z)/V;return D&&H.reverse(),H},g.tickIncrement=w,g.tickStep=_,g.transpose=A,g.variance=t,g.zip=function(){return A(arguments)},Object.defineProperty(g,"__esModule",{value:!0})})},{}],108:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:g.d3=g.d3||{})})(this,function(g){function m(){}function b(c,i){var u=new m;if(c instanceof m)c.each(function(a,x){u.set(x,a)});else if(Array.isArray(c)){var f,s=-1,h=c.length;if(i==null)for(;++s<h;)u.set(s,c[s]);else for(;++s<h;)u.set(i(f=c[s],s,c),f)}else if(c)for(var p in c)u.set(p,c[p]);return u}function v(){return{}}function e(c,i,u){c[i]=u}function n(){return b()}function r(c,i,u){c.set(i,u)}function o(){}m.prototype=b.prototype={constructor:m,has:function(c){return"$"+c in this},get:function(c){return this["$"+c]},set:function(c,i){return this["$"+c]=i,this},remove:function(c){var i="$"+c;return i in this&&delete this[i]},clear:function(){for(var c in this)c[0]==="$"&&delete this[c]},keys:function(){var c=[];for(var i in this)i[0]==="$"&&c.push(i.slice(1));return c},values:function(){var c=[];for(var i in this)i[0]==="$"&&c.push(this[i]);return c},entries:function(){var c=[];for(var i in this)i[0]==="$"&&c.push({key:i.slice(1),value:this[i]});return c},size:function(){var c=0;for(var i in this)i[0]==="$"&&++c;return c},empty:function(){for(var c in this)if(c[0]==="$")return!1;return!0},each:function(c){for(var i in this)i[0]==="$"&&c(this[i],i.slice(1),this)}};var t=b.prototype;function d(c,i){var u=new o;if(c instanceof o)c.each(function(h){u.add(h)});else if(c){var f=-1,s=c.length;if(i==null)for(;++f<s;)u.add(c[f]);else for(;++f<s;)u.add(i(c[f],f,c))}return u}o.prototype=d.prototype={constructor:o,has:t.has,add:function(c){return this["$"+(c+="")]=c,this},remove:t.remove,clear:t.clear,values:t.keys,size:t.size,empty:t.empty,each:t.each},g.nest=function(){var c,i,u,f=[],s=[];function h(p,a,x,l){if(a>=f.length)return c!=null&&p.sort(c),i!=null?i(p):p;for(var w,_,T,k=-1,L=p.length,A=f[a++],I=b(),P=x();++k<L;)(T=I.get(w=A(_=p[k])+""))?T.push(_):I.set(w,[_]);return I.each(function(S,E){l(P,E,h(S,a,x,l))}),P}return u={object:function(p){return h(p,0,v,e)},map:function(p){return h(p,0,n,r)},entries:function(p){return function a(x,l){if(++l>f.length)return x;var w,_=s[l-1];return i!=null&&l>=f.length?w=x.entries():(w=[],x.each(function(T,k){w.push({key:k,values:a(T,l)})})),_!=null?w.sort(function(T,k){return _(T.key,k.key)}):w}(h(p,0,n,r),0)},key:function(p){return f.push(p),u},sortKeys:function(p){return s[f.length-1]=p,u},sortValues:function(p){return c=p,u},rollup:function(p){return i=p,u}}},g.set=d,g.map=b,g.keys=function(c){var i=[];for(var u in c)i.push(u);return i},g.values=function(c){var i=[];for(var u in c)i.push(c[u]);return i},g.entries=function(c){var i=[];for(var u in c)i.push({key:u,value:c[u]});return i},Object.defineProperty(g,"__esModule",{value:!0})})},{}],109:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){function m(fe,me,Te){fe.prototype=me.prototype=Te,Te.constructor=fe}function b(fe,me){var Te=Object.create(fe.prototype);for(var _e in me)Te[_e]=me[_e];return Te}function v(){}var e="\\s*([+-]?\\d+)\\s*",n="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",r="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",o=/^#([0-9a-f]{3,8})$/,t=new RegExp("^rgb\\("+[e,e,e]+"\\)$"),d=new RegExp("^rgb\\("+[r,r,r]+"\\)$"),c=new RegExp("^rgba\\("+[e,e,e,n]+"\\)$"),i=new RegExp("^rgba\\("+[r,r,r,n]+"\\)$"),u=new RegExp("^hsl\\("+[n,r,r]+"\\)$"),f=new RegExp("^hsla\\("+[n,r,r,n]+"\\)$"),s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function h(){return this.rgb().formatHex()}function p(){return this.rgb().formatRgb()}function a(fe){var me,Te;return fe=(fe+"").trim().toLowerCase(),(me=o.exec(fe))?(Te=me[1].length,me=parseInt(me[1],16),Te===6?x(me):Te===3?new T(me>>8&15|me>>4&240,me>>4&15|240&me,(15&me)<<4|15&me,1):Te===8?l(me>>24&255,me>>16&255,me>>8&255,(255&me)/255):Te===4?l(me>>12&15|me>>8&240,me>>8&15|me>>4&240,me>>4&15|240&me,((15&me)<<4|15&me)/255):null):(me=t.exec(fe))?new T(me[1],me[2],me[3],1):(me=d.exec(fe))?new T(255*me[1]/100,255*me[2]/100,255*me[3]/100,1):(me=c.exec(fe))?l(me[1],me[2],me[3],me[4]):(me=i.exec(fe))?l(255*me[1]/100,255*me[2]/100,255*me[3]/100,me[4]):(me=u.exec(fe))?I(me[1],me[2]/100,me[3]/100,1):(me=f.exec(fe))?I(me[1],me[2]/100,me[3]/100,me[4]):s.hasOwnProperty(fe)?x(s[fe]):fe==="transparent"?new T(NaN,NaN,NaN,0):null}function x(fe){return new T(fe>>16&255,fe>>8&255,255&fe,1)}function l(fe,me,Te,_e){return _e<=0&&(fe=me=Te=NaN),new T(fe,me,Te,_e)}function w(fe){return fe instanceof v||(fe=a(fe)),fe?new T((fe=fe.rgb()).r,fe.g,fe.b,fe.opacity):new T}function _(fe,me,Te,_e){return arguments.length===1?w(fe):new T(fe,me,Te,_e??1)}function T(fe,me,Te,_e){this.r=+fe,this.g=+me,this.b=+Te,this.opacity=+_e}function k(){return"#"+A(this.r)+A(this.g)+A(this.b)}function L(){var fe=this.opacity;return((fe=isNaN(fe)?1:Math.max(0,Math.min(1,fe)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(fe===1?")":", "+fe+")")}function A(fe){return((fe=Math.max(0,Math.min(255,Math.round(fe)||0)))<16?"0":"")+fe.toString(16)}function I(fe,me,Te,_e){return _e<=0?fe=me=Te=NaN:Te<=0||Te>=1?fe=me=NaN:me<=0&&(fe=NaN),new E(fe,me,Te,_e)}function P(fe){if(fe instanceof E)return new E(fe.h,fe.s,fe.l,fe.opacity);if(fe instanceof v||(fe=a(fe)),!fe)return new E;if(fe instanceof E)return fe;var me=(fe=fe.rgb()).r/255,Te=fe.g/255,_e=fe.b/255,Ae=Math.min(me,Te,_e),Pe=Math.max(me,Te,_e),De=NaN,Ve=Pe-Ae,Qe=(Pe+Ae)/2;return Ve?(De=me===Pe?(Te-_e)/Ve+6*(Te<_e):Te===Pe?(_e-me)/Ve+2:(me-Te)/Ve+4,Ve/=Qe<.5?Pe+Ae:2-Pe-Ae,De*=60):Ve=Qe>0&&Qe<1?0:De,new E(De,Ve,Qe,fe.opacity)}function S(fe,me,Te,_e){return arguments.length===1?P(fe):new E(fe,me,Te,_e??1)}function E(fe,me,Te,_e){this.h=+fe,this.s=+me,this.l=+Te,this.opacity=+_e}function D(fe,me,Te){return 255*(fe<60?me+(Te-me)*fe/60:fe<180?Te:fe<240?me+(Te-me)*(240-fe)/60:me)}m(v,a,{copy:function(fe){return Object.assign(new this.constructor,this,fe)},displayable:function(){return this.rgb().displayable()},hex:h,formatHex:h,formatHsl:function(){return P(this).formatHsl()},formatRgb:p,toString:p}),m(T,_,b(v,{brighter:function(fe){return fe=fe==null?1/.7:Math.pow(1/.7,fe),new T(this.r*fe,this.g*fe,this.b*fe,this.opacity)},darker:function(fe){return fe=fe==null?.7:Math.pow(.7,fe),new T(this.r*fe,this.g*fe,this.b*fe,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatRgb:L,toString:L})),m(E,S,b(v,{brighter:function(fe){return fe=fe==null?1/.7:Math.pow(1/.7,fe),new E(this.h,this.s,this.l*fe,this.opacity)},darker:function(fe){return fe=fe==null?.7:Math.pow(.7,fe),new E(this.h,this.s,this.l*fe,this.opacity)},rgb:function(){var fe=this.h%360+360*(this.h<0),me=isNaN(fe)||isNaN(this.s)?0:this.s,Te=this.l,_e=Te+(Te<.5?Te:1-Te)*me,Ae=2*Te-_e;return new T(D(fe>=240?fe-240:fe+120,Ae,_e),D(fe,Ae,_e),D(fe<120?fe+240:fe-120,Ae,_e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var fe=this.opacity;return((fe=isNaN(fe)?1:Math.max(0,Math.min(1,fe)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(fe===1?")":", "+fe+")")}}));var F=Math.PI/180,H=180/Math.PI,V=6/29,Z=3*V*V;function K(fe){if(fe instanceof W)return new W(fe.l,fe.a,fe.b,fe.opacity);if(fe instanceof X)return J(fe);fe instanceof T||(fe=w(fe));var me,Te,_e=U(fe.r),Ae=U(fe.g),Pe=U(fe.b),De=$((.2225045*_e+.7168786*Ae+.0606169*Pe)/1);return _e===Ae&&Ae===Pe?me=Te=De:(me=$((.4360747*_e+.3850649*Ae+.1430804*Pe)/.96422),Te=$((.0139322*_e+.0971045*Ae+.7141733*Pe)/.82521)),new W(116*De-16,500*(me-De),200*(De-Te),fe.opacity)}function q(fe,me,Te,_e){return arguments.length===1?K(fe):new W(fe,me,Te,_e??1)}function W(fe,me,Te,_e){this.l=+fe,this.a=+me,this.b=+Te,this.opacity=+_e}function $(fe){return fe>.008856451679035631?Math.pow(fe,1/3):fe/Z+4/29}function R(fe){return fe>V?fe*fe*fe:Z*(fe-4/29)}function N(fe){return 255*(fe<=.0031308?12.92*fe:1.055*Math.pow(fe,1/2.4)-.055)}function U(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function Q(fe){if(fe instanceof X)return new X(fe.h,fe.c,fe.l,fe.opacity);if(fe instanceof W||(fe=K(fe)),fe.a===0&&fe.b===0)return new X(NaN,0<fe.l&&fe.l<100?0:NaN,fe.l,fe.opacity);var me=Math.atan2(fe.b,fe.a)*H;return new X(me<0?me+360:me,Math.sqrt(fe.a*fe.a+fe.b*fe.b),fe.l,fe.opacity)}function j(fe,me,Te,_e){return arguments.length===1?Q(fe):new X(fe,me,Te,_e??1)}function X(fe,me,Te,_e){this.h=+fe,this.c=+me,this.l=+Te,this.opacity=+_e}function J(fe){if(isNaN(fe.h))return new W(fe.l,0,0,fe.opacity);var me=fe.h*F;return new W(fe.l,Math.cos(me)*fe.c,Math.sin(me)*fe.c,fe.opacity)}m(W,q,b(v,{brighter:function(fe){return new W(this.l+18*(fe??1),this.a,this.b,this.opacity)},darker:function(fe){return new W(this.l-18*(fe??1),this.a,this.b,this.opacity)},rgb:function(){var fe=(this.l+16)/116,me=isNaN(this.a)?fe:fe+this.a/500,Te=isNaN(this.b)?fe:fe-this.b/200;return new T(N(3.1338561*(me=.96422*R(me))-1.6168667*(fe=1*R(fe))-.4906146*(Te=.82521*R(Te))),N(-.9787684*me+1.9161415*fe+.033454*Te),N(.0719453*me-.2289914*fe+1.4052427*Te),this.opacity)}})),m(X,j,b(v,{brighter:function(fe){return new X(this.h,this.c,this.l+18*(fe??1),this.opacity)},darker:function(fe){return new X(this.h,this.c,this.l-18*(fe??1),this.opacity)},rgb:function(){return J(this).rgb()}}));var re=-.14861,ne=1.78277,se=-.29227,oe=-.90649,pe=1.97294,ce=pe*oe,de=pe*ne,xe=ne*se-oe*re;function we(fe){if(fe instanceof Ee)return new Ee(fe.h,fe.s,fe.l,fe.opacity);fe instanceof T||(fe=w(fe));var me=fe.r/255,Te=fe.g/255,_e=fe.b/255,Ae=(xe*_e+ce*me-de*Te)/(xe+ce-de),Pe=_e-Ae,De=(pe*(Te-Ae)-se*Pe)/oe,Ve=Math.sqrt(De*De+Pe*Pe)/(pe*Ae*(1-Ae)),Qe=Ve?Math.atan2(De,Pe)*H-120:NaN;return new Ee(Qe<0?Qe+360:Qe,Ve,Ae,fe.opacity)}function be(fe,me,Te,_e){return arguments.length===1?we(fe):new Ee(fe,me,Te,_e??1)}function Ee(fe,me,Te,_e){this.h=+fe,this.s=+me,this.l=+Te,this.opacity=+_e}m(Ee,be,b(v,{brighter:function(fe){return fe=fe==null?1/.7:Math.pow(1/.7,fe),new Ee(this.h,this.s,this.l*fe,this.opacity)},darker:function(fe){return fe=fe==null?.7:Math.pow(.7,fe),new Ee(this.h,this.s,this.l*fe,this.opacity)},rgb:function(){var fe=isNaN(this.h)?0:(this.h+120)*F,me=+this.l,Te=isNaN(this.s)?0:this.s*me*(1-me),_e=Math.cos(fe),Ae=Math.sin(fe);return new T(255*(me+Te*(re*_e+ne*Ae)),255*(me+Te*(se*_e+oe*Ae)),255*(me+Te*(pe*_e)),this.opacity)}})),g.color=a,g.cubehelix=be,g.gray=function(fe,me){return new W(fe,0,0,me??1)},g.hcl=j,g.hsl=S,g.lab=q,g.lch=function(fe,me,Te,_e){return arguments.length===1?Q(fe):new X(Te,me,fe,_e??1)},g.rgb=_,Object.defineProperty(g,"__esModule",{value:!0})})},{}],110:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){var m={value:function(){}};function b(){for(var o,t=0,d=arguments.length,c={};t<d;++t){if(!(o=arguments[t]+"")||o in c||/[\s.]/.test(o))throw new Error("illegal type: "+o);c[o]=[]}return new v(c)}function v(o){this._=o}function e(o,t){return o.trim().split(/^|\s+/).map(function(d){var c="",i=d.indexOf(".");if(i>=0&&(c=d.slice(i+1),d=d.slice(0,i)),d&&!t.hasOwnProperty(d))throw new Error("unknown type: "+d);return{type:d,name:c}})}function n(o,t){for(var d,c=0,i=o.length;c<i;++c)if((d=o[c]).name===t)return d.value}function r(o,t,d){for(var c=0,i=o.length;c<i;++c)if(o[c].name===t){o[c]=m,o=o.slice(0,c).concat(o.slice(c+1));break}return d!=null&&o.push({name:t,value:d}),o}v.prototype=b.prototype={constructor:v,on:function(o,t){var d,c=this._,i=e(o+"",c),u=-1,f=i.length;if(!(arguments.length<2)){if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<f;)if(d=(o=i[u]).type)c[d]=r(c[d],o.name,t);else if(t==null)for(d in c)c[d]=r(c[d],o.name,null);return this}for(;++u<f;)if((d=(o=i[u]).type)&&(d=n(c[d],o.name)))return d},copy:function(){var o={},t=this._;for(var d in t)o[d]=t[d].slice();return new v(o)},call:function(o,t){if((d=arguments.length-2)>0)for(var d,c,i=new Array(d),u=0;u<d;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(u=0,d=(c=this._[o]).length;u<d;++u)c[u].value.apply(t,i)},apply:function(o,t,d){if(!this._.hasOwnProperty(o))throw new Error("unknown type: "+o);for(var c=this._[o],i=0,u=c.length;i<u;++i)c[i].value.apply(t,d)}},g.dispatch=b,Object.defineProperty(g,"__esModule",{value:!0})})},{}],111:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-quadtree"),y("d3-collection"),y("d3-dispatch"),y("d3-timer")):m(g.d3=g.d3||{},g.d3,g.d3,g.d3,g.d3)})(this,function(g,m,b,v,e){function n(s){return function(){return s}}function r(){return 1e-6*(Math.random()-.5)}function o(s){return s.x+s.vx}function t(s){return s.y+s.vy}function d(s){return s.index}function c(s,h){var p=s.get(h);if(!p)throw new Error("missing: "+h);return p}function i(s){return s.x}function u(s){return s.y}var f=Math.PI*(3-Math.sqrt(5));g.forceCenter=function(s,h){var p;function a(){var x,l,w=p.length,_=0,T=0;for(x=0;x<w;++x)_+=(l=p[x]).x,T+=l.y;for(_=_/w-s,T=T/w-h,x=0;x<w;++x)(l=p[x]).x-=_,l.y-=T}return s==null&&(s=0),h==null&&(h=0),a.initialize=function(x){p=x},a.x=function(x){return arguments.length?(s=+x,a):s},a.y=function(x){return arguments.length?(h=+x,a):h},a},g.forceCollide=function(s){var h,p,a=1,x=1;function l(){for(var T,k,L,A,I,P,S,E=h.length,D=0;D<x;++D)for(k=m.quadtree(h,o,t).visitAfter(w),T=0;T<E;++T)L=h[T],P=p[L.index],S=P*P,A=L.x+L.vx,I=L.y+L.vy,k.visit(F);function F(H,V,Z,K,q){var W=H.data,$=H.r,R=P+$;if(!W)return V>A+R||K<A-R||Z>I+R||q<I-R;if(W.index>L.index){var N=A-W.x-W.vx,U=I-W.y-W.vy,Q=N*N+U*U;Q<R*R&&(N===0&&(Q+=(N=r())*N),U===0&&(Q+=(U=r())*U),Q=(R-(Q=Math.sqrt(Q)))/Q*a,L.vx+=(N*=Q)*(R=($*=$)/(S+$)),L.vy+=(U*=Q)*R,W.vx-=N*(R=1-R),W.vy-=U*R)}}}function w(T){if(T.data)return T.r=p[T.data.index];for(var k=T.r=0;k<4;++k)T[k]&&T[k].r>T.r&&(T.r=T[k].r)}function _(){if(h){var T,k,L=h.length;for(p=new Array(L),T=0;T<L;++T)k=h[T],p[k.index]=+s(k,T,h)}}return typeof s!="function"&&(s=n(s==null?1:+s)),l.initialize=function(T){h=T,_()},l.iterations=function(T){return arguments.length?(x=+T,l):x},l.strength=function(T){return arguments.length?(a=+T,l):a},l.radius=function(T){return arguments.length?(s=typeof T=="function"?T:n(+T),_(),l):s},l},g.forceLink=function(s){var h,p,a,x,l,w=d,_=function(S){return 1/Math.min(x[S.source.index],x[S.target.index])},T=n(30),k=1;function L(S){for(var E=0,D=s.length;E<k;++E)for(var F,H,V,Z,K,q,W,$=0;$<D;++$)H=(F=s[$]).source,Z=(V=F.target).x+V.vx-H.x-H.vx||r(),K=V.y+V.vy-H.y-H.vy||r(),Z*=q=((q=Math.sqrt(Z*Z+K*K))-p[$])/q*S*h[$],K*=q,V.vx-=Z*(W=l[$]),V.vy-=K*W,H.vx+=Z*(W=1-W),H.vy+=K*W}function A(){if(a){var S,E,D=a.length,F=s.length,H=b.map(a,w);for(S=0,x=new Array(D);S<F;++S)(E=s[S]).index=S,typeof E.source!="object"&&(E.source=c(H,E.source)),typeof E.target!="object"&&(E.target=c(H,E.target)),x[E.source.index]=(x[E.source.index]||0)+1,x[E.target.index]=(x[E.target.index]||0)+1;for(S=0,l=new Array(F);S<F;++S)E=s[S],l[S]=x[E.source.index]/(x[E.source.index]+x[E.target.index]);h=new Array(F),I(),p=new Array(F),P()}}function I(){if(a)for(var S=0,E=s.length;S<E;++S)h[S]=+_(s[S],S,s)}function P(){if(a)for(var S=0,E=s.length;S<E;++S)p[S]=+T(s[S],S,s)}return s==null&&(s=[]),L.initialize=function(S){a=S,A()},L.links=function(S){return arguments.length?(s=S,A(),L):s},L.id=function(S){return arguments.length?(w=S,L):w},L.iterations=function(S){return arguments.length?(k=+S,L):k},L.strength=function(S){return arguments.length?(_=typeof S=="function"?S:n(+S),I(),L):_},L.distance=function(S){return arguments.length?(T=typeof S=="function"?S:n(+S),P(),L):T},L},g.forceManyBody=function(){var s,h,p,a,x=n(-30),l=1,w=1/0,_=.81;function T(I){var P,S=s.length,E=m.quadtree(s,i,u).visitAfter(L);for(p=I,P=0;P<S;++P)h=s[P],E.visit(A)}function k(){if(s){var I,P,S=s.length;for(a=new Array(S),I=0;I<S;++I)P=s[I],a[P.index]=+x(P,I,s)}}function L(I){var P,S,E,D,F,H=0,V=0;if(I.length){for(E=D=F=0;F<4;++F)(P=I[F])&&(S=Math.abs(P.value))&&(H+=P.value,V+=S,E+=S*P.x,D+=S*P.y);I.x=E/V,I.y=D/V}else{(P=I).x=P.data.x,P.y=P.data.y;do H+=a[P.data.index];while(P=P.next)}I.value=H}function A(I,P,S,E){if(!I.value)return!0;var D=I.x-h.x,F=I.y-h.y,H=E-P,V=D*D+F*F;if(H*H/_<V)return V<w&&(D===0&&(V+=(D=r())*D),F===0&&(V+=(F=r())*F),V<l&&(V=Math.sqrt(l*V)),h.vx+=D*I.value*p/V,h.vy+=F*I.value*p/V),!0;if(!(I.length||V>=w)){(I.data!==h||I.next)&&(D===0&&(V+=(D=r())*D),F===0&&(V+=(F=r())*F),V<l&&(V=Math.sqrt(l*V)));do I.data!==h&&(H=a[I.data.index]*p/V,h.vx+=D*H,h.vy+=F*H);while(I=I.next)}}return T.initialize=function(I){s=I,k()},T.strength=function(I){return arguments.length?(x=typeof I=="function"?I:n(+I),k(),T):x},T.distanceMin=function(I){return arguments.length?(l=I*I,T):Math.sqrt(l)},T.distanceMax=function(I){return arguments.length?(w=I*I,T):Math.sqrt(w)},T.theta=function(I){return arguments.length?(_=I*I,T):Math.sqrt(_)},T},g.forceRadial=function(s,h,p){var a,x,l,w=n(.1);function _(k){for(var L=0,A=a.length;L<A;++L){var I=a[L],P=I.x-h||1e-6,S=I.y-p||1e-6,E=Math.sqrt(P*P+S*S),D=(l[L]-E)*x[L]*k/E;I.vx+=P*D,I.vy+=S*D}}function T(){if(a){var k,L=a.length;for(x=new Array(L),l=new Array(L),k=0;k<L;++k)l[k]=+s(a[k],k,a),x[k]=isNaN(l[k])?0:+w(a[k],k,a)}}return typeof s!="function"&&(s=n(+s)),h==null&&(h=0),p==null&&(p=0),_.initialize=function(k){a=k,T()},_.strength=function(k){return arguments.length?(w=typeof k=="function"?k:n(+k),T(),_):w},_.radius=function(k){return arguments.length?(s=typeof k=="function"?k:n(+k),T(),_):s},_.x=function(k){return arguments.length?(h=+k,_):h},_.y=function(k){return arguments.length?(p=+k,_):p},_},g.forceSimulation=function(s){var h,p=1,a=.001,x=1-Math.pow(a,1/300),l=0,w=.6,_=b.map(),T=e.timer(L),k=v.dispatch("tick","end");function L(){A(),k.call("tick",h),p<a&&(T.stop(),k.call("end",h))}function A(S){var E,D,F=s.length;S===void 0&&(S=1);for(var H=0;H<S;++H)for(p+=(l-p)*x,_.each(function(V){V(p)}),E=0;E<F;++E)(D=s[E]).fx==null?D.x+=D.vx*=w:(D.x=D.fx,D.vx=0),D.fy==null?D.y+=D.vy*=w:(D.y=D.fy,D.vy=0);return h}function I(){for(var S,E=0,D=s.length;E<D;++E){if((S=s[E]).index=E,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var F=10*Math.sqrt(E),H=E*f;S.x=F*Math.cos(H),S.y=F*Math.sin(H)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function P(S){return S.initialize&&S.initialize(s),S}return s==null&&(s=[]),I(),h={tick:A,restart:function(){return T.restart(L),h},stop:function(){return T.stop(),h},nodes:function(S){return arguments.length?(s=S,I(),_.each(P),h):s},alpha:function(S){return arguments.length?(p=+S,h):p},alphaMin:function(S){return arguments.length?(a=+S,h):a},alphaDecay:function(S){return arguments.length?(x=+S,h):+x},alphaTarget:function(S){return arguments.length?(l=+S,h):l},velocityDecay:function(S){return arguments.length?(w=1-S,h):1-w},force:function(S,E){return arguments.length>1?(E==null?_.remove(S):_.set(S,P(E)),h):_.get(S)},find:function(S,E,D){var F,H,V,Z,K,q=0,W=s.length;for(D==null?D=1/0:D*=D,q=0;q<W;++q)(V=(F=S-(Z=s[q]).x)*F+(H=E-Z.y)*H)<D&&(K=Z,D=V);return K},on:function(S,E){return arguments.length>1?(k.on(S,E),h):k.on(S)}}},g.forceX=function(s){var h,p,a,x=n(.1);function l(_){for(var T,k=0,L=h.length;k<L;++k)(T=h[k]).vx+=(a[k]-T.x)*p[k]*_}function w(){if(h){var _,T=h.length;for(p=new Array(T),a=new Array(T),_=0;_<T;++_)p[_]=isNaN(a[_]=+s(h[_],_,h))?0:+x(h[_],_,h)}}return typeof s!="function"&&(s=n(s==null?0:+s)),l.initialize=function(_){h=_,w()},l.strength=function(_){return arguments.length?(x=typeof _=="function"?_:n(+_),w(),l):x},l.x=function(_){return arguments.length?(s=typeof _=="function"?_:n(+_),w(),l):s},l},g.forceY=function(s){var h,p,a,x=n(.1);function l(_){for(var T,k=0,L=h.length;k<L;++k)(T=h[k]).vy+=(a[k]-T.y)*p[k]*_}function w(){if(h){var _,T=h.length;for(p=new Array(T),a=new Array(T),_=0;_<T;++_)p[_]=isNaN(a[_]=+s(h[_],_,h))?0:+x(h[_],_,h)}}return typeof s!="function"&&(s=n(s==null?0:+s)),l.initialize=function(_){h=_,w()},l.strength=function(_){return arguments.length?(x=typeof _=="function"?_:n(+_),w(),l):x},l.y=function(_){return arguments.length?(s=typeof _=="function"?_:n(+_),w(),l):s},l},Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-collection":108,"d3-dispatch":110,"d3-quadtree":118,"d3-timer":123}],112:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=typeof globalThis<"u"?globalThis:g||self).d3=g.d3||{})})(this,function(g){function m(h,p){if((a=(h=p?h.toExponential(p-1):h.toExponential()).indexOf("e"))<0)return null;var a,x=h.slice(0,a);return[x.length>1?x[0]+x.slice(2):x,+h.slice(a+1)]}function b(h){return(h=m(Math.abs(h)))?h[1]:NaN}var v,e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function n(h){if(!(p=e.exec(h)))throw new Error("invalid format: "+h);var p;return new r({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function r(h){this.fill=h.fill===void 0?" ":h.fill+"",this.align=h.align===void 0?">":h.align+"",this.sign=h.sign===void 0?"-":h.sign+"",this.symbol=h.symbol===void 0?"":h.symbol+"",this.zero=!!h.zero,this.width=h.width===void 0?void 0:+h.width,this.comma=!!h.comma,this.precision=h.precision===void 0?void 0:+h.precision,this.trim=!!h.trim,this.type=h.type===void 0?"":h.type+""}function o(h,p){var a=m(h,p);if(!a)return h+"";var x=a[0],l=a[1];return l<0?"0."+new Array(-l).join("0")+x:x.length>l+1?x.slice(0,l+1)+"."+x.slice(l+1):x+new Array(l-x.length+2).join("0")}n.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var t={"%":function(h,p){return(100*h).toFixed(p)},b:function(h){return Math.round(h).toString(2)},c:function(h){return h+""},d:function(h){return Math.abs(h=Math.round(h))>=1e21?h.toLocaleString("en").replace(/,/g,""):h.toString(10)},e:function(h,p){return h.toExponential(p)},f:function(h,p){return h.toFixed(p)},g:function(h,p){return h.toPrecision(p)},o:function(h){return Math.round(h).toString(8)},p:function(h,p){return o(100*h,p)},r:o,s:function(h,p){var a=m(h,p);if(!a)return h+"";var x=a[0],l=a[1],w=l-(v=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,_=x.length;return w===_?x:w>_?x+new Array(w-_+1).join("0"):w>0?x.slice(0,w)+"."+x.slice(w):"0."+new Array(1-w).join("0")+m(h,Math.max(0,p+w-1))[0]},X:function(h){return Math.round(h).toString(16).toUpperCase()},x:function(h){return Math.round(h).toString(16)}};function d(h){return h}var c,i=Array.prototype.map,u=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f(h){var p,a,x=h.grouping===void 0||h.thousands===void 0?d:(p=i.call(h.grouping,Number),a=h.thousands+"",function(P,S){for(var E=P.length,D=[],F=0,H=p[0],V=0;E>0&&H>0&&(V+H+1>S&&(H=Math.max(1,S-V)),D.push(P.substring(E-=H,E+H)),!((V+=H+1)>S));)H=p[F=(F+1)%p.length];return D.reverse().join(a)}),l=h.currency===void 0?"":h.currency[0]+"",w=h.currency===void 0?"":h.currency[1]+"",_=h.decimal===void 0?".":h.decimal+"",T=h.numerals===void 0?d:function(P){return function(S){return S.replace(/[0-9]/g,function(E){return P[+E]})}}(i.call(h.numerals,String)),k=h.percent===void 0?"%":h.percent+"",L=h.minus===void 0?"-":h.minus+"",A=h.nan===void 0?"NaN":h.nan+"";function I(P){var S=(P=n(P)).fill,E=P.align,D=P.sign,F=P.symbol,H=P.zero,V=P.width,Z=P.comma,K=P.precision,q=P.trim,W=P.type;W==="n"?(Z=!0,W="g"):t[W]||(K===void 0&&(K=12),q=!0,W="g"),(H||S==="0"&&E==="=")&&(H=!0,S="0",E="=");var $=F==="$"?l:F==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",R=F==="$"?w:/[%p]/.test(W)?k:"",N=t[W],U=/[defgprs%]/.test(W);function Q(j){var X,J,re,ne=$,se=R;if(W==="c")se=N(j)+se,j="";else{var oe=(j=+j)<0||1/j<0;if(j=isNaN(j)?A:N(Math.abs(j),K),q&&(j=function(de){e:for(var xe,we=de.length,be=1,Ee=-1;be<we;++be)switch(de[be]){case".":Ee=xe=be;break;case"0":Ee===0&&(Ee=be),xe=be;break;default:if(!+de[be])break e;Ee>0&&(Ee=0)}return Ee>0?de.slice(0,Ee)+de.slice(xe+1):de}(j)),oe&&+j==0&&D!=="+"&&(oe=!1),ne=(oe?D==="("?D:L:D==="-"||D==="("?"":D)+ne,se=(W==="s"?u[8+v/3]:"")+se+(oe&&D==="("?")":""),U){for(X=-1,J=j.length;++X<J;)if(48>(re=j.charCodeAt(X))||re>57){se=(re===46?_+j.slice(X+1):j.slice(X))+se,j=j.slice(0,X);break}}}Z&&!H&&(j=x(j,1/0));var pe=ne.length+j.length+se.length,ce=pe<V?new Array(V-pe+1).join(S):"";switch(Z&&H&&(j=x(ce+j,ce.length?V-se.length:1/0),ce=""),E){case"<":j=ne+j+se+ce;break;case"=":j=ne+ce+j+se;break;case"^":j=ce.slice(0,pe=ce.length>>1)+ne+j+se+ce.slice(pe);break;default:j=ce+ne+j+se}return T(j)}return K=K===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,K)):Math.max(0,Math.min(20,K)),Q.toString=function(){return P+""},Q}return{format:I,formatPrefix:function(P,S){var E=I(((P=n(P)).type="f",P)),D=3*Math.max(-8,Math.min(8,Math.floor(b(S)/3))),F=Math.pow(10,-D),H=u[8+D/3];return function(V){return E(F*V)+H}}}}function s(h){return c=f(h),g.format=c.format,g.formatPrefix=c.formatPrefix,c}s({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),g.FormatSpecifier=r,g.formatDefaultLocale=s,g.formatLocale=f,g.formatSpecifier=n,g.precisionFixed=function(h){return Math.max(0,-b(Math.abs(h)))},g.precisionPrefix=function(h,p){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(b(p)/3)))-b(Math.abs(h)))},g.precisionRound=function(h,p){return h=Math.abs(h),p=Math.abs(p)-h,Math.max(0,b(p)-b(h))+1},Object.defineProperty(g,"__esModule",{value:!0})})},{}],113:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-geo"),y("d3-array")):m(g.d3=g.d3||{},g.d3,g.d3)})(this,function(g,m,b){var v=Math.abs,e=Math.atan,n=Math.atan2,r=Math.cos,o=Math.exp,t=Math.floor,d=Math.log,c=Math.max,i=Math.min,u=Math.pow,f=Math.round,s=Math.sign||function(Ne){return Ne>0?1:Ne<0?-1:0},h=Math.sin,p=Math.tan,a=1e-6,x=Math.PI,l=x/2,w=x/4,_=Math.SQRT1_2,T=E(2),k=E(x),L=2*x,A=180/x,I=x/180;function P(Ne){return Ne>1?l:Ne<-1?-l:Math.asin(Ne)}function S(Ne){return Ne>1?0:Ne<-1?x:Math.acos(Ne)}function E(Ne){return Ne>0?Math.sqrt(Ne):0}function D(Ne){return(o(Ne)-o(-Ne))/2}function F(Ne){return(o(Ne)+o(-Ne))/2}function H(Ne){var He=p(Ne/2),$e=2*d(r(Ne/2))/(He*He);function at(mt,dt){var Mt=r(mt),Jt=r(dt),$t=h(dt),Wt=Jt*Mt,tr=-((1-Wt?d((1+Wt)/2)/(1-Wt):-.5)+$e/(1+Wt));return[tr*Jt*h(mt),tr*$t]}return at.invert=function(mt,dt){var Mt,Jt=E(mt*mt+dt*dt),$t=-Ne/2,Wt=50;if(!Jt)return[0,0];do{var tr=$t/2,ur=r(tr),mr=h(tr),yr=mr/ur,Pr=-d(v(ur));$t-=Mt=(2/yr*Pr-$e*yr-Jt)/(-Pr/(mr*mr)+1-$e/(2*ur*ur))*(ur<0?.7:1)}while(v(Mt)>a&&--Wt>0);var nn=h($t);return[n(mt*nn,Jt*r($t)),P(dt*nn/Jt)]},at}function V(Ne,He){var $e=r(He),at=function(mt){return mt?mt/Math.sin(mt):1}(S($e*r(Ne/=2)));return[2*$e*h(Ne)*at,h(He)*at]}function Z(Ne){var He=h(Ne),$e=r(Ne),at=Ne>=0?1:-1,mt=p(at*Ne),dt=(1+He-$e)/2;function Mt(Jt,$t){var Wt=r($t),tr=r(Jt/=2);return[(1+Wt)*h(Jt),(at*$t>-n(tr,mt)-.001?0:10*-at)+dt+h($t)*$e-(1+Wt)*He*tr]}return Mt.invert=function(Jt,$t){var Wt=0,tr=0,ur=50;do{var mr=r(Wt),yr=h(Wt),Pr=r(tr),nn=h(tr),dn=1+Pr,En=dn*yr-Jt,On=dt+nn*$e-dn*He*mr-$t,Un=dn*mr/2,zn=-yr*nn,ha=He*dn*yr/2,ba=$e*Pr+He*mr*nn,Oa=zn*ha-ba*Un,Ia=(On*zn-En*ba)/Oa/2,za=(En*ha-On*Un)/Oa;v(za)>2&&(za/=2),Wt-=Ia,tr-=za}while((v(Ia)>a||v(za)>a)&&--ur>0);return at*tr>-n(r(Wt),mt)-.001?[2*Wt,tr]:null},Mt}function K(Ne,He){var $e=p(He/2),at=E(1-$e*$e),mt=1+at*r(Ne/=2),dt=h(Ne)*at/mt,Mt=$e/mt,Jt=dt*dt,$t=Mt*Mt;return[4/3*dt*(3+Jt-3*$t),4/3*Mt*(3+3*Jt-$t)]}V.invert=function(Ne,He){if(!(Ne*Ne+4*He*He>x*x+a)){var $e=Ne,at=He,mt=25;do{var dt,Mt=h($e),Jt=h($e/2),$t=r($e/2),Wt=h(at),tr=r(at),ur=h(2*at),mr=Wt*Wt,yr=tr*tr,Pr=Jt*Jt,nn=1-yr*$t*$t,dn=nn?S(tr*$t)*E(dt=1/nn):dt=0,En=2*dn*tr*Jt-Ne,On=dn*Wt-He,Un=dt*(yr*Pr+dn*tr*$t*mr),zn=dt*(.5*Mt*ur-2*dn*Wt*Jt),ha=.25*dt*(ur*Jt-dn*Wt*yr*Mt),ba=dt*(mr*$t+dn*Pr*tr),Oa=zn*ha-ba*Un;if(!Oa)break;var Ia=(On*zn-En*ba)/Oa,za=(En*ha-On*Un)/Oa;$e-=Ia,at-=za}while((v(Ia)>a||v(za)>a)&&--mt>0);return[$e,at]}},K.invert=function(Ne,He){if(He*=3/8,!(Ne*=3/8)&&v(He)>1)return null;var $e=1+Ne*Ne+He*He,at=E(($e-E($e*$e-4*He*He))/2),mt=P(at)/3,dt=at?function(Wt){return d(Wt+E(Wt*Wt-1))}(v(He/at))/3:function(Wt){return d(Wt+E(Wt*Wt+1))}(v(Ne))/3,Mt=r(mt),Jt=F(dt),$t=Jt*Jt-Mt*Mt;return[2*s(Ne)*n(D(dt)*Mt,.25-$t),2*s(He)*n(Jt*h(mt),.25+$t)]};var q=E(8),W=d(1+T);function $(Ne,He){var $e=v(He);return $e<w?[Ne,d(p(w+He/2))]:[Ne*r($e)*(2*T-1/h($e)),s(He)*(2*T*($e-w)-d(p($e/2)))]}function R(Ne){var He=2*x/Ne;function $e(at,mt){var dt=m.geoAzimuthalEquidistantRaw(at,mt);if(v(at)>l){var Mt=n(dt[1],dt[0]),Jt=E(dt[0]*dt[0]+dt[1]*dt[1]),$t=He*f((Mt-l)/He)+l,Wt=n(h(Mt-=$t),2-r(Mt));Mt=$t+P(x/Jt*h(Wt))-Wt,dt[0]=Jt*r(Mt),dt[1]=Jt*h(Mt)}return dt}return $e.invert=function(at,mt){var dt=E(at*at+mt*mt);if(dt>l){var Mt=n(mt,at),Jt=He*f((Mt-l)/He)+l,$t=Mt>Jt?-1:1,Wt=dt*r(Jt-Mt),tr=1/p($t*S((Wt-x)/E(x*(x-2*Wt)+dt*dt)));Mt=Jt+2*e((tr+$t*E(tr*tr-3))/3),at=dt*r(Mt),mt=dt*h(Mt)}return m.geoAzimuthalEquidistantRaw.invert(at,mt)},$e}function N(Ne,He){if(arguments.length<2&&(He=Ne),He===1)return m.geoAzimuthalEqualAreaRaw;if(He===1/0)return U;function $e(at,mt){var dt=m.geoAzimuthalEqualAreaRaw(at/He,mt);return dt[0]*=Ne,dt}return $e.invert=function(at,mt){var dt=m.geoAzimuthalEqualAreaRaw.invert(at/Ne,mt);return dt[0]*=He,dt},$e}function U(Ne,He){return[Ne*r(He)/r(He/=2),2*h(He)]}function Q(Ne,He,$e){var at,mt,dt,Mt=100;$e=$e===void 0?0:+$e,He=+He;do(mt=Ne($e))===(dt=Ne($e+a))&&(dt=mt+a),$e-=at=-1*a*(mt-He)/(mt-dt);while(Mt-- >0&&v(at)>a);return Mt<0?NaN:$e}function j(Ne,He,$e){return He===void 0&&(He=40),$e===void 0&&($e=1e-12),function(at,mt,dt,Mt){var Jt,$t,Wt;dt=dt===void 0?0:+dt,Mt=Mt===void 0?0:+Mt;for(var tr=0;tr<He;tr++){var ur=Ne(dt,Mt),mr=ur[0]-at,yr=ur[1]-mt;if(v(mr)<$e&&v(yr)<$e)break;var Pr=mr*mr+yr*yr;if(Pr>Jt)dt-=$t/=2,Mt-=Wt/=2;else{Jt=Pr;var nn=(dt>0?-1:1)*$e,dn=(Mt>0?-1:1)*$e,En=Ne(dt+nn,Mt),On=Ne(dt,Mt+dn),Un=(En[0]-ur[0])/nn,zn=(En[1]-ur[1])/nn,ha=(On[0]-ur[0])/dn,ba=(On[1]-ur[1])/dn,Oa=ba*Un-zn*ha,Ia=(v(Oa)<.5?.5:1)/Oa;if(dt+=$t=(yr*ha-mr*ba)*Ia,Mt+=Wt=(mr*zn-yr*Un)*Ia,v($t)<$e&&v(Wt)<$e)break}}return[dt,Mt]}}function X(){var Ne=N(1.68,2);function He($e,at){if($e+at<-1.4){var mt=($e-at+1.6)*($e+at+1.4)/8;$e+=mt,at-=.8*mt*h(at+x/2)}var dt=Ne($e,at),Mt=(1-r($e*at))/12;return dt[1]<0&&(dt[0]*=1+Mt),dt[1]>0&&(dt[1]*=1+Mt/1.5*dt[0]*dt[0]),dt}return He.invert=j(He),He}function J(Ne,He){var $e,at=Ne*h(He),mt=30;do He-=$e=(He+h(He)-at)/(1+r(He));while(v($e)>a&&--mt>0);return He/2}function re(Ne,He,$e){function at(mt,dt){return[Ne*mt*r(dt=J($e,dt)),He*h(dt)]}return at.invert=function(mt,dt){return dt=P(dt/He),[mt/(Ne*r(dt)),P((2*dt+h(2*dt))/$e)]},at}$.invert=function(Ne,He){if((at=v(He))<W)return[Ne,2*e(o(He))-l];var $e,at,mt=w,dt=25;do{var Mt=r(mt/2),Jt=p(mt/2);mt-=$e=(q*(mt-w)-d(Jt)-at)/(q-Mt*Mt/(2*Jt))}while(v($e)>1e-12&&--dt>0);return[Ne/(r(mt)*(q-1/h(mt))),s(He)*mt]},U.invert=function(Ne,He){var $e=2*P(He/2);return[Ne*r($e/2)/r($e),$e]};var ne=re(T/l,T,x),se=2.00276,oe=1.11072;function pe(Ne,He){var $e=J(x,He);return[se*Ne/(1/r(He)+oe/r($e)),(He+T*h($e))/se]}function ce(Ne){var He=0,$e=m.geoProjectionMutator(Ne),at=$e(He);return at.parallel=function(mt){return arguments.length?$e(He=mt*I):He*A},at}function de(Ne,He){return[Ne*r(He),He]}function xe(Ne){if(!Ne)return de;var He=1/p(Ne);function $e(at,mt){var dt=He+Ne-mt,Mt=dt&&at*r(mt)/dt;return[dt*h(Mt),He-dt*r(Mt)]}return $e.invert=function(at,mt){var dt=E(at*at+(mt=He-mt)*mt),Mt=He+Ne-dt;return[dt/r(Mt)*n(at,mt),Mt]},$e}function we(Ne){function He($e,at){var mt=l-at,dt=mt&&$e*Ne*h(mt)/mt;return[mt*h(dt)/Ne,l-mt*r(dt)]}return He.invert=function($e,at){var mt=$e*Ne,dt=l-at,Mt=E(mt*mt+dt*dt),Jt=n(mt,dt);return[(Mt?Mt/h(Mt):1)*Jt/Ne,l-Mt]},He}pe.invert=function(Ne,He){var $e,at,mt=se*He,dt=He<0?-w:w,Mt=25;do at=mt-T*h(dt),dt-=$e=(h(2*dt)+2*dt-x*h(at))/(2*r(2*dt)+2+x*r(at)*T*r(dt));while(v($e)>a&&--Mt>0);return at=mt-T*h(dt),[Ne*(1/r(at)+oe/r(dt))/se,at]},de.invert=function(Ne,He){return[Ne/r(He),He]};var be=re(1,4/x,x);function Ee(Ne,He,$e,at,mt,dt){var Mt,Jt=r(dt);if(v(Ne)>1||v(dt)>1)Mt=S($e*mt+He*at*Jt);else{var $t=h(Ne/2),Wt=h(dt/2);Mt=2*P(E($t*$t+He*at*Wt*Wt))}return v(Mt)>a?[Mt,n(at*h(dt),He*mt-$e*at*Jt)]:[0,0]}function fe(Ne,He,$e){return S((Ne*Ne+He*He-$e*$e)/(2*Ne*He))}function me(Ne){return Ne-2*x*t((Ne+x)/(2*x))}function Te(Ne,He,$e){for(var at,mt=[[Ne[0],Ne[1],h(Ne[1]),r(Ne[1])],[He[0],He[1],h(He[1]),r(He[1])],[$e[0],$e[1],h($e[1]),r($e[1])]],dt=mt[2],Mt=0;Mt<3;++Mt,dt=at)at=mt[Mt],dt.v=Ee(at[1]-dt[1],dt[3],dt[2],at[3],at[2],at[0]-dt[0]),dt.point=[0,0];var Jt=fe(mt[0].v[0],mt[2].v[0],mt[1].v[0]),$t=fe(mt[0].v[0],mt[1].v[0],mt[2].v[0]),Wt=x-Jt;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var tr=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*r(Jt),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*h(Jt))];return function(ur,mr){var yr,Pr=h(mr),nn=r(mr),dn=new Array(3);for(yr=0;yr<3;++yr){var En=mt[yr];if(dn[yr]=Ee(mr-En[1],En[3],En[2],nn,Pr,ur-En[0]),!dn[yr][0])return En.point;dn[yr][1]=me(dn[yr][1]-En.v[1])}var On=tr.slice();for(yr=0;yr<3;++yr){var Un=yr==2?0:yr+1,zn=fe(mt[yr].v[0],dn[yr][0],dn[Un][0]);dn[yr][1]<0&&(zn=-zn),yr?yr==1?(zn=$t-zn,On[0]-=dn[yr][0]*r(zn),On[1]-=dn[yr][0]*h(zn)):(zn=Wt-zn,On[0]+=dn[yr][0]*r(zn),On[1]+=dn[yr][0]*h(zn)):(On[0]+=dn[yr][0]*r(zn),On[1]-=dn[yr][0]*h(zn))}return On[0]/=3,On[1]/=3,On}}function _e(Ne){return Ne[0]*=I,Ne[1]*=I,Ne}function Ae(Ne,He,$e){var at=m.geoCentroid({type:"MultiPoint",coordinates:[Ne,He,$e]}),mt=[-at[0],-at[1]],dt=m.geoRotation(mt),Mt=Te(_e(dt(Ne)),_e(dt(He)),_e(dt($e)));Mt.invert=j(Mt);var Jt=m.geoProjection(Mt).rotate(mt),$t=Jt.center;return delete Jt.rotate,Jt.center=function(Wt){return arguments.length?$t(dt(Wt)):dt.invert($t())},Jt.clipAngle(90)}function Pe(Ne,He){var $e=E(1-h(He));return[2/k*Ne*$e,k*(1-$e)]}function De(Ne){var He=p(Ne);function $e(at,mt){return[at,(at?at/h(at):1)*(h(mt)*r(at)-He*r(mt))]}return $e.invert=He?function(at,mt){at&&(mt*=h(at)/at);var dt=r(at);return[at,2*n(E(dt*dt+He*He-mt*mt)-dt,He-mt)]}:function(at,mt){return[at,P(at?mt*p(at)/at:mt)]},$e}Pe.invert=function(Ne,He){var $e=($e=He/k-1)*$e;return[$e>0?Ne*E(x/$e)/2:0,P(1-$e)]};var Ve=E(3);function Qe(Ne,He){return[Ve*Ne*(2*r(2*He/3)-1)/k,Ve*k*h(He/3)]}function Oe(Ne){var He=r(Ne);function $e(at,mt){return[at*He,h(mt)/He]}return $e.invert=function(at,mt){return[at/He,P(mt*He)]},$e}function Ue(Ne){var He=r(Ne);function $e(at,mt){return[at*He,(1+He)*p(mt/2)]}return $e.invert=function(at,mt){return[at/He,2*e(mt/(1+He))]},$e}function Ge(Ne,He){var $e=E(8/(3*x));return[$e*Ne*(1-v(He)/x),$e*He]}function Ye(Ne,He){var $e=E(4-3*h(v(He)));return[2/E(6*x)*Ne*$e,s(He)*E(2*x/3)*(2-$e)]}function tt(Ne,He){var $e=E(x*(4+x));return[2/$e*Ne*(1+E(1-4*He*He/(x*x))),4/$e*He]}function lt(Ne,He){var $e=(2+l)*h(He);He/=2;for(var at=0,mt=1/0;at<10&&v(mt)>a;at++){var dt=r(He);He-=mt=(He+h(He)*(dt+2)-$e)/(2*dt*(1+dt))}return[2/E(x*(4+x))*Ne*(1+r(He)),2*E(x/(4+x))*h(He)]}function vt(Ne,He){return[Ne*(1+r(He))/E(2+x),2*He/E(2+x)]}function It(Ne,He){for(var $e=(1+l)*h(He),at=0,mt=1/0;at<10&&v(mt)>a;at++)He-=mt=(He+h(He)-$e)/(1+r(He));return $e=E(2+x),[Ne*(1+r(He))/$e,2*He/$e]}Qe.invert=function(Ne,He){var $e=3*P(He/(Ve*k));return[k*Ne/(Ve*(2*r(2*$e/3)-1)),$e]},Ge.invert=function(Ne,He){var $e=E(8/(3*x)),at=He/$e;return[Ne/($e*(1-v(at)/x)),at]},Ye.invert=function(Ne,He){var $e=2-v(He)/E(2*x/3);return[Ne*E(6*x)/(2*$e),s(He)*P((4-$e*$e)/3)]},tt.invert=function(Ne,He){var $e=E(x*(4+x))/2;return[Ne*$e/(1+E(1-He*He*(4+x)/(4*x))),He*$e/2]},lt.invert=function(Ne,He){var $e=He*E((4+x)/x)/2,at=P($e),mt=r(at);return[Ne/(2/E(x*(4+x))*(1+mt)),P((at+$e*(mt+2))/(2+l))]},vt.invert=function(Ne,He){var $e=E(2+x),at=He*$e/2;return[$e*Ne/(1+r(at)),at]},It.invert=function(Ne,He){var $e=1+l,at=E($e/2);return[2*Ne*at/(1+r(He*=at)),P((He+h(He))/$e)]};var St=3+2*T;function rt(Ne,He){var $e=h(Ne/=2),at=r(Ne),mt=E(r(He)),dt=r(He/=2),Mt=h(He)/(dt+T*at*mt),Jt=E(2/(1+Mt*Mt)),$t=E((T*dt+(at+$e)*mt)/(T*dt+(at-$e)*mt));return[St*(Jt*($t-1/$t)-2*d($t)),St*(Jt*Mt*($t+1/$t)-2*e(Mt))]}rt.invert=function(Ne,He){if(!($e=K.invert(Ne/1.2,1.065*He)))return null;var $e,at=$e[0],mt=$e[1],dt=20;Ne/=St,He/=St;do{var Mt=at/2,Jt=mt/2,$t=h(Mt),Wt=r(Mt),tr=h(Jt),ur=r(Jt),mr=r(mt),yr=E(mr),Pr=tr/(ur+T*Wt*yr),nn=Pr*Pr,dn=E(2/(1+nn)),En=(T*ur+(Wt+$t)*yr)/(T*ur+(Wt-$t)*yr),On=E(En),Un=On-1/On,zn=On+1/On,ha=dn*Un-2*d(On)-Ne,ba=dn*Pr*zn-2*e(Pr)-He,Oa=tr&&_*yr*$t*nn/tr,Ia=(T*Wt*ur+yr)/(2*(ur+T*Wt*yr)*(ur+T*Wt*yr)*yr),za=-.5*Pr*dn*dn*dn,vi=za*Oa,pi=za*Ia,ti=(ti=2*ur+T*yr*(Wt-$t))*ti*On,ri=(T*Wt*ur*yr+mr)/ti,di=-T*$t*tr/(yr*ti),Oi=Un*vi-2*ri/On+dn*(ri+ri/En),Wi=Un*pi-2*di/On+dn*(di+di/En),Zi=Pr*zn*vi-2*Oa/(1+nn)+dn*zn*Oa+dn*Pr*(ri-ri/En),Xi=Pr*zn*pi-2*Ia/(1+nn)+dn*zn*Ia+dn*Pr*(di-di/En),Ji=Wi*Zi-Xi*Oi;if(!Ji)break;var Ea=(ba*Wi-ha*Xi)/Ji,ft=(ha*Zi-ba*Oi)/Ji;at-=Ea,mt=c(-l,i(l,mt-ft))}while((v(Ea)>a||v(ft)>a)&&--dt>0);return v(v(mt)-l)<a?[0,mt]:dt&&[at,mt]};var et=r(35*I);function Tt(Ne,He){var $e=p(He/2);return[Ne*et*E(1-$e*$e),(1+et)*$e]}function Vt(Ne,He){var $e=He/2,at=r($e);return[2*Ne/k*r(He)*at*at,k*p($e)]}function Kt(Ne){var He=1-Ne,$e=mt(x,0)[0]-mt(-x,0)[0],at=E(2*(mt(0,l)[1]-mt(0,-l)[1])/$e);function mt(Jt,$t){var Wt=r($t),tr=h($t);return[Wt/(He+Ne*Wt)*Jt,He*$t+Ne*tr]}function dt(Jt,$t){var Wt=mt(Jt,$t);return[Wt[0]*at,Wt[1]/at]}function Mt(Jt){return dt(0,Jt)[1]}return dt.invert=function(Jt,$t){var Wt=Q(Mt,$t);return[Jt/at*(Ne+He/r(Wt)),Wt]},dt}function Be(Ne){return[Ne[0]/2,P(p(Ne[1]/2*I))*A]}function qe(Ne){return[2*Ne[0],2*e(h(Ne[1]*I))*A]}function Re(Ne,He){var $e=2*x/He,at=Ne*Ne;function mt(dt,Mt){var Jt=m.geoAzimuthalEquidistantRaw(dt,Mt),$t=Jt[0],Wt=Jt[1],tr=$t*$t+Wt*Wt;if(tr>at){var ur=E(tr),mr=n(Wt,$t),yr=$e*f(mr/$e),Pr=mr-yr,nn=Ne*r(Pr),dn=(Ne*h(Pr)-Pr*h(nn))/(l-nn),En=Xe(Pr,dn),On=(x-Ne)/ke(En,nn,x);$t=ur;var Un,zn=50;do $t-=Un=(Ne+ke(En,nn,$t)*On-ur)/(En($t)*On);while(v(Un)>a&&--zn>0);Wt=Pr*h($t),$t<l&&(Wt-=dn*($t-l));var ha=h(yr),ba=r(yr);Jt[0]=$t*ba-Wt*ha,Jt[1]=$t*ha+Wt*ba}return Jt}return mt.invert=function(dt,Mt){var Jt=dt*dt+Mt*Mt;if(Jt>at){var $t=E(Jt),Wt=n(Mt,dt),tr=$e*f(Wt/$e),ur=Wt-tr;dt=$t*r(ur),Mt=$t*h(ur);for(var mr=dt-l,yr=h(dt),Pr=Mt/yr,nn=dt<l?1/0:0,dn=10;;){var En=Ne*h(Pr),On=Ne*r(Pr),Un=h(On),zn=l-On,ha=(En-Pr*Un)/zn,ba=Xe(Pr,ha);if(v(nn)<1e-12||!--dn)break;Pr-=nn=(Pr*yr-ha*mr-Mt)/(yr-2*mr*(zn*(On+Pr*En*r(On)-Un)-En*(En-Pr*Un))/(zn*zn))}dt=($t=Ne+ke(ba,On,dt)*(x-Ne)/ke(ba,On,x))*r(Wt=tr+Pr),Mt=$t*h(Wt)}return m.geoAzimuthalEquidistantRaw.invert(dt,Mt)},mt}function Xe(Ne,He){return function($e){var at=Ne*r($e);return $e<l&&(at-=He),E(1+at*at)}}function ke(Ne,He,$e){for(var at=($e-He)/50,mt=Ne(He)+Ne($e),dt=1,Mt=He;dt<50;++dt)mt+=2*Ne(Mt+=at);return .5*mt*at}function Le(Ne,He,$e,at,mt,dt,Mt,Jt){function $t(Wt,tr){if(!tr)return[Ne*Wt/x,0];var ur=tr*tr,mr=Ne+ur*(He+ur*($e+ur*at)),yr=tr*(mt-1+ur*(dt-Jt+ur*Mt)),Pr=(mr*mr+yr*yr)/(2*yr),nn=Wt*P(mr/Pr)/x;return[Pr*h(nn),tr*(1+ur*Jt)+Pr*(1-r(nn))]}return arguments.length<8&&(Jt=0),$t.invert=function(Wt,tr){var ur,mr,yr=x*Wt/Ne,Pr=tr,nn=50;do{var dn=Pr*Pr,En=Ne+dn*(He+dn*($e+dn*at)),On=Pr*(mt-1+dn*(dt-Jt+dn*Mt)),Un=En*En+On*On,zn=2*On,ha=Un/zn,ba=ha*ha,Oa=P(En/ha)/x,Ia=yr*Oa,za=En*En,vi=(2*He+dn*(4*$e+6*dn*at))*Pr,pi=mt+dn*(3*dt+5*dn*Mt),ti=(2*(En*vi+On*(pi-1))*zn-Un*(2*(pi-1)))/(zn*zn),ri=r(Ia),di=h(Ia),Oi=ha*ri,Wi=ha*di,Zi=yr/x*(1/E(1-za/ba))*(vi*ha-En*ti)/ba,Xi=Wi-Wt,Ji=Pr*(1+dn*Jt)+ha-Oi-tr,Ea=ti*di+Oi*Zi,ft=Oi*Oa,Rt=1+ti-(ti*ri-Wi*Zi),nr=Wi*Oa,Ht=Ea*nr-Rt*ft;if(!Ht)break;yr-=ur=(Ji*Ea-Xi*Rt)/Ht,Pr-=mr=(Xi*nr-Ji*ft)/Ht}while((v(ur)>a||v(mr)>a)&&--nn>0);return[yr,Pr]},$t}Tt.invert=function(Ne,He){var $e=He/(1+et);return[Ne&&Ne/(et*E(1-$e*$e)),2*e($e)]},Vt.invert=function(Ne,He){var $e=e(He/k),at=r($e),mt=2*$e;return[Ne*k/2/(r(mt)*at*at),mt]};var Ie=Le(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),Ce=Le(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Je=Le(5/6*x,-.62636,-.0344,0,1.3493,-.05524,0,.045);function it(Ne,He){var $e=Ne*Ne,at=He*He;return[Ne*(1-.162388*at)*(.87-952426e-9*$e*$e),He*(1+at/12)]}it.invert=function(Ne,He){var $e,at=Ne,mt=He,dt=50;do{var Mt=mt*mt;mt-=$e=(mt*(1+Mt/12)-He)/(1+Mt/4)}while(v($e)>a&&--dt>0);dt=50,Ne/=1-.162388*Mt;do{var Jt=(Jt=at*at)*Jt;at-=$e=(at*(.87-952426e-9*Jt)-Ne)/(.87-.00476213*Jt)}while(v($e)>a&&--dt>0);return[at,mt]};var ht=Le(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function ut(Ne){var He=Ne(l,0)[0]-Ne(-l,0)[0];function $e(at,mt){var dt=at>0?-.5:.5,Mt=Ne(at+dt*x,mt);return Mt[0]-=dt*He,Mt}return Ne.invert&&($e.invert=function(at,mt){var dt=at>0?-.5:.5,Mt=Ne.invert(at+dt*He,mt),Jt=Mt[0]-dt*x;return Jt<-x?Jt+=2*x:Jt>x&&(Jt-=2*x),Mt[0]=Jt,Mt}),$e}function kt(Ne,He){var $e=s(Ne),at=s(He),mt=r(He),dt=r(Ne)*mt,Mt=h(Ne)*mt,Jt=h(at*He);Ne=v(n(Mt,Jt)),He=P(dt),v(Ne-l)>a&&(Ne%=l);var $t=function(Wt,tr){if(tr===l)return[0,0];var ur,mr,yr=h(tr),Pr=yr*yr,nn=Pr*Pr,dn=1+nn,En=1+3*nn,On=1-nn,Un=P(1/E(dn)),zn=On+Pr*dn*Un,ha=(1-yr)/zn,ba=E(ha),Oa=ha*dn,Ia=E(Oa),za=ba*On;if(Wt===0)return[0,-(za+Pr*Ia)];var vi,pi=r(tr),ti=1/pi,ri=2*yr*pi,di=(-zn*pi-(-3*Pr+Un*En)*ri*(1-yr))/(zn*zn),Oi=-ti*ri,Wi=-ti*(Pr*dn*di+ha*En*ri),Zi=-2*ti*(On*(.5*di/ba)-2*Pr*ba*ri),Xi=4*Wt/x;if(Wt>.222*x||tr<x/4&&Wt>.175*x){if(ur=(za+Pr*E(Oa*(1+nn)-za*za))/(1+nn),Wt>x/4)return[ur,ur];var Ji=ur,Ea=.5*ur;ur=.5*(Ea+Ji),mr=50;do{var ft=E(Oa-ur*ur),Rt=ur*(Zi+Oi*ft)+Wi*P(ur/Ia)-Xi;if(!Rt)break;Rt<0?Ea=ur:Ji=ur,ur=.5*(Ea+Ji)}while(v(Ji-Ea)>a&&--mr>0)}else{ur=a,mr=25;do{var nr=ur*ur,Ht=E(Oa-nr),ir=Zi+Oi*Ht,Lr=ur*ir+Wi*P(ur/Ia)-Xi,Dr=ir+(Wi-Oi*nr)/Ht;ur-=vi=Ht?Lr/Dr:0}while(v(vi)>a&&--mr>0)}return[ur,-za-Pr*E(Oa-ur*ur)]}(Ne>x/4?l-Ne:Ne,He);return Ne>x/4&&(Jt=$t[0],$t[0]=-$t[1],$t[1]=-Jt),$t[0]*=$e,$t[1]*=-at,$t}function ot(Ne,He){var $e,at,mt,dt,Mt,Jt;if(He<a)return[(dt=h(Ne))-($e=He*(Ne-dt*(at=r(Ne)))/4)*at,at+$e*dt,1-He*dt*dt/2,Ne-$e];if(He>=1-a)return $e=(1-He)/4,mt=1/(at=F(Ne)),[(dt=((Jt=o(2*(Jt=Ne)))-1)/(Jt+1))+$e*((Mt=at*D(Ne))-Ne)/(at*at),mt-$e*dt*mt*(Mt-Ne),mt+$e*dt*mt*(Mt+Ne),2*e(o(Ne))-l+$e*(Mt-Ne)/at];var $t=[1,0,0,0,0,0,0,0,0],Wt=[E(He),0,0,0,0,0,0,0,0],tr=0;for(at=E(1-He),Mt=1;v(Wt[tr]/$t[tr])>a&&tr<8;)$e=$t[tr++],Wt[tr]=($e-at)/2,$t[tr]=($e+at)/2,at=E($e*at),Mt*=2;mt=Mt*$t[tr]*Ne;do mt=(P(dt=Wt[tr]*h(at=mt)/$t[tr])+mt)/2;while(--tr);return[h(mt),dt=r(mt),dt/r(mt-at),mt]}function Lt(Ne,He){if(!He)return Ne;if(He===1)return d(p(Ne/2+w));for(var $e=1,at=E(1-He),mt=E(He),dt=0;v(mt)>a;dt++){if(Ne%x){var Mt=e(at*p(Ne)/$e);Mt<0&&(Mt+=x),Ne+=Mt+~~(Ne/x)*x}else Ne+=Ne;mt=($e+at)/2,at=E($e*at),mt=(($e=mt)-at)/2}return Ne/(u(2,dt)*$e)}function Et(Ne,He){var $e=(T-1)/(T+1),at=E(1-$e*$e),mt=Lt(l,at*at),dt=d(p(x/4+v(He)/2)),Mt=o(-1*dt)/E($e),Jt=function(Wt,tr){var ur=Wt*Wt,mr=tr+1,yr=1-ur-tr*tr;return[.5*((Wt>=0?l:-l)-n(yr,2*Wt)),-.25*d(yr*yr+4*ur)+.5*d(mr*mr+ur)]}(Mt*r(-1*Ne),Mt*h(-1*Ne)),$t=function(Wt,tr,ur){var mr=v(Wt),yr=D(v(tr));if(mr){var Pr=1/h(mr),nn=1/(p(mr)*p(mr)),dn=-(nn+ur*(yr*yr*Pr*Pr)-1+ur),En=(-dn+E(dn*dn-4*((ur-1)*nn)))/2;return[Lt(e(1/E(En)),ur)*s(Wt),Lt(e(E((En/nn-1)/ur)),1-ur)*s(tr)]}return[0,Lt(e(yr),1-ur)*s(tr)]}(Jt[0],Jt[1],at*at);return[-$t[1],(He>=0?1:-1)*(.5*mt-$t[0])]}function Ze(Ne){var He=h(Ne),$e=r(Ne),at=pt(Ne);function mt(dt,Mt){var Jt=at(dt,Mt);dt=Jt[0],Mt=Jt[1];var $t=h(Mt),Wt=r(Mt),tr=r(dt),ur=S(He*$t+$e*Wt*tr),mr=h(ur),yr=v(mr)>a?ur/mr:1;return[yr*$e*h(dt),(v(dt)>l?yr:-yr)*(He*Wt-$e*$t*tr)]}return at.invert=pt(-Ne),mt.invert=function(dt,Mt){var Jt=E(dt*dt+Mt*Mt),$t=-h(Jt),Wt=r(Jt),tr=Jt*Wt,ur=-Mt*$t,mr=Jt*He,yr=E(tr*tr+ur*ur-mr*mr),Pr=n(tr*mr+ur*yr,ur*mr-tr*yr),nn=(Jt>l?-1:1)*n(dt*$t,Jt*r(Pr)*Wt+Mt*h(Pr)*$t);return at.invert(nn,Pr)},mt}function pt(Ne){var He=h(Ne),$e=r(Ne);return function(at,mt){var dt=r(mt),Mt=r(at)*dt,Jt=h(at)*dt,$t=h(mt);return[n(Jt,Mt*$e-$t*He),P($t*$e+Mt*He)]}}kt.invert=function(Ne,He){v(Ne)>1&&(Ne=2*s(Ne)-Ne),v(He)>1&&(He=2*s(He)-He);var $e=s(Ne),at=s(He),mt=-$e*Ne,dt=-at*He,Mt=dt/mt<1,Jt=function(ur,mr){for(var yr=0,Pr=1,nn=.5,dn=50;;){var En=nn*nn,On=E(nn),Un=P(1/E(1+En)),zn=1-En+nn*(1+En)*Un,ha=(1-On)/zn,ba=E(ha),Oa=ha*(1+En),Ia=ba*(1-En),za=E(Oa-ur*ur),vi=mr+Ia+nn*za;if(v(Pr-yr)<1e-12||--dn==0||vi===0)break;vi>0?yr=nn:Pr=nn,nn=.5*(yr+Pr)}if(!dn)return null;var pi=P(On),ti=r(pi),ri=1/ti,di=2*On*ti,Oi=(-zn*ti-(-3*nn+Un*(1+3*En))*di*(1-On))/(zn*zn);return[x/4*(ur*(-2*ri*(.5*Oi/ba*(1-En)-2*nn*ba*di)+-ri*di*za)+-ri*(nn*(1+En)*Oi+ha*(1+3*En)*di)*P(ur/E(Oa))),pi]}(Mt?dt:mt,Mt?mt:dt),$t=Jt[0],Wt=Jt[1],tr=r(Wt);return Mt&&($t=-l-$t),[$e*(n(h($t)*tr,-h(Wt))+x),at*P(r($t)*tr)]},Et.invert=function(Ne,He){var $e,at,mt,dt,Mt,Jt,$t=(T-1)/(T+1),Wt=E(1-$t*$t),tr=Lt(l,Wt*Wt),ur=(at=-Ne,mt=Wt*Wt,($e=.5*tr-He)?(dt=ot($e,mt),at?(Jt=(Mt=ot(at,1-mt))[1]*Mt[1]+mt*dt[0]*dt[0]*Mt[0]*Mt[0],[[dt[0]*Mt[2]/Jt,dt[1]*dt[2]*Mt[0]*Mt[1]/Jt],[dt[1]*Mt[1]/Jt,-dt[0]*dt[2]*Mt[0]*Mt[2]/Jt],[dt[2]*Mt[1]*Mt[2]/Jt,-mt*dt[0]*dt[1]*Mt[0]/Jt]]):[[dt[0],0],[dt[1],0],[dt[2],0]]):[[0,(Mt=ot(at,1-mt))[0]/Mt[1]],[1/Mt[1],0],[Mt[2]/Mt[1],0]]),mr=function(yr,Pr){var nn=Pr[0]*Pr[0]+Pr[1]*Pr[1];return[(yr[0]*Pr[0]+yr[1]*Pr[1])/nn,(yr[1]*Pr[0]-yr[0]*Pr[1])/nn]}(ur[0],ur[1]);return[n(mr[1],mr[0])/-1,2*e(o(-.5*d($t*mr[0]*mr[0]+$t*mr[1]*mr[1])))-l]};var Ct=P(1-1/3)*A,zt=Oe(0);function Gt(Ne){var He=Ct*I,$e=Pe(x,He)[0]-Pe(-x,He)[0],at=zt(0,He)[1],mt=Pe(0,He)[1],dt=k-mt,Mt=L/Ne,Jt=4/L,$t=at+dt*dt*4/L;function Wt(tr,ur){var mr,yr=v(ur);if(yr>He){var Pr=i(Ne-1,c(0,t((tr+x)/Mt)));(mr=Pe(tr+=x*(Ne-1)/Ne-Pr*Mt,yr))[0]=mr[0]*L/$e-L*(Ne-1)/(2*Ne)+Pr*L/Ne,mr[1]=at+4*(mr[1]-mt)*dt/L,ur<0&&(mr[1]=-mr[1])}else mr=zt(tr,ur);return mr[0]*=Jt,mr[1]/=$t,mr}return Wt.invert=function(tr,ur){tr/=Jt;var mr=v(ur*=$t);if(mr>at){var yr=i(Ne-1,c(0,t((tr+x)/Mt)));tr=(tr+x*(Ne-1)/Ne-yr*Mt)*$e/L;var Pr=Pe.invert(tr,.25*(mr-at)*L/dt+mt);return Pr[0]-=x*(Ne-1)/Ne-yr*Mt,ur<0&&(Pr[1]=-Pr[1]),Pr}return zt.invert(tr,ur)},Wt}function ze(Ne,He){return[Ne,1&He?90-a:Ct]}function st(Ne,He){return[Ne,1&He?-90+a:-Ct]}function yt(Ne){return[Ne[0]*(1-a),Ne[1]]}function Dt(Ne){var He,$e=1+Ne,at=P(h(1/$e)),mt=2*E(x/(He=x+4*at*$e)),dt=.5*mt*($e+E(Ne*(2+Ne))),Mt=Ne*Ne,Jt=$e*$e;function $t(Wt,tr){var ur,mr,yr=1-h(tr);if(yr&&yr<2){var Pr,nn=l-tr,dn=25;do{var En=h(nn),On=r(nn),Un=at+n(En,$e-On),zn=1+Jt-2*$e*On;nn-=Pr=(nn-Mt*at-$e*En+zn*Un-.5*yr*He)/(2*$e*En*Un)}while(v(Pr)>1e-12&&--dn>0);ur=mt*E(zn),mr=Wt*Un/x}else ur=mt*(Ne+yr),mr=Wt*at/x;return[ur*h(mr),dt-ur*r(mr)]}return $t.invert=function(Wt,tr){var ur=Wt*Wt+(tr-=dt)*tr,mr=(1+Jt-ur/(mt*mt))/(2*$e),yr=S(mr),Pr=h(yr),nn=at+n(Pr,$e-mr);return[P(Wt/E(ur))*x/nn,P(1-2*(yr-Mt*at-$e*Pr+(1+Jt-2*$e*mr)*nn)/He)]},$t}function jt(Ne,He){return He>-.7109889596207567?((Ne=ne(Ne,He))[1]+=.0528035274542,Ne):de(Ne,He)}function or(Ne,He){return v(He)>.7109889596207567?((Ne=ne(Ne,He))[1]-=He>0?.0528035274542:-.0528035274542,Ne):de(Ne,He)}function Ut(Ne,He,$e,at){var mt=E(4*x/(2*$e+(1+Ne-He/2)*h(2*$e)+(Ne+He)/2*h(4*$e)+He/2*h(6*$e))),dt=E(at*h($e)*E((1+Ne*r(2*$e)+He*r(4*$e))/(1+Ne+He))),Mt=$e*$t(1);function Jt(ur){return E(1+Ne*r(2*ur)+He*r(4*ur))}function $t(ur){var mr=ur*$e;return(2*mr+(1+Ne-He/2)*h(2*mr)+(Ne+He)/2*h(4*mr)+He/2*h(6*mr))/$e}function Wt(ur){return Jt(ur)*h(ur)}var tr=function(ur,mr){var yr=$e*Q($t,Mt*h(mr)/$e,mr/x);isNaN(yr)&&(yr=$e*s(mr));var Pr=mt*Jt(yr);return[Pr*dt*ur/x*r(yr),Pr/dt*h(yr)]};return tr.invert=function(ur,mr){var yr=Q(Wt,mr*dt/mt);return[ur*x/(r(yr)*mt*dt*Jt(yr)),P($e*$t(yr/$e)/Mt)]},$e===0&&(mt=E(at/x),(tr=function(ur,mr){return[ur*mt,h(mr)/mt]}).invert=function(ur,mr){return[ur/mt,P(mr*mt)]}),tr}function Xt(Ne,He,$e,at,mt){mt===void 0&&(mt=20);var dt=Ne(He),Mt=Ne(.5*(He+$e)),Jt=Ne($e);return function $t(Wt,tr,ur,mr,yr,Pr,nn,dn,En,On,Un){if(Un.nanEncountered)return NaN;var zn,ha,ba,Oa,Ia,za,vi,pi,ti,ri;if(ha=Wt(tr+.25*(zn=ur-tr)),ba=Wt(ur-.25*zn),isNaN(ha))Un.nanEncountered=!0;else{if(!isNaN(ba))return ri=((za=(Oa=zn*(mr+4*ha+yr)/12)+(Ia=zn*(yr+4*ba+Pr)/12))-nn)/15,On>En?(Un.maxDepthCount++,za+ri):Math.abs(ri)<dn?za+ri:(pi=$t(Wt,tr,vi=tr+.5*zn,mr,ha,yr,Oa,.5*dn,En,On+1,Un),isNaN(pi)?(Un.nanEncountered=!0,NaN):(ti=$t(Wt,vi,ur,yr,ba,Pr,Ia,.5*dn,En,On+1,Un),isNaN(ti)?(Un.nanEncountered=!0,NaN):pi+ti));Un.nanEncountered=!0}}(Ne,He,$e,dt,Mt,Jt,(dt+4*Mt+Jt)*($e-He)/6,at,mt,1,{maxDepthCount:0,nanEncountered:!1})}function sr(Ne,He,$e){function at(yr){return Ne+(1-Ne)*u(1-u(yr,He),1/He)}function mt(yr){return Xt(at,0,yr,1e-4)}for(var dt=1/mt(1),Mt=1e3,Jt=(1+1e-8)*dt,$t=[],Wt=0;Wt<=Mt;Wt++)$t.push(mt(Wt/Mt)*Jt);function tr(yr){var Pr=0,nn=Mt,dn=500;do $t[dn]>yr?nn=dn:Pr=dn,dn=Pr+nn>>1;while(dn>Pr);var En=$t[dn+1]-$t[dn];return En&&(En=(yr-$t[dn+1])/En),(dn+1+En)/Mt}var ur=2*tr(1)/x*dt/$e,mr=function(yr,Pr){var nn=tr(v(h(Pr))),dn=at(nn)*yr;return nn/=ur,[dn,Pr>=0?nn:-nn]};return mr.invert=function(yr,Pr){var nn;return v(Pr*=ur)<1&&(nn=s(Pr)*P(mt(v(Pr))*dt)),[yr/at(v(Pr)),nn]},mr}function vr(Ne,He){return v(Ne[0]-He[0])<a&&v(Ne[1]-He[1])<a}function pr(Ne,He){for(var $e,at,mt,dt=-1,Mt=Ne.length,Jt=Ne[0],$t=[];++dt<Mt;){at=(($e=Ne[dt])[0]-Jt[0])/He,mt=($e[1]-Jt[1])/He;for(var Wt=0;Wt<He;++Wt)$t.push([Jt[0]+Wt*at,Jt[1]+Wt*mt]);Jt=$e}return $t.push($e),$t}function ar(Ne){var He,$e,at,mt,dt,Mt,Jt,$t=[],Wt=Ne[0].length;for(Jt=0;Jt<Wt;++Jt)$e=(He=Ne[0][Jt])[0][0],at=He[0][1],mt=He[1][1],dt=He[2][0],Mt=He[2][1],$t.push(pr([[$e+a,at+a],[$e+a,mt-a],[dt-a,mt-a],[dt-a,Mt+a]],30));for(Jt=Ne[1].length-1;Jt>=0;--Jt)$e=(He=Ne[1][Jt])[0][0],at=He[0][1],mt=He[1][1],dt=He[2][0],Mt=He[2][1],$t.push(pr([[dt-a,Mt-a],[dt-a,mt+a],[$e+a,mt+a],[$e+a,at-a]],30));return{type:"Polygon",coordinates:[b.merge($t)]}}function lr(Ne,He,$e){var at,mt;function dt($t,Wt){for(var tr=Wt<0?-1:1,ur=He[+(Wt<0)],mr=0,yr=ur.length-1;mr<yr&&$t>ur[mr][2][0];++mr);var Pr=Ne($t-ur[mr][1][0],Wt);return Pr[0]+=Ne(ur[mr][1][0],tr*Wt>tr*ur[mr][0][1]?ur[mr][0][1]:Wt)[0],Pr}$e?dt.invert=$e(dt):Ne.invert&&(dt.invert=function($t,Wt){for(var tr=mt[+(Wt<0)],ur=He[+(Wt<0)],mr=0,yr=tr.length;mr<yr;++mr){var Pr=tr[mr];if(Pr[0][0]<=$t&&$t<Pr[1][0]&&Pr[0][1]<=Wt&&Wt<Pr[1][1]){var nn=Ne.invert($t-Ne(ur[mr][1][0],0)[0],Wt);return nn[0]+=ur[mr][1][0],vr(dt(nn[0],nn[1]),[$t,Wt])?nn:null}}});var Mt=m.geoProjection(dt),Jt=Mt.stream;return Mt.stream=function($t){var Wt=Mt.rotate(),tr=Jt($t),ur=(Mt.rotate([0,0]),Jt($t));return Mt.rotate(Wt),tr.sphere=function(){m.geoStream(at,ur)},tr},Mt.lobes=function($t){return arguments.length?(at=ar($t),He=$t.map(function(Wt){return Wt.map(function(tr){return[[tr[0][0]*I,tr[0][1]*I],[tr[1][0]*I,tr[1][1]*I],[tr[2][0]*I,tr[2][1]*I]]})}),mt=He.map(function(Wt){return Wt.map(function(tr){var ur,mr=Ne(tr[0][0],tr[0][1])[0],yr=Ne(tr[2][0],tr[2][1])[0],Pr=Ne(tr[1][0],tr[0][1])[1],nn=Ne(tr[1][0],tr[1][1])[1];return Pr>nn&&(ur=Pr,Pr=nn,nn=ur),[[mr,Pr],[yr,nn]]})}),Mt):He.map(function(Wt){return Wt.map(function(tr){return[[tr[0][0]*A,tr[0][1]*A],[tr[1][0]*A,tr[1][1]*A],[tr[2][0]*A,tr[2][1]*A]]})})},He!=null&&Mt.lobes(He),Mt}jt.invert=function(Ne,He){return He>-.7109889596207567?ne.invert(Ne,He-.0528035274542):de.invert(Ne,He)},or.invert=function(Ne,He){return v(He)>.7109889596207567?ne.invert(Ne,He+(He>0?.0528035274542:-.0528035274542)):de.invert(Ne,He)};var hr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Or=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],dr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Fr=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],tn=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],rn=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function An(Ne,He){return[3/L*Ne*E(x*x/3-He*He),He]}function Ln(Ne){function He($e,at){if(v(v(at)-l)<a)return[0,at<0?-2:2];var mt=h(at),dt=u((1+mt)/(1-mt),Ne/2),Mt=.5*(dt+1/dt)+r($e*=Ne);return[2*h($e)/Mt,(dt-1/dt)/Mt]}return He.invert=function($e,at){var mt=v(at);if(v(mt-2)<a)return $e?null:[0,s(at)*l];if(mt>2)return null;var dt=($e/=2)*$e,Mt=(at/=2)*at,Jt=2*at/(1+dt+Mt);return Jt=u((1+Jt)/(1-Jt),1/Ne),[n(2*$e,1-dt-Mt)/Ne,P((Jt-1)/(Jt+1))]},He}An.invert=function(Ne,He){return[L/3*Ne/E(x*x/3-He*He),He]};var _n=x/T;function Vr(Ne,He){return[Ne*(1+E(r(He)))/2,He/(r(He/2)*r(Ne/6))]}function Ir(Ne,He){var $e=Ne*Ne,at=He*He;return[Ne*(.975534+at*(-.0143059*$e-.119161+-.0547009*at)),He*(1.00384+$e*(.0802894+-.02855*at+199025e-9*$e)+at*(.0998909+-.0491032*at))]}function xr(Ne,He){return[h(Ne)/r(He),p(He)*r(Ne)]}function Nr(Ne){var He=r(Ne),$e=p(w+Ne/2);function at(mt,dt){var Mt=dt-Ne,Jt=v(Mt)<a?mt*He:v(Jt=w+dt/2)<a||v(v(Jt)-l)<a?0:mt*Mt/d(p(Jt)/$e);return[Jt,Mt]}return at.invert=function(mt,dt){var Mt,Jt=dt+Ne;return[v(dt)<a?mt/He:v(Mt=w+Jt/2)<a||v(v(Mt)-l)<a?0:mt*d(p(Mt)/$e)/dt,Jt]},at}function en(Ne,He){return[Ne,1.25*d(p(w+.4*He))]}function Qr(Ne){var He=Ne.length-1;function $e(at,mt){for(var dt,Mt=r(mt),Jt=2/(1+Mt*r(at)),$t=Jt*Mt*h(at),Wt=Jt*h(mt),tr=He,ur=Ne[tr],mr=ur[0],yr=ur[1];--tr>=0;)mr=(ur=Ne[tr])[0]+$t*(dt=mr)-Wt*yr,yr=ur[1]+$t*yr+Wt*dt;return[mr=$t*(dt=mr)-Wt*yr,yr=$t*yr+Wt*dt]}return $e.invert=function(at,mt){var dt=20,Mt=at,Jt=mt;do{for(var $t,Wt=He,tr=Ne[Wt],ur=tr[0],mr=tr[1],yr=0,Pr=0;--Wt>=0;)yr=ur+Mt*($t=yr)-Jt*Pr,Pr=mr+Mt*Pr+Jt*$t,ur=(tr=Ne[Wt])[0]+Mt*($t=ur)-Jt*mr,mr=tr[1]+Mt*mr+Jt*$t;var nn,dn,En=(yr=ur+Mt*($t=yr)-Jt*Pr)*yr+(Pr=mr+Mt*Pr+Jt*$t)*Pr;Mt-=nn=((ur=Mt*($t=ur)-Jt*mr-at)*yr+(mr=Mt*mr+Jt*$t-mt)*Pr)/En,Jt-=dn=(mr*yr-ur*Pr)/En}while(v(nn)+v(dn)>1e-12&&--dt>0);if(dt){var On=E(Mt*Mt+Jt*Jt),Un=2*e(.5*On),zn=h(Un);return[n(Mt*zn,On*r(Un)),On?P(Jt*zn/On):0]}},$e}Vr.invert=function(Ne,He){var $e=v(Ne),at=v(He),mt=a,dt=l;at<_n?dt*=at/_n:mt+=6*S(_n/at);for(var Mt=0;Mt<25;Mt++){var Jt=h(dt),$t=E(r(dt)),Wt=h(dt/2),tr=r(dt/2),ur=h(mt/6),mr=r(mt/6),yr=.5*mt*(1+$t)-$e,Pr=dt/(tr*mr)-at,nn=$t?-.25*mt*Jt/$t:0,dn=.5*(1+$t),En=(1+.5*dt*Wt/tr)/(tr*mr),On=dt/tr*(ur/6)/(mr*mr),Un=nn*On-En*dn,zn=(yr*On-Pr*dn)/Un,ha=(Pr*nn-yr*En)/Un;if(dt-=zn,mt-=ha,v(zn)<a&&v(ha)<a)break}return[Ne<0?-mt:mt,He<0?-dt:dt]},Ir.invert=function(Ne,He){var $e=s(Ne)*x,at=He/2,mt=50;do{var dt=$e*$e,Mt=at*at,Jt=$e*at,$t=$e*(.975534+Mt*(-.0143059*dt-.119161+-.0547009*Mt))-Ne,Wt=at*(1.00384+dt*(.0802894+-.02855*Mt+199025e-9*dt)+Mt*(.0998909+-.0491032*Mt))-He,tr=.975534-Mt*(.119161+3*dt*.0143059+.0547009*Mt),ur=-Jt*(.238322+.2188036*Mt+.0286118*dt),mr=Jt*(.1605788+7961e-7*dt+-.0571*Mt),yr=1.00384+dt*(.0802894+199025e-9*dt)+Mt*(3*(.0998909-.02855*dt)-.245516*Mt),Pr=ur*mr-yr*tr,nn=(Wt*ur-$t*yr)/Pr,dn=($t*mr-Wt*tr)/Pr;$e-=nn,at-=dn}while((v(nn)>a||v(dn)>a)&&--mt>0);return mt&&[$e,at]},xr.invert=function(Ne,He){var $e=Ne*Ne,at=He*He+1,mt=$e+at,dt=Ne?_*E((mt-E(mt*mt-4*$e))/$e):1/E(at);return[P(Ne*dt),s(He)*S(dt)]},en.invert=function(Ne,He){return[Ne,2.5*e(o(.8*He))-.625*x]};var yn=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],un=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],$r=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],In=[[.9245,0],[0,0],[.01943,0]],Qt=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Pt(Ne,He){var $e=m.geoProjection(Qr(Ne)).rotate(He).clipAngle(90),at=m.geoRotation(He),mt=$e.center;return delete $e.rotate,$e.center=function(dt){return arguments.length?mt(at(dt)):at.invert(mt())},$e}var Yt=E(6),cr=E(7);function wr(Ne,He){var $e=P(7*h(He)/(3*Yt));return[Yt*Ne*(2*r(2*$e/3)-1)/cr,9*h($e/3)/cr]}function qr(Ne,He){for(var $e,at=(1+_)*h(He),mt=He,dt=0;dt<25&&(mt-=$e=(h(mt/2)+h(mt)-at)/(.5*r(mt/2)+r(mt)),!(v($e)<a));dt++);return[Ne*(1+2*r(mt)/r(mt/2))/(3*T),2*E(3)*h(mt/2)/E(2+T)]}function Ur(Ne,He){for(var $e,at=E(6/(4+x)),mt=(1+x/4)*h(He),dt=He/2,Mt=0;Mt<25&&(dt-=$e=(dt/2+h(dt)-mt)/(.5+r(dt)),!(v($e)<a));Mt++);return[at*(.5+r(dt))*Ne/1.5,at*dt]}function br(Ne,He){var $e=He*He,at=$e*$e,mt=$e*at;return[Ne*(.84719-.13063*$e+mt*mt*(.05494*$e-.04515-.02326*at+.00331*mt)),He*(1.01183+at*at*(.01926*$e-.02625-.00396*at))]}function _r(Ne,He){return[Ne*(1+r(He))/2,2*(He-p(He/2))]}wr.invert=function(Ne,He){var $e=3*P(He*cr/9);return[Ne*cr/(Yt*(2*r(2*$e/3)-1)),P(3*h($e)*Yt/7)]},qr.invert=function(Ne,He){var $e=He*E(2+T)/(2*E(3)),at=2*P($e);return[3*T*Ne/(1+2*r(at)/r(at/2)),P(($e+h(at))/(1+_))]},Ur.invert=function(Ne,He){var $e=E(6/(4+x)),at=He/$e;return v(v(at)-l)<a&&(at=at<0?-l:l),[1.5*Ne/($e*(.5+r(at))),P((at/2+h(at))/(1+x/4))]},br.invert=function(Ne,He){var $e,at,mt,dt,Mt=He,Jt=25;do Mt-=$e=(Mt*(1.01183+(mt=(at=Mt*Mt)*at)*mt*(.01926*at-.02625-.00396*mt))-He)/(1.01183+mt*mt*(.21186*at-.23625+-.05148*mt));while(v($e)>1e-12&&--Jt>0);return[Ne/(.84719-.13063*(at=Mt*Mt)+(dt=at*(mt=at*at))*dt*(.05494*at-.04515-.02326*mt+.00331*dt)),Mt]},_r.invert=function(Ne,He){for(var $e=He/2,at=0,mt=1/0;at<10&&v(mt)>a;++at){var dt=r(He/2);He-=mt=(He-p(He/2)-$e)/(1-.5/(dt*dt))}return[2*Ne/(1+r(He)),He]};var Ar=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Mr(Ne,He){var $e=h(He),at=r(He),mt=s(Ne);if(Ne===0||v(He)===l)return[0,He];if(He===0)return[Ne,0];if(v(Ne)===l)return[Ne*at,l*$e];var dt=x/(2*Ne)-2*Ne/x,Mt=2*He/x,Jt=(1-Mt*Mt)/($e-Mt),$t=dt*dt,Wt=Jt*Jt,tr=1+$t/Wt,ur=1+Wt/$t,mr=(dt*$e/Jt-dt/2)/tr,yr=(Wt*$e/$t+Jt/2)/ur,Pr=yr*yr-(Wt*$e*$e/$t+Jt*$e-1)/ur;return[l*(mr+E(mr*mr+at*at/tr)*mt),l*(yr+E(Pr<0?0:Pr)*s(-He*dt)*mt)]}Mr.invert=function(Ne,He){var $e=(Ne/=l)*Ne,at=$e+(He/=l)*He,mt=x*x;return[Ne?(at-1+E((1-at)*(1-at)+4*$e))/(2*Ne)*l:0,Q(function(dt){return at*(x*h(dt)-2*dt)*x+4*dt*dt*(He-h(dt))+2*x*dt-mt*He},0)]};function Cr(Ne,He){var $e=He*He;return[Ne,He*(1.0148+$e*$e*(.23185+$e*(.02406*$e-.14499)))]}function Gr(Ne,He){if(v(He)<a)return[Ne,0];var $e=p(He),at=Ne*h(He);return[h(at)/$e,He+(1-r(at))/$e]}function cn(Ne,He){var $e=Kr(Ne[1],Ne[0]),at=Kr(He[1],He[0]),mt=function(Mt,Jt){return n(Mt[0]*Jt[1]-Mt[1]*Jt[0],Mt[0]*Jt[0]+Mt[1]*Jt[1])}($e,at),dt=bn($e)/bn(at);return wn([1,0,Ne[0][0],0,1,Ne[0][1]],wn([dt,0,0,0,dt,0],wn([r(mt),h(mt),0,-h(mt),r(mt),0],[1,0,-He[0][0],0,1,-He[0][1]])))}function wn(Ne,He){return[Ne[0]*He[0]+Ne[1]*He[3],Ne[0]*He[1]+Ne[1]*He[4],Ne[0]*He[2]+Ne[1]*He[5]+Ne[2],Ne[3]*He[0]+Ne[4]*He[3],Ne[3]*He[1]+Ne[4]*He[4],Ne[3]*He[2]+Ne[4]*He[5]+Ne[5]]}function Kr(Ne,He){return[Ne[0]-He[0],Ne[1]-He[1]]}function bn(Ne){return E(Ne[0]*Ne[0]+Ne[1]*Ne[1])}function zr(Ne,He,$e){function at(Mt,Jt){var $t,Wt=He(Mt,Jt),tr=Wt.project([Mt*A,Jt*A]);return($t=Wt.transform)?[$t[0]*tr[0]+$t[1]*tr[1]+$t[2],-($t[3]*tr[0]+$t[4]*tr[1]+$t[5])]:(tr[1]=-tr[1],tr)}(function Mt(Jt,$t){if(Jt.edges=function(Pr){for(var nn=Pr.length,dn=[],En=Pr[nn-1],On=0;On<nn;++On)dn.push([En,En=Pr[On]]);return dn}(Jt.face),$t.face){var Wt=Jt.shared=function(Pr,nn){for(var dn,En,On=Pr.length,Un=null,zn=0;zn<On;++zn){dn=Pr[zn];for(var ha=nn.length;--ha>=0;)if(En=nn[ha],dn[0]===En[0]&&dn[1]===En[1]){if(Un)return[Un,dn];Un=dn}}}(Jt.face,$t.face),tr=cn(Wt.map($t.project),Wt.map(Jt.project));Jt.transform=$t.transform?wn($t.transform,tr):tr;for(var ur=$t.edges,mr=0,yr=ur.length;mr<yr;++mr)Wr(Wt[0],ur[mr][1])&&Wr(Wt[1],ur[mr][0])&&(ur[mr]=Jt),Wr(Wt[0],ur[mr][0])&&Wr(Wt[1],ur[mr][1])&&(ur[mr]=Jt);for(ur=Jt.edges,mr=0,yr=ur.length;mr<yr;++mr)Wr(Wt[0],ur[mr][0])&&Wr(Wt[1],ur[mr][1])&&(ur[mr]=$t),Wr(Wt[0],ur[mr][1])&&Wr(Wt[1],ur[mr][0])&&(ur[mr]=$t)}else Jt.transform=$t.transform;return Jt.children&&Jt.children.forEach(function(Pr){Mt(Pr,Jt)}),Jt})(Ne,{transform:null}),mn(Ne)&&(at.invert=function(Mt,Jt){var $t=function Wt(tr,ur){var mr=tr.project.invert,yr=tr.transform,Pr=ur;if(yr&&(yr=function(Un){var zn=1/(Un[0]*Un[4]-Un[1]*Un[3]);return[zn*Un[4],-zn*Un[1],zn*(Un[1]*Un[5]-Un[2]*Un[4]),-zn*Un[3],zn*Un[0],zn*(Un[2]*Un[3]-Un[0]*Un[5])]}(yr),Pr=[yr[0]*Pr[0]+yr[1]*Pr[1]+yr[2],yr[3]*Pr[0]+yr[4]*Pr[1]+yr[5]]),mr&&tr===function(Un){return He(Un[0]*I,Un[1]*I)}(nn=mr(Pr)))return nn;for(var nn,dn=tr.children,En=0,On=dn&&dn.length;En<On;++En)if(nn=Wt(dn[En],ur))return nn}(Ne,[Mt,-Jt]);return $t&&($t[0]*=I,$t[1]*=I,$t)});var mt=m.geoProjection(at),dt=mt.stream;return mt.stream=function(Mt){var Jt=mt.rotate(),$t=dt(Mt),Wt=(mt.rotate([0,0]),dt(Mt));return mt.rotate(Jt),$t.sphere=function(){Wt.polygonStart(),Wt.lineStart(),function tr(ur,mr,yr){var Pr,nn,dn=mr.edges,En=dn.length,On={type:"MultiPoint",coordinates:mr.face},Un=mr.face.filter(function(vi){return v(vi[1])!==90}),zn=m.geoBounds({type:"MultiPoint",coordinates:Un}),ha=!1,ba=-1,Oa=zn[1][0]-zn[0][0],Ia=Oa===180||Oa===360?[(zn[0][0]+zn[1][0])/2,(zn[0][1]+zn[1][1])/2]:m.geoCentroid(On);if(yr)for(;++ba<En&&dn[ba]!==yr;);++ba;for(var za=0;za<En;++za)nn=dn[(za+ba)%En],Array.isArray(nn)?(ha||(ur.point((Pr=m.geoInterpolate(nn[0],Ia)(a))[0],Pr[1]),ha=!0),ur.point((Pr=m.geoInterpolate(nn[1],Ia)(a))[0],Pr[1])):(ha=!1,nn!==yr&&tr(ur,nn,mr))}(Wt,Ne),Wt.lineEnd(),Wt.polygonEnd()},$t},mt.angle($e==null?-30:$e*A)}function Wr(Ne,He){return Ne&&He&&Ne[0]===He[0]&&Ne[1]===He[1]}function mn(Ne){return Ne.project.invert||Ne.children&&Ne.children.some(mn)}Cr.invert=function(Ne,He){He>1.790857183?He=1.790857183:He<-1.790857183&&(He=-1.790857183);var $e,at=He;do{var mt=at*at;at-=$e=(at*(1.0148+mt*mt*(.23185+mt*(.02406*mt-.14499)))-He)/(1.0148+mt*mt*(5*.23185+mt*(.21654*mt-1.01493)))}while(v($e)>a);return[Ne,at]},Gr.invert=function(Ne,He){if(v(He)<a)return[Ne,0];var $e,at=Ne*Ne+He*He,mt=.5*He,dt=10;do{var Mt=p(mt),Jt=1/r(mt),$t=at-2*He*mt+mt*mt;mt-=$e=(Mt*$t+2*(mt-He))/(2+$t*Jt*Jt+2*(mt-He)*Mt)}while(v($e)>a&&--dt>0);return Mt=p(mt),[(v(He)<v(mt+1/Mt)?P(Ne*Mt):s(He)*s(Ne)*(S(v(Ne*Mt))+l))/h(mt),mt]};var pn=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Pn=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ne){return Ne.map(function(He){return pn[He]})}),aa=2/E(3);function qn(Ne,He){var $e=Pe(Ne,He);return[$e[0]*aa,$e[1]]}function vn(Ne,He){for(var $e=0,at=Ne.length,mt=0;$e<at;++$e)mt+=Ne[$e]*He[$e];return mt}function ea(Ne){return[n(Ne[1],Ne[0])*A,P(c(-1,i(1,Ne[2])))*A]}function ua(Ne){var He=Ne[0]*I,$e=Ne[1]*I,at=r($e);return[at*r(He),at*h(He),h($e)]}function Ya(){}function Ei(Ne,He){return{type:"FeatureCollection",features:Ne.features.map(function($e){return ei($e,He)})}}function ei(Ne,He){return{type:"Feature",id:Ne.id,properties:Ne.properties,geometry:gi(Ne.geometry,He)}}function gi(Ne,He){if(!Ne)return null;if(Ne.type==="GeometryCollection")return function(at,mt){return{type:"GeometryCollection",geometries:at.geometries.map(function(dt){return gi(dt,mt)})}}(Ne,He);var $e;switch(Ne.type){case"Point":case"MultiPoint":$e=so;break;case"LineString":case"MultiLineString":$e=Do;break;case"Polygon":case"MultiPolygon":case"Sphere":$e=qo;break;default:return null}return m.geoStream(Ne,He($e)),$e.result()}qn.invert=function(Ne,He){return Pe.invert(Ne/aa,He)};var ka=[],Fa=[],so={point:function(Ne,He){ka.push([Ne,He])},result:function(){var Ne=ka.length?ka.length<2?{type:"Point",coordinates:ka[0]}:{type:"MultiPoint",coordinates:ka}:null;return ka=[],Ne}},Do={lineStart:Ya,point:function(Ne,He){ka.push([Ne,He])},lineEnd:function(){ka.length&&(Fa.push(ka),ka=[])},result:function(){var Ne=Fa.length?Fa.length<2?{type:"LineString",coordinates:Fa[0]}:{type:"MultiLineString",coordinates:Fa}:null;return Fa=[],Ne}},qo={polygonStart:Ya,lineStart:Ya,point:function(Ne,He){ka.push([Ne,He])},lineEnd:function(){var Ne=ka.length;if(Ne){do ka.push(ka[0].slice());while(++Ne<4);Fa.push(ka),ka=[]}},polygonEnd:Ya,result:function(){if(!Fa.length)return null;var Ne=[],He=[];return Fa.forEach(function($e){(function(at){if((mt=at.length)<4)return!1;for(var mt,dt=0,Mt=at[mt-1][1]*at[0][0]-at[mt-1][0]*at[0][1];++dt<mt;)Mt+=at[dt-1][1]*at[dt][0]-at[dt-1][0]*at[dt][1];return Mt<=0})($e)?Ne.push([$e]):He.push($e)}),He.forEach(function($e){var at=$e[0];Ne.some(function(mt){if(function(dt,Mt){for(var Jt=Mt[0],$t=Mt[1],Wt=!1,tr=0,ur=dt.length,mr=ur-1;tr<ur;mr=tr++){var yr=dt[tr],Pr=yr[0],nn=yr[1],dn=dt[mr],En=dn[0],On=dn[1];nn>$t^On>$t&&Jt<(En-Pr)*($t-nn)/(On-nn)+Pr&&(Wt=!Wt)}return Wt}(mt[0],at))return mt.push($e),!0})||Ne.push([$e])}),Fa=[],Ne.length?Ne.length>1?{type:"MultiPolygon",coordinates:Ne}:{type:"Polygon",coordinates:Ne[0]}:null}};function Vi(Ne){var He=Ne(l,0)[0]-Ne(-l,0)[0];function $e(at,mt){var dt=v(at)<l,Mt=Ne(dt?at:at>0?at-x:at+x,mt),Jt=(Mt[0]-Mt[1])*_,$t=(Mt[0]+Mt[1])*_;if(dt)return[Jt,$t];var Wt=He*_,tr=Jt>0^$t>0?-1:1;return[tr*Jt-s($t)*Wt,tr*$t-s(Jt)*Wt]}return Ne.invert&&($e.invert=function(at,mt){var dt=(at+mt)*_,Mt=(mt-at)*_,Jt=v(dt)<.5*He&&v(Mt)<.5*He;if(!Jt){var $t=He*_,Wt=dt>0^Mt>0?-1:1,tr=-Wt*at+(Mt>0?1:-1)*$t,ur=-Wt*mt+(dt>0?1:-1)*$t;dt=(-tr-ur)*_,Mt=(tr-ur)*_}var mr=Ne.invert(dt,Mt);return Jt||(mr[0]+=dt>0?x:-x),mr}),m.geoProjection($e).rotate([-90,-90,45]).clipAngle(179.999)}function Gi(){return Vi(Et).scale(111.48)}function Ro(Ne){var He=h(Ne);function $e(at,mt){var dt=He?p(at*He/2)/He:at/2;if(!mt)return[2*dt,-Ne];var Mt=2*e(dt*h(mt)),Jt=1/p(mt);return[h(Mt)*Jt,mt+(1-r(Mt))*Jt-Ne]}return $e.invert=function(at,mt){if(v(mt+=Ne)<a)return[He?2*e(He*at/2)/He:at,0];var dt,Mt=at*at+mt*mt,Jt=0,$t=10;do{var Wt=p(Jt),tr=1/r(Jt),ur=Mt-2*mt*Jt+Jt*Jt;Jt-=dt=(Wt*ur+2*(Jt-mt))/(2+ur*tr*tr+2*(Jt-mt)*Wt)}while(v(dt)>a&&--$t>0);var mr=at*(Wt=p(Jt)),yr=p(v(mt)<v(Jt+1/Wt)?.5*P(mr):.5*S(mr)+x/4)/h(Jt);return[He?2*e(He*yr)/He:2*yr,Jt]},$e}var ja=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function wo(Ne,He){var $e,at=i(18,36*v(He)/x),mt=t(at),dt=at-mt,Mt=($e=ja[mt])[0],Jt=$e[1],$t=($e=ja[++mt])[0],Wt=$e[1],tr=($e=ja[i(19,++mt)])[0],ur=$e[1];return[Ne*($t+dt*(tr-Mt)/2+dt*dt*(tr-2*$t+Mt)/2),(He>0?l:-l)*(Wt+dt*(ur-Jt)/2+dt*dt*(ur-2*Wt+Jt)/2)]}function lo(Ne,He){var $e=function(Mt){function Jt($t,Wt){var tr=r(Wt),ur=(Mt-1)/(Mt-tr*r($t));return[ur*tr*h($t),ur*h(Wt)]}return Jt.invert=function($t,Wt){var tr=$t*$t+Wt*Wt,ur=E(tr),mr=(Mt-E(1-tr*(Mt+1)/(Mt-1)))/((Mt-1)/ur+ur/(Mt-1));return[n($t*mr,ur*E(1-mr*mr)),ur?P(Wt*mr/ur):0]},Jt}(Ne);if(!He)return $e;var at=r(He),mt=h(He);function dt(Mt,Jt){var $t=$e(Mt,Jt),Wt=$t[1],tr=Wt*mt/(Ne-1)+at;return[$t[0]*at/tr,Wt/tr]}return dt.invert=function(Mt,Jt){var $t=(Ne-1)/(Ne-1-Jt*mt);return $e.invert($t*Mt,$t*Jt*at)},dt}ja.forEach(function(Ne){Ne[1]*=1.0144}),wo.invert=function(Ne,He){var $e=He/l,at=90*$e,mt=i(18,v(at/5)),dt=c(0,t(mt));do{var Mt=ja[dt][1],Jt=ja[dt+1][1],$t=ja[i(19,dt+2)][1],Wt=$t-Mt,tr=$t-2*Jt+Mt,ur=2*(v($e)-Jt)/Wt,mr=tr/Wt,yr=ur*(1-mr*ur*(1-2*mr*ur));if(yr>=0||dt===1){at=(He>=0?5:-5)*(yr+mt);var Pr,nn=50;do yr=(mt=i(18,v(at)/5))-(dt=t(mt)),Mt=ja[dt][1],Jt=ja[dt+1][1],$t=ja[i(19,dt+2)][1],at-=(Pr=(He>=0?l:-l)*(Jt+yr*($t-Mt)/2+yr*yr*($t-2*Jt+Mt)/2)-He)*A;while(v(Pr)>1e-12&&--nn>0);break}}while(--dt>=0);var dn=ja[dt][0],En=ja[dt+1][0],On=ja[i(19,dt+2)][0];return[Ne/(En+yr*(On-dn)/2+yr*yr*(On-2*En+dn)/2),at*I]};var mi=-179.9999,Yi=179.9999,co=-89.9999;function xo(Ne){return Ne.length>0}function Ii(Ne){return Ne===-90||Ne===90?[0,Ne]:[-180,(He=Ne,Math.floor(1e4*He)/1e4)];var He}function li(Ne){var He=Ne[0],$e=Ne[1],at=!1;return He<=mi?(He=-180,at=!0):He>=Yi&&(He=180,at=!0),$e<=co?($e=-90,at=!0):$e>=89.9999&&($e=90,at=!0),at?[He,$e]:Ne}function Hi(Ne){return Ne.map(li)}function gs(Ne,He,$e){for(var at=0,mt=Ne.length;at<mt;++at){var dt=Ne[at].slice();$e.push({index:-1,polygon:He,ring:dt});for(var Mt=0,Jt=dt.length;Mt<Jt;++Mt){var $t=dt[Mt],Wt=$t[0],tr=$t[1];if(Wt<=mi||Wt>=Yi||tr<=co||tr>=89.9999){dt[Mt]=li($t);for(var ur=Mt+1;ur<Jt;++ur){var mr=dt[ur],yr=mr[0],Pr=mr[1];if(yr>mi&&yr<Yi&&Pr>co&&Pr<89.9999)break}if(ur===Mt+1)continue;if(Mt){var nn={index:-1,polygon:He,ring:dt.slice(0,Mt+1)};nn.ring[nn.ring.length-1]=Ii(tr),$e[$e.length-1]=nn}else $e.pop();if(ur>=Jt)break;$e.push({index:-1,polygon:He,ring:dt=dt.slice(ur-1)}),dt[0]=Ii(dt[0][1]),Mt=-1,Jt=dt.length}}}}function bs(Ne){var He,$e,at,mt,dt,Mt,Jt=Ne.length,$t={},Wt={};for(He=0;He<Jt;++He)at=($e=Ne[He]).ring[0],dt=$e.ring[$e.ring.length-1],at[0]!==dt[0]||at[1]!==dt[1]?($e.index=He,$t[at]=Wt[dt]=$e):($e.polygon.push($e.ring),Ne[He]=null);for(He=0;He<Jt;++He)if($e=Ne[He]){if(at=$e.ring[0],dt=$e.ring[$e.ring.length-1],mt=Wt[at],Mt=$t[dt],delete $t[at],delete Wt[dt],at[0]===dt[0]&&at[1]===dt[1]){$e.polygon.push($e.ring);continue}mt?(delete Wt[at],delete $t[mt.ring[0]],mt.ring.pop(),Ne[mt.index]=null,$e={index:-1,polygon:mt.polygon,ring:mt.ring.concat($e.ring)},mt===Mt?$e.polygon.push($e.ring):($e.index=Jt++,Ne.push($t[$e.ring[0]]=Wt[$e.ring[$e.ring.length-1]]=$e))):Mt?(delete $t[dt],delete Wt[Mt.ring[Mt.ring.length-1]],$e.ring.pop(),$e={index:Jt++,polygon:Mt.polygon,ring:$e.ring.concat(Mt.ring)},Ne[Mt.index]=null,Ne.push($t[$e.ring[0]]=Wt[$e.ring[$e.ring.length-1]]=$e)):($e.ring.push($e.ring[0]),$e.polygon.push($e.ring))}}function Ua(Ne){var He={type:"Feature",geometry:ls(Ne.geometry)};return Ne.id!=null&&(He.id=Ne.id),Ne.bbox!=null&&(He.bbox=Ne.bbox),Ne.properties!=null&&(He.properties=Ne.properties),He}function ls(Ne){if(Ne==null)return Ne;var He,$e,at,mt;switch(Ne.type){case"GeometryCollection":He={type:"GeometryCollection",geometries:Ne.geometries.map(ls)};break;case"Point":He={type:"Point",coordinates:li(Ne.coordinates)};break;case"MultiPoint":case"LineString":He={type:Ne.type,coordinates:Hi(Ne.coordinates)};break;case"MultiLineString":He={type:"MultiLineString",coordinates:Ne.coordinates.map(Hi)};break;case"Polygon":var dt=[];gs(Ne.coordinates,dt,$e=[]),bs($e),He={type:"Polygon",coordinates:dt};break;case"MultiPolygon":$e=[],at=-1,mt=Ne.coordinates.length;for(var Mt=new Array(mt);++at<mt;)gs(Ne.coordinates[at],Mt[at]=[],$e);bs($e),He={type:"MultiPolygon",coordinates:Mt.filter(xo)};break;default:return Ne}return Ne.bbox!=null&&(He.bbox=Ne.bbox),He}function Xo(Ne,He){var $e=p(He/2),at=h(w*$e);return[Ne*(.74482-.34588*at*at),1.70711*$e]}function _s(Ne,He,$e){var at=m.geoInterpolate(He,$e),mt=at(.5),dt=m.geoRotation([-mt[0],-mt[1]])(He),Mt=at.distance/2,Jt=-P(h(dt[1]*I)/h(Mt)),$t=[-mt[0],-mt[1],-(dt[0]>0?x-Jt:Jt)*A],Wt=m.geoProjection(Ne(Mt)).rotate($t),tr=m.geoRotation($t),ur=Wt.center;return delete Wt.rotate,Wt.center=function(mr){return arguments.length?ur(tr(mr)):tr.invert(ur())},Wt.clipAngle(90)}function ws(Ne){var He=r(Ne);function $e(at,mt){var dt=m.geoGnomonicRaw(at,mt);return dt[0]*=He,dt}return $e.invert=function(at,mt){return m.geoGnomonicRaw.invert(at/He,mt)},$e}function ms(Ne,He){return _s(ws,Ne,He)}function Ts(Ne){if(!(Ne*=2))return m.geoAzimuthalEquidistantRaw;var He=-Ne/2,$e=-He,at=Ne*Ne,mt=p($e),dt=.5/h($e);function Mt(Jt,$t){var Wt=S(r($t)*r(Jt-He)),tr=S(r($t)*r(Jt-$e));return[((Wt*=Wt)-(tr*=tr))/(2*Ne),($t<0?-1:1)*E(4*at*tr-(at-Wt+tr)*(at-Wt+tr))/(2*Ne)]}return Mt.invert=function(Jt,$t){var Wt,tr,ur=$t*$t,mr=r(E(ur+(Wt=Jt+He)*Wt)),yr=r(E(ur+(Wt=Jt+$e)*Wt));return[n(tr=mr-yr,Wt=(mr+yr)*mt),($t<0?-1:1)*S(E(Wt*Wt+tr*tr)*dt)]},Mt}function To(Ne,He){return _s(Ts,Ne,He)}function ko(Ne,He){if(v(He)<a)return[Ne,0];var $e=v(He/l),at=P($e);if(v(Ne)<a||v(v(He)-l)<a)return[0,s(He)*x*p(at/2)];var mt=r(at),dt=v(x/Ne-Ne/x)/2,Mt=dt*dt,Jt=mt/($e+mt-1),$t=Jt*(2/$e-1),Wt=$t*$t,tr=Wt+Mt,ur=Jt-Wt,mr=Mt+Jt;return[s(Ne)*x*(dt*ur+E(Mt*ur*ur-tr*(Jt*Jt-Wt)))/tr,s(He)*x*($t*mr-dt*E((Mt+1)*tr-mr*mr))/tr]}function Fo(Ne,He){if(v(He)<a)return[Ne,0];var $e=v(He/l),at=P($e);if(v(Ne)<a||v(v(He)-l)<a)return[0,s(He)*x*p(at/2)];var mt=r(at),dt=v(x/Ne-Ne/x)/2,Mt=dt*dt,Jt=mt*(E(1+Mt)-dt*mt)/(1+Mt*$e*$e);return[s(Ne)*x*Jt,s(He)*x*E(1-Jt*(2*dt+Jt))]}function Bo(Ne,He){if(v(He)<a)return[Ne,0];var $e=He/l,at=P($e);if(v(Ne)<a||v(v(He)-l)<a)return[0,x*p(at/2)];var mt=(x/Ne-Ne/x)/2,dt=$e/(1+r(at));return[x*(s(Ne)*E(mt*mt+1-dt*dt)-mt),x*dt]}function No(Ne,He){if(!He)return[Ne,0];var $e=v(He);if(!Ne||$e===l)return[0,He];var at=$e/l,mt=at*at,dt=(8*at-mt*(mt+2)-5)/(2*mt*(at-1)),Mt=dt*dt,Jt=at*dt,$t=mt+Mt+2*Jt,Wt=at+3*dt,tr=Ne/l,ur=tr+1/tr,mr=s(v(Ne)-l)*E(ur*ur-4),yr=mr*mr,Pr=(mr*($t+Mt-1)+2*E($t*(mt+Mt*yr-1)+(1-mt)*(mt*(Wt*Wt+4*Mt)+12*Jt*Mt+4*Mt*Mt)))/(4*$t+yr);return[s(Ne)*l*Pr,s(He)*l*E(1+mr*v(Pr)-Pr*Pr)]}function Jo(Ne,He,$e,at){var mt=x/3;Ne=c(Ne,a),He=c(He,a),Ne=i(Ne,l),He=i(He,x-a),$e=c($e,0),$e=i($e,100-a);var dt=(at=c(at,a))/100,Mt=S(($e/100+1)*r(mt))/mt,Jt=h(Ne)/h(Mt*l),$t=He/x,Wt=E(dt*h(Ne/2)/h(He/2));return function(tr,ur,mr,yr,Pr){function nn(dn,En){var On=mr*h(yr*En),Un=E(1-On*On),zn=E(2/(1+Un*r(dn*=Pr)));return[tr*Un*zn*h(dn),ur*On*zn]}return nn.invert=function(dn,En){var On=dn/tr,Un=En/ur,zn=E(On*On+Un*Un),ha=2*P(zn/2);return[n(dn*p(ha),tr*zn)/Pr,zn&&P(En*h(ha)/(ur*mr*zn))/yr]},nn}(Wt/E($t*Jt*Mt),1/(Wt*E($t*Jt*Mt)),Jt,Mt,$t)}function uo(){var Ne=65*I,He=60*I,$e=20,at=200,mt=m.geoProjectionMutator(Jo),dt=mt(Ne,He,$e,at);return dt.poleline=function(Mt){return arguments.length?mt(Ne=+Mt*I,He,$e,at):Ne*A},dt.parallels=function(Mt){return arguments.length?mt(Ne,He=+Mt*I,$e,at):He*A},dt.inflation=function(Mt){return arguments.length?mt(Ne,He,$e=+Mt,at):$e},dt.ratio=function(Mt){return arguments.length?mt(Ne,He,$e,at=+Mt):at},dt.scale(163.775)}Xo.invert=function(Ne,He){var $e=He/1.70711,at=h(w*$e);return[Ne/(.74482-.34588*at*at),2*e($e)]},ko.invert=function(Ne,He){if(v(He)<a)return[Ne,0];if(v(Ne)<a)return[0,l*h(2*e(He/x))];var $e=(Ne/=x)*Ne,at=(He/=x)*He,mt=$e+at,dt=mt*mt,Mt=-v(He)*(1+mt),Jt=Mt-2*at+$e,$t=-2*Mt+1+2*at+dt,Wt=at/$t+(2*Jt*Jt*Jt/($t*$t*$t)-9*Mt*Jt/($t*$t))/27,tr=(Mt-Jt*Jt/(3*$t))/$t,ur=2*E(-tr/3),mr=S(3*Wt/(tr*ur))/3;return[x*(mt-1+E(1+2*($e-at)+dt))/(2*Ne),s(He)*x*(-ur*r(mr+x/3)-Jt/(3*$t))]},Fo.invert=function(Ne,He){if(!Ne)return[0,l*h(2*e(He/x))];var $e=v(Ne/x),at=(1-$e*$e-(He/=x)*He)/(2*$e),mt=E(at*at+1);return[s(Ne)*x*(mt-at),s(He)*l*h(2*n(E((1-2*at*$e)*(at+mt)-$e),E(mt+at+$e)))]},Bo.invert=function(Ne,He){if(!He)return[Ne,0];var $e=He/x,at=(x*x*(1-$e*$e)-Ne*Ne)/(2*x*Ne);return[Ne?x*(s(Ne)*E(at*at+1)-at):0,l*h(2*e($e))]},No.invert=function(Ne,He){var $e;if(!Ne||!He)return[Ne,He];He/=x;var at=s(Ne)*Ne/l,mt=(at*at-1+4*He*He)/v(at),dt=mt*mt,Mt=2*He,Jt=50;do{var $t=Mt*Mt,Wt=(8*Mt-$t*($t+2)-5)/(2*$t*(Mt-1)),tr=(3*Mt-$t*Mt-10)/(2*$t*Mt),ur=Wt*Wt,mr=Mt*Wt,yr=Mt+Wt,Pr=yr*yr,nn=Mt+3*Wt,dn=-2*yr*(4*mr*ur+(1-4*$t+3*$t*$t)*(1+tr)+ur*(14*$t-6-dt+(8*$t-8-2*dt)*tr)+mr*(12*$t-8+(10*$t-10-dt)*tr)),En=E(Pr*($t+ur*dt-1)+(1-$t)*($t*(nn*nn+4*ur)+ur*(12*mr+4*ur)));Mt-=$e=(mt*(Pr+ur-1)+2*En-at*(4*Pr+dt))/(mt*(2*Wt*tr+2*yr*(1+tr))+dn/En-8*yr*(mt*(-1+ur+Pr)+2*En)*(1+tr)/(dt+4*Pr))}while($e>a&&--Jt>0);return[s(Ne)*(E(mt*mt+4)+mt)*x/4,l*Mt]};var cs=4*x+3*E(3),ao=2*E(2*x*E(3)/cs),jo=re(ao*E(3)/x,ao,cs/6);function us(Ne,He){return[Ne*E(1-3*He*He/(x*x)),He]}function Mo(Ne,He){var $e=r(He),at=r(Ne)*$e,mt=1-at,dt=r(Ne=n(h(Ne)*$e,-h(He))),Mt=h(Ne);return[Mt*($e=E(1-at*at))-dt*mt,-dt*$e-Mt*mt]}function Ba(Ne,He){var $e=V(Ne,He);return[($e[0]+Ne/l)/2,($e[1]+He)/2]}us.invert=function(Ne,He){return[Ne/E(1-3*He*He/(x*x)),He]},Mo.invert=function(Ne,He){var $e=(Ne*Ne+He*He)/-2,at=E(-$e*(2+$e)),mt=He*$e+Ne*at,dt=Ne*$e-He*at,Mt=E(dt*dt+mt*mt);return[n(at*mt,Mt*(1+$e)),Mt?-P(at*dt/Mt):0]},Ba.invert=function(Ne,He){var $e=Ne,at=He,mt=25;do{var dt,Mt=r(at),Jt=h(at),$t=h(2*at),Wt=Jt*Jt,tr=Mt*Mt,ur=h($e),mr=r($e/2),yr=h($e/2),Pr=yr*yr,nn=1-tr*mr*mr,dn=nn?S(Mt*mr)*E(dt=1/nn):dt=0,En=.5*(2*dn*Mt*yr+$e/l)-Ne,On=.5*(dn*Jt+at)-He,Un=.5*dt*(tr*Pr+dn*Mt*mr*Wt)+.5/l,zn=dt*(ur*$t/4-dn*Jt*yr),ha=.125*dt*($t*yr-dn*Jt*tr*ur),ba=.5*dt*(Wt*mr+dn*Pr*Mt)+.5,Oa=zn*ha-ba*Un,Ia=(On*zn-En*ba)/Oa,za=(En*ha-On*Un)/Oa;$e-=Ia,at-=za}while((v(Ia)>a||v(za)>a)&&--mt>0);return[$e,at]},g.geoNaturalEarth=m.geoNaturalEarth1,g.geoNaturalEarthRaw=m.geoNaturalEarth1Raw,g.geoAiry=function(){var Ne=l,He=m.geoProjectionMutator(H),$e=He(Ne);return $e.radius=function(at){return arguments.length?He(Ne=at*I):Ne*A},$e.scale(179.976).clipAngle(147)},g.geoAiryRaw=H,g.geoAitoff=function(){return m.geoProjection(V).scale(152.63)},g.geoAitoffRaw=V,g.geoArmadillo=function(){var Ne=20*I,He=Ne>=0?1:-1,$e=p(He*Ne),at=m.geoProjectionMutator(Z),mt=at(Ne),dt=mt.stream;return mt.parallel=function(Mt){return arguments.length?($e=p((He=(Ne=Mt*I)>=0?1:-1)*Ne),at(Ne)):Ne*A},mt.stream=function(Mt){var Jt=mt.rotate(),$t=dt(Mt),Wt=(mt.rotate([0,0]),dt(Mt)),tr=mt.precision();return mt.rotate(Jt),$t.sphere=function(){Wt.polygonStart(),Wt.lineStart();for(var ur=-180*He;He*ur<180;ur+=90*He)Wt.point(ur,90*He);if(Ne)for(;He*(ur-=3*He*tr)>=-180;)Wt.point(ur,He*-n(r(ur*I/2),$e)*A);Wt.lineEnd(),Wt.polygonEnd()},$t},mt.scale(218.695).center([0,28.0974])},g.geoArmadilloRaw=Z,g.geoAugust=function(){return m.geoProjection(K).scale(66.1603)},g.geoAugustRaw=K,g.geoBaker=function(){return m.geoProjection($).scale(112.314)},g.geoBakerRaw=$,g.geoBerghaus=function(){var Ne=5,He=m.geoProjectionMutator(R),$e=He(Ne),at=$e.stream,mt=-r(.01*I),dt=h(.01*I);return $e.lobes=function(Mt){return arguments.length?He(Ne=+Mt):Ne},$e.stream=function(Mt){var Jt=$e.rotate(),$t=at(Mt),Wt=($e.rotate([0,0]),at(Mt));return $e.rotate(Jt),$t.sphere=function(){Wt.polygonStart(),Wt.lineStart();for(var tr=0,ur=360/Ne,mr=2*x/Ne,yr=90-180/Ne,Pr=l;tr<Ne;++tr,yr-=ur,Pr-=mr)Wt.point(n(dt*r(Pr),mt)*A,P(dt*h(Pr))*A),yr<-90?(Wt.point(-90,-180-yr-.01),Wt.point(-90,-180-yr+.01)):(Wt.point(90,yr+.01),Wt.point(90,yr-.01));Wt.lineEnd(),Wt.polygonEnd()},$t},$e.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},g.geoBerghausRaw=R,g.geoBertin1953=function(){return m.geoProjection(X()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])},g.geoBertin1953Raw=X,g.geoBoggs=function(){return m.geoProjection(pe).scale(160.857)},g.geoBoggsRaw=pe,g.geoBonne=function(){return ce(xe).scale(123.082).center([0,26.1441]).parallel(45)},g.geoBonneRaw=xe,g.geoBottomley=function(){var Ne=.5,He=m.geoProjectionMutator(we),$e=He(Ne);return $e.fraction=function(at){return arguments.length?He(Ne=+at):Ne},$e.scale(158.837)},g.geoBottomleyRaw=we,g.geoBromley=function(){return m.geoProjection(be).scale(152.63)},g.geoBromleyRaw=be,g.geoChamberlin=Ae,g.geoChamberlinRaw=Te,g.geoChamberlinAfrica=function(){return Ae([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},g.geoCollignon=function(){return m.geoProjection(Pe).scale(95.6464).center([0,30])},g.geoCollignonRaw=Pe,g.geoCraig=function(){return ce(De).scale(249.828).clipAngle(90)},g.geoCraigRaw=De,g.geoCraster=function(){return m.geoProjection(Qe).scale(156.19)},g.geoCrasterRaw=Qe,g.geoCylindricalEqualArea=function(){return ce(Oe).parallel(38.58).scale(195.044)},g.geoCylindricalEqualAreaRaw=Oe,g.geoCylindricalStereographic=function(){return ce(Ue).scale(124.75)},g.geoCylindricalStereographicRaw=Ue,g.geoEckert1=function(){return m.geoProjection(Ge).scale(165.664)},g.geoEckert1Raw=Ge,g.geoEckert2=function(){return m.geoProjection(Ye).scale(165.664)},g.geoEckert2Raw=Ye,g.geoEckert3=function(){return m.geoProjection(tt).scale(180.739)},g.geoEckert3Raw=tt,g.geoEckert4=function(){return m.geoProjection(lt).scale(180.739)},g.geoEckert4Raw=lt,g.geoEckert5=function(){return m.geoProjection(vt).scale(173.044)},g.geoEckert5Raw=vt,g.geoEckert6=function(){return m.geoProjection(It).scale(173.044)},g.geoEckert6Raw=It,g.geoEisenlohr=function(){return m.geoProjection(rt).scale(62.5271)},g.geoEisenlohrRaw=rt,g.geoFahey=function(){return m.geoProjection(Tt).scale(137.152)},g.geoFaheyRaw=Tt,g.geoFoucaut=function(){return m.geoProjection(Vt).scale(135.264)},g.geoFoucautRaw=Vt,g.geoFoucautSinusoidal=function(){var Ne=.5,He=m.geoProjectionMutator(Kt),$e=He(Ne);return $e.alpha=function(at){return arguments.length?He(Ne=+at):Ne},$e.scale(168.725)},g.geoFoucautSinusoidalRaw=Kt,g.geoGilbert=function(Ne){Ne==null&&(Ne=m.geoOrthographic);var He=Ne(),$e=m.geoEquirectangular().scale(A).precision(0).clipAngle(null).translate([0,0]);function at(dt){return He(Be(dt))}function mt(dt){at[dt]=function(){return arguments.length?(He[dt].apply(He,arguments),at):He[dt]()}}return He.invert&&(at.invert=function(dt){return qe(He.invert(dt))}),at.stream=function(dt){var Mt=He.stream(dt),Jt=$e.stream({point:function($t,Wt){Mt.point($t/2,P(p(-Wt/2*I))*A)},lineStart:function(){Mt.lineStart()},lineEnd:function(){Mt.lineEnd()},polygonStart:function(){Mt.polygonStart()},polygonEnd:function(){Mt.polygonEnd()}});return Jt.sphere=Mt.sphere,Jt},at.rotate=function(dt){return arguments.length?($e.rotate(dt),at):$e.rotate()},at.center=function(dt){return arguments.length?(He.center(Be(dt)),at):qe(He.center())},mt("angle"),mt("clipAngle"),mt("clipExtent"),mt("fitExtent"),mt("fitHeight"),mt("fitSize"),mt("fitWidth"),mt("scale"),mt("translate"),mt("precision"),at.scale(249.5)},g.geoGingery=function(){var Ne=6,He=30*I,$e=r(He),at=h(He),mt=m.geoProjectionMutator(Re),dt=mt(He,Ne),Mt=dt.stream,Jt=-r(.01*I),$t=h(.01*I);return dt.radius=function(Wt){return arguments.length?($e=r(He=Wt*I),at=h(He),mt(He,Ne)):He*A},dt.lobes=function(Wt){return arguments.length?mt(He,Ne=+Wt):Ne},dt.stream=function(Wt){var tr=dt.rotate(),ur=Mt(Wt),mr=(dt.rotate([0,0]),Mt(Wt));return dt.rotate(tr),ur.sphere=function(){mr.polygonStart(),mr.lineStart();for(var yr=0,Pr=2*x/Ne,nn=0;yr<Ne;++yr,nn-=Pr)mr.point(n($t*r(nn),Jt)*A,P($t*h(nn))*A),mr.point(n(at*r(nn-Pr/2),$e)*A,P(at*h(nn-Pr/2))*A);mr.lineEnd(),mr.polygonEnd()},ur},dt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},g.geoGingeryRaw=Re,g.geoGinzburg4=function(){return m.geoProjection(Ie).scale(149.995)},g.geoGinzburg4Raw=Ie,g.geoGinzburg5=function(){return m.geoProjection(Ce).scale(153.93)},g.geoGinzburg5Raw=Ce,g.geoGinzburg6=function(){return m.geoProjection(Je).scale(130.945)},g.geoGinzburg6Raw=Je,g.geoGinzburg8=function(){return m.geoProjection(it).scale(131.747)},g.geoGinzburg8Raw=it,g.geoGinzburg9=function(){return m.geoProjection(ht).scale(131.087)},g.geoGinzburg9Raw=ht,g.geoGringorten=function(){return m.geoProjection(ut(kt)).scale(239.75)},g.geoGringortenRaw=kt,g.geoGuyou=function(){return m.geoProjection(ut(Et)).scale(151.496)},g.geoGuyouRaw=Et,g.geoHammer=function(){var Ne=2,He=m.geoProjectionMutator(N),$e=He(Ne);return $e.coefficient=function(at){return arguments.length?He(Ne=+at):Ne},$e.scale(169.529)},g.geoHammerRaw=N,g.geoHammerRetroazimuthal=function(){var Ne=0,He=m.geoProjectionMutator(Ze),$e=He(Ne),at=$e.rotate,mt=$e.stream,dt=m.geoCircle();return $e.parallel=function(Mt){if(!arguments.length)return Ne*A;var Jt=$e.rotate();return He(Ne=Mt*I).rotate(Jt)},$e.rotate=function(Mt){return arguments.length?(at.call($e,[Mt[0],Mt[1]-Ne*A]),dt.center([-Mt[0],-Mt[1]]),$e):((Mt=at.call($e))[1]+=Ne*A,Mt)},$e.stream=function(Mt){return(Mt=mt(Mt)).sphere=function(){Mt.polygonStart();var Jt,$t=dt.radius(89.99)().coordinates[0],Wt=$t.length-1,tr=-1;for(Mt.lineStart();++tr<Wt;)Mt.point((Jt=$t[tr])[0],Jt[1]);for(Mt.lineEnd(),Wt=($t=dt.radius(90.01)().coordinates[0]).length-1,Mt.lineStart();--tr>=0;)Mt.point((Jt=$t[tr])[0],Jt[1]);Mt.lineEnd(),Mt.polygonEnd()},Mt},$e.scale(79.4187).parallel(45).clipAngle(179.999)},g.geoHammerRetroazimuthalRaw=Ze,g.geoHealpix=function(){var Ne=4,He=m.geoProjectionMutator(Gt),$e=He(Ne),at=$e.stream;return $e.lobes=function(mt){return arguments.length?He(Ne=+mt):Ne},$e.stream=function(mt){var dt=$e.rotate(),Mt=at(mt),Jt=($e.rotate([0,0]),at(mt));return $e.rotate(dt),Mt.sphere=function(){var $t,Wt;m.geoStream(($t=180/Ne,Wt=[].concat(b.range(-180,180+$t/2,$t).map(ze),b.range(180,-180-$t/2,-$t).map(st)),{type:"Polygon",coordinates:[$t===180?Wt.map(yt):Wt]}),Jt)},Mt},$e.scale(239.75)},g.geoHealpixRaw=Gt,g.geoHill=function(){var Ne=1,He=m.geoProjectionMutator(Dt),$e=He(Ne);return $e.ratio=function(at){return arguments.length?He(Ne=+at):Ne},$e.scale(167.774).center([0,18.67])},g.geoHillRaw=Dt,g.geoHomolosine=function(){return m.geoProjection(or).scale(152.63)},g.geoHomolosineRaw=or,g.geoHufnagel=function(){var Ne=1,He=0,$e=45*I,at=2,mt=m.geoProjectionMutator(Ut),dt=mt(Ne,He,$e,at);return dt.a=function(Mt){return arguments.length?mt(Ne=+Mt,He,$e,at):Ne},dt.b=function(Mt){return arguments.length?mt(Ne,He=+Mt,$e,at):He},dt.psiMax=function(Mt){return arguments.length?mt(Ne,He,$e=+Mt*I,at):$e*A},dt.ratio=function(Mt){return arguments.length?mt(Ne,He,$e,at=+Mt):at},dt.scale(180.739)},g.geoHufnagelRaw=Ut,g.geoHyperelliptical=function(){var Ne=0,He=2.5,$e=1.183136,at=m.geoProjectionMutator(sr),mt=at(Ne,He,$e);return mt.alpha=function(dt){return arguments.length?at(Ne=+dt,He,$e):Ne},mt.k=function(dt){return arguments.length?at(Ne,He=+dt,$e):He},mt.gamma=function(dt){return arguments.length?at(Ne,He,$e=+dt):$e},mt.scale(152.63)},g.geoHyperellipticalRaw=sr,g.geoInterrupt=lr,g.geoInterruptedBoggs=function(){return lr(pe,hr).scale(160.857)},g.geoInterruptedHomolosine=function(){return lr(or,Or).scale(152.63)},g.geoInterruptedMollweide=function(){return lr(ne,dr).scale(169.529)},g.geoInterruptedMollweideHemispheres=function(){return lr(ne,Fr).scale(169.529).rotate([20,0])},g.geoInterruptedSinuMollweide=function(){return lr(jt,tn,j).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},g.geoInterruptedSinusoidal=function(){return lr(de,rn).scale(152.63).rotate([-20,0])},g.geoKavrayskiy7=function(){return m.geoProjection(An).scale(158.837)},g.geoKavrayskiy7Raw=An,g.geoLagrange=function(){var Ne=.5,He=m.geoProjectionMutator(Ln),$e=He(Ne);return $e.spacing=function(at){return arguments.length?He(Ne=+at):Ne},$e.scale(124.75)},g.geoLagrangeRaw=Ln,g.geoLarrivee=function(){return m.geoProjection(Vr).scale(97.2672)},g.geoLarriveeRaw=Vr,g.geoLaskowski=function(){return m.geoProjection(Ir).scale(139.98)},g.geoLaskowskiRaw=Ir,g.geoLittrow=function(){return m.geoProjection(xr).scale(144.049).clipAngle(89.999)},g.geoLittrowRaw=xr,g.geoLoximuthal=function(){return ce(Nr).parallel(40).scale(158.837)},g.geoLoximuthalRaw=Nr,g.geoMiller=function(){return m.geoProjection(en).scale(108.318)},g.geoMillerRaw=en,g.geoModifiedStereographic=Pt,g.geoModifiedStereographicRaw=Qr,g.geoModifiedStereographicAlaska=function(){return Pt(yn,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)},g.geoModifiedStereographicGs48=function(){return Pt(un,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},g.geoModifiedStereographicGs50=function(){return Pt($r,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},g.geoModifiedStereographicMiller=function(){return Pt(In,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},g.geoModifiedStereographicLee=function(){return Pt(Qt,[165,10]).scale(250).clipAngle(130).center([-165,-10])},g.geoMollweide=function(){return m.geoProjection(ne).scale(169.529)},g.geoMollweideRaw=ne,g.geoMtFlatPolarParabolic=function(){return m.geoProjection(wr).scale(164.859)},g.geoMtFlatPolarParabolicRaw=wr,g.geoMtFlatPolarQuartic=function(){return m.geoProjection(qr).scale(188.209)},g.geoMtFlatPolarQuarticRaw=qr,g.geoMtFlatPolarSinusoidal=function(){return m.geoProjection(Ur).scale(166.518)},g.geoMtFlatPolarSinusoidalRaw=Ur,g.geoNaturalEarth2=function(){return m.geoProjection(br).scale(175.295)},g.geoNaturalEarth2Raw=br,g.geoNellHammer=function(){return m.geoProjection(_r).scale(152.63)},g.geoNellHammerRaw=_r,g.geoInterruptedQuarticAuthalic=function(){return lr(N(1/0),Ar).rotate([20,0]).scale(152.63)},g.geoNicolosi=function(){return m.geoProjection(Mr).scale(127.267)},g.geoNicolosiRaw=Mr,g.geoPatterson=function(){return m.geoProjection(Cr).scale(139.319)},g.geoPattersonRaw=Cr,g.geoPolyconic=function(){return m.geoProjection(Gr).scale(103.74)},g.geoPolyconicRaw=Gr,g.geoPolyhedral=zr,g.geoPolyhedralButterfly=function(Ne){Ne=Ne||function($e){var at=m.geoCentroid({type:"MultiPoint",coordinates:$e});return m.geoGnomonic().scale(1).translate([0,0]).rotate([-at[0],-at[1]])};var He=Pn.map(function($e){return{face:$e,project:Ne($e)}});return[-1,0,0,1,0,1,4,5].forEach(function($e,at){var mt=He[$e];mt&&(mt.children||(mt.children=[])).push(He[at])}),zr(He[0],function($e,at){return He[$e<-x/2?at<0?6:4:$e<0?at<0?2:0:$e<x/2?at<0?3:1:at<0?7:5]}).angle(-30).scale(101.858).center([0,45])},g.geoPolyhedralCollignon=function(Ne){Ne=Ne||function($e){var at=m.geoCentroid({type:"MultiPoint",coordinates:$e});return m.geoProjection(qn).translate([0,0]).scale(1).rotate(at[1]>0?[-at[0],0]:[180-at[0],180])};var He=Pn.map(function($e){return{face:$e,project:Ne($e)}});return[-1,0,0,1,0,1,4,5].forEach(function($e,at){var mt=He[$e];mt&&(mt.children||(mt.children=[])).push(He[at])}),zr(He[0],function($e,at){return He[$e<-x/2?at<0?6:4:$e<0?at<0?2:0:$e<x/2?at<0?3:1:at<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])},g.geoPolyhedralWaterman=function(Ne){Ne=Ne||function(dt){var Mt=dt.length===6?m.geoCentroid({type:"MultiPoint",coordinates:dt}):dt[0];return m.geoGnomonic().scale(1).translate([0,0]).rotate([-Mt[0],-Mt[1]])};var He=Pn.map(function(dt){for(var Mt,Jt=dt.map(ua),$t=Jt.length,Wt=Jt[$t-1],tr=[],ur=0;ur<$t;++ur)Mt=Jt[ur],tr.push(ea([.9486832980505138*Wt[0]+.31622776601683794*Mt[0],.9486832980505138*Wt[1]+.31622776601683794*Mt[1],.9486832980505138*Wt[2]+.31622776601683794*Mt[2]]),ea([.9486832980505138*Mt[0]+.31622776601683794*Wt[0],.9486832980505138*Mt[1]+.31622776601683794*Wt[1],.9486832980505138*Mt[2]+.31622776601683794*Wt[2]])),Wt=Mt;return tr}),$e=[],at=[-1,0,0,1,0,1,4,5];He.forEach(function(dt,Mt){for(var Jt,$t,Wt=Pn[Mt],tr=Wt.length,ur=$e[Mt]=[],mr=0;mr<tr;++mr)He.push([Wt[mr],dt[(2*mr+2)%(2*tr)],dt[(2*mr+1)%(2*tr)]]),at.push(Mt),ur.push((Jt=ua(dt[(2*mr+2)%(2*tr)]),$t=ua(dt[(2*mr+1)%(2*tr)]),[Jt[1]*$t[2]-Jt[2]*$t[1],Jt[2]*$t[0]-Jt[0]*$t[2],Jt[0]*$t[1]-Jt[1]*$t[0]]))});var mt=He.map(function(dt){return{project:Ne(dt),face:dt}});return at.forEach(function(dt,Mt){var Jt=mt[dt];Jt&&(Jt.children||(Jt.children=[])).push(mt[Mt])}),zr(mt[0],function(dt,Mt){var Jt=r(Mt),$t=[Jt*r(dt),Jt*h(dt),h(Mt)],Wt=dt<-x/2?Mt<0?6:4:dt<0?Mt<0?2:0:dt<x/2?Mt<0?3:1:Mt<0?7:5,tr=$e[Wt];return mt[vn(tr[0],$t)<0?8+3*Wt:vn(tr[1],$t)<0?8+3*Wt+1:vn(tr[2],$t)<0?8+3*Wt+2:Wt]}).angle(-30).scale(110.625).center([0,45])},g.geoProject=function(Ne,He){var $e,at=He.stream;if(!at)throw new Error("invalid projection");switch(Ne&&Ne.type){case"Feature":$e=ei;break;case"FeatureCollection":$e=Ei;break;default:$e=gi}return $e(Ne,at)},g.geoGringortenQuincuncial=function(){return Vi(kt).scale(176.423)},g.geoPeirceQuincuncial=Gi,g.geoPierceQuincuncial=Gi,g.geoQuantize=function(Ne,He){if(!(0<=(He=+He)&&He<=20))throw new Error("invalid digits");function $e(Wt){var tr=Wt.length,ur=2,mr=new Array(tr);for(mr[0]=+Wt[0].toFixed(He),mr[1]=+Wt[1].toFixed(He);ur<tr;)mr[ur]=Wt[ur],++ur;return mr}function at(Wt){return Wt.map($e)}function mt(Wt){for(var tr=$e(Wt[0]),ur=[tr],mr=1;mr<Wt.length;mr++){var yr=$e(Wt[mr]);(yr.length>2||yr[0]!=tr[0]||yr[1]!=tr[1])&&(ur.push(yr),tr=yr)}return ur.length===1&&Wt.length>1&&ur.push($e(Wt[Wt.length-1])),ur}function dt(Wt){return Wt.map(mt)}function Mt(Wt){if(Wt==null)return Wt;var tr;switch(Wt.type){case"GeometryCollection":tr={type:"GeometryCollection",geometries:Wt.geometries.map(Mt)};break;case"Point":tr={type:"Point",coordinates:$e(Wt.coordinates)};break;case"MultiPoint":tr={type:Wt.type,coordinates:at(Wt.coordinates)};break;case"LineString":tr={type:Wt.type,coordinates:mt(Wt.coordinates)};break;case"MultiLineString":case"Polygon":tr={type:Wt.type,coordinates:dt(Wt.coordinates)};break;case"MultiPolygon":tr={type:"MultiPolygon",coordinates:Wt.coordinates.map(dt)};break;default:return Wt}return Wt.bbox!=null&&(tr.bbox=Wt.bbox),tr}function Jt(Wt){var tr={type:"Feature",properties:Wt.properties,geometry:Mt(Wt.geometry)};return Wt.id!=null&&(tr.id=Wt.id),Wt.bbox!=null&&(tr.bbox=Wt.bbox),tr}if(Ne!=null)switch(Ne.type){case"Feature":return Jt(Ne);case"FeatureCollection":var $t={type:"FeatureCollection",features:Ne.features.map(Jt)};return Ne.bbox!=null&&($t.bbox=Ne.bbox),$t;default:return Mt(Ne)}return Ne},g.geoQuincuncial=Vi,g.geoRectangularPolyconic=function(){return ce(Ro).scale(131.215)},g.geoRectangularPolyconicRaw=Ro,g.geoRobinson=function(){return m.geoProjection(wo).scale(152.63)},g.geoRobinsonRaw=wo,g.geoSatellite=function(){var Ne=2,He=0,$e=m.geoProjectionMutator(lo),at=$e(Ne,He);return at.distance=function(mt){return arguments.length?$e(Ne=+mt,He):Ne},at.tilt=function(mt){return arguments.length?$e(Ne,He=mt*I):He*A},at.scale(432.147).clipAngle(S(1/Ne)*A-1e-6)},g.geoSatelliteRaw=lo,g.geoSinuMollweide=function(){return m.geoProjection(jt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},g.geoSinuMollweideRaw=jt,g.geoSinusoidal=function(){return m.geoProjection(de).scale(152.63)},g.geoSinusoidalRaw=de,g.geoStitch=function(Ne){if(Ne==null)return Ne;switch(Ne.type){case"Feature":return Ua(Ne);case"FeatureCollection":var He={type:"FeatureCollection",features:Ne.features.map(Ua)};return Ne.bbox!=null&&(He.bbox=Ne.bbox),He;default:return ls(Ne)}},g.geoTimes=function(){return m.geoProjection(Xo).scale(146.153)},g.geoTimesRaw=Xo,g.geoTwoPointAzimuthal=ms,g.geoTwoPointAzimuthalRaw=ws,g.geoTwoPointAzimuthalUsa=function(){return ms([-158,21.5],[-77,39]).clipAngle(60).scale(400)},g.geoTwoPointEquidistant=To,g.geoTwoPointEquidistantRaw=Ts,g.geoTwoPointEquidistantUsa=function(){return To([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},g.geoVanDerGrinten=function(){return m.geoProjection(ko).scale(79.4183)},g.geoVanDerGrintenRaw=ko,g.geoVanDerGrinten2=function(){return m.geoProjection(Fo).scale(79.4183)},g.geoVanDerGrinten2Raw=Fo,g.geoVanDerGrinten3=function(){return m.geoProjection(Bo).scale(79.4183)},g.geoVanDerGrinten3Raw=Bo,g.geoVanDerGrinten4=function(){return m.geoProjection(No).scale(127.16)},g.geoVanDerGrinten4Raw=No,g.geoWagner=uo,g.geoWagner7=function(){return uo().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)},g.geoWagnerRaw=Jo,g.geoWagner4=function(){return m.geoProjection(jo).scale(176.84)},g.geoWagner4Raw=jo,g.geoWagner6=function(){return m.geoProjection(us).scale(152.63)},g.geoWagner6Raw=us,g.geoWiechel=function(){return m.geoProjection(Mo).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},g.geoWiechelRaw=Mo,g.geoWinkel3=function(){return m.geoProjection(Ba).scale(158.837)},g.geoWinkel3Raw=Ba,Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-array":107,"d3-geo":114}],114:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-array")):m((g=g||self).d3=g.d3||{},g.d3)})(this,function(g,m){function b(){return new v}function v(){this.reset()}v.prototype={constructor:v,reset:function(){this.s=this.t=0},add:function(ft){n(e,ft,this.t),n(this,e.s,this.s),this.s?this.t+=e.t:this.s=e.t},valueOf:function(){return this.s}};var e=new v;function n(ft,Rt,nr){var Ht=ft.s=Rt+nr,ir=Ht-Rt,Lr=Ht-ir;ft.t=Rt-Lr+(nr-ir)}var r=1e-6,o=Math.PI,t=o/2,d=o/4,c=2*o,i=180/o,u=o/180,f=Math.abs,s=Math.atan,h=Math.atan2,p=Math.cos,a=Math.ceil,x=Math.exp,l=Math.log,w=Math.pow,_=Math.sin,T=Math.sign||function(ft){return ft>0?1:ft<0?-1:0},k=Math.sqrt,L=Math.tan;function A(ft){return ft>1?0:ft<-1?o:Math.acos(ft)}function I(ft){return ft>1?t:ft<-1?-t:Math.asin(ft)}function P(ft){return(ft=_(ft/2))*ft}function S(){}function E(ft,Rt){ft&&F.hasOwnProperty(ft.type)&&F[ft.type](ft,Rt)}var D={Feature:function(ft,Rt){E(ft.geometry,Rt)},FeatureCollection:function(ft,Rt){for(var nr=ft.features,Ht=-1,ir=nr.length;++Ht<ir;)E(nr[Ht].geometry,Rt)}},F={Sphere:function(ft,Rt){Rt.sphere()},Point:function(ft,Rt){ft=ft.coordinates,Rt.point(ft[0],ft[1],ft[2])},MultiPoint:function(ft,Rt){for(var nr=ft.coordinates,Ht=-1,ir=nr.length;++Ht<ir;)ft=nr[Ht],Rt.point(ft[0],ft[1],ft[2])},LineString:function(ft,Rt){H(ft.coordinates,Rt,0)},MultiLineString:function(ft,Rt){for(var nr=ft.coordinates,Ht=-1,ir=nr.length;++Ht<ir;)H(nr[Ht],Rt,0)},Polygon:function(ft,Rt){V(ft.coordinates,Rt)},MultiPolygon:function(ft,Rt){for(var nr=ft.coordinates,Ht=-1,ir=nr.length;++Ht<ir;)V(nr[Ht],Rt)},GeometryCollection:function(ft,Rt){for(var nr=ft.geometries,Ht=-1,ir=nr.length;++Ht<ir;)E(nr[Ht],Rt)}};function H(ft,Rt,nr){var Ht,ir=-1,Lr=ft.length-nr;for(Rt.lineStart();++ir<Lr;)Ht=ft[ir],Rt.point(Ht[0],Ht[1],Ht[2]);Rt.lineEnd()}function V(ft,Rt){var nr=-1,Ht=ft.length;for(Rt.polygonStart();++nr<Ht;)H(ft[nr],Rt,1);Rt.polygonEnd()}function Z(ft,Rt){ft&&D.hasOwnProperty(ft.type)?D[ft.type](ft,Rt):E(ft,Rt)}var K,q,W,$,R,N=b(),U=b(),Q={point:S,lineStart:S,lineEnd:S,polygonStart:function(){N.reset(),Q.lineStart=j,Q.lineEnd=X},polygonEnd:function(){var ft=+N;U.add(ft<0?c+ft:ft),this.lineStart=this.lineEnd=this.point=S},sphere:function(){U.add(c)}};function j(){Q.point=J}function X(){re(K,q)}function J(ft,Rt){Q.point=re,K=ft,q=Rt,W=ft*=u,$=p(Rt=(Rt*=u)/2+d),R=_(Rt)}function re(ft,Rt){var nr=(ft*=u)-W,Ht=nr>=0?1:-1,ir=Ht*nr,Lr=p(Rt=(Rt*=u)/2+d),Dr=_(Rt),Yr=R*Dr,sn=$*Lr+Yr*p(ir),an=Yr*Ht*_(ir);N.add(h(an,sn)),W=ft,$=Lr,R=Dr}function ne(ft){return[h(ft[1],ft[0]),I(ft[2])]}function se(ft){var Rt=ft[0],nr=ft[1],Ht=p(nr);return[Ht*p(Rt),Ht*_(Rt),_(nr)]}function oe(ft,Rt){return ft[0]*Rt[0]+ft[1]*Rt[1]+ft[2]*Rt[2]}function pe(ft,Rt){return[ft[1]*Rt[2]-ft[2]*Rt[1],ft[2]*Rt[0]-ft[0]*Rt[2],ft[0]*Rt[1]-ft[1]*Rt[0]]}function ce(ft,Rt){ft[0]+=Rt[0],ft[1]+=Rt[1],ft[2]+=Rt[2]}function de(ft,Rt){return[ft[0]*Rt,ft[1]*Rt,ft[2]*Rt]}function xe(ft){var Rt=k(ft[0]*ft[0]+ft[1]*ft[1]+ft[2]*ft[2]);ft[0]/=Rt,ft[1]/=Rt,ft[2]/=Rt}var we,be,Ee,fe,me,Te,_e,Ae,Pe,De,Ve,Qe,Oe,Ue,Ge,Ye,tt,lt,vt,It,St,rt,et,Tt,Vt,Kt,Be=b(),qe={point:Re,lineStart:ke,lineEnd:Le,polygonStart:function(){qe.point=Ie,qe.lineStart=Ce,qe.lineEnd=Je,Be.reset(),Q.polygonStart()},polygonEnd:function(){Q.polygonEnd(),qe.point=Re,qe.lineStart=ke,qe.lineEnd=Le,N<0?(we=-(Ee=180),be=-(fe=90)):Be>r?fe=90:Be<-r&&(be=-90),De[0]=we,De[1]=Ee},sphere:function(){we=-(Ee=180),be=-(fe=90)}};function Re(ft,Rt){Pe.push(De=[we=ft,Ee=ft]),Rt<be&&(be=Rt),Rt>fe&&(fe=Rt)}function Xe(ft,Rt){var nr=se([ft*u,Rt*u]);if(Ae){var Ht=pe(Ae,nr),ir=pe([Ht[1],-Ht[0],0],Ht);xe(ir),ir=ne(ir);var Lr,Dr=ft-me,Yr=Dr>0?1:-1,sn=ir[0]*i*Yr,an=f(Dr)>180;an^(Yr*me<sn&&sn<Yr*ft)?(Lr=ir[1]*i)>fe&&(fe=Lr):an^(Yr*me<(sn=(sn+360)%360-180)&&sn<Yr*ft)?(Lr=-ir[1]*i)<be&&(be=Lr):(Rt<be&&(be=Rt),Rt>fe&&(fe=Rt)),an?ft<me?it(we,ft)>it(we,Ee)&&(Ee=ft):it(ft,Ee)>it(we,Ee)&&(we=ft):Ee>=we?(ft<we&&(we=ft),ft>Ee&&(Ee=ft)):ft>me?it(we,ft)>it(we,Ee)&&(Ee=ft):it(ft,Ee)>it(we,Ee)&&(we=ft)}else Pe.push(De=[we=ft,Ee=ft]);Rt<be&&(be=Rt),Rt>fe&&(fe=Rt),Ae=nr,me=ft}function ke(){qe.point=Xe}function Le(){De[0]=we,De[1]=Ee,qe.point=Re,Ae=null}function Ie(ft,Rt){if(Ae){var nr=ft-me;Be.add(f(nr)>180?nr+(nr>0?360:-360):nr)}else Te=ft,_e=Rt;Q.point(ft,Rt),Xe(ft,Rt)}function Ce(){Q.lineStart()}function Je(){Ie(Te,_e),Q.lineEnd(),f(Be)>r&&(we=-(Ee=180)),De[0]=we,De[1]=Ee,Ae=null}function it(ft,Rt){return(Rt-=ft)<0?Rt+360:Rt}function ht(ft,Rt){return ft[0]-Rt[0]}function ut(ft,Rt){return ft[0]<=ft[1]?ft[0]<=Rt&&Rt<=ft[1]:Rt<ft[0]||ft[1]<Rt}var kt={sphere:S,point:ot,lineStart:Et,lineEnd:Ct,polygonStart:function(){kt.lineStart=zt,kt.lineEnd=Gt},polygonEnd:function(){kt.lineStart=Et,kt.lineEnd=Ct}};function ot(ft,Rt){ft*=u;var nr=p(Rt*=u);Lt(nr*p(ft),nr*_(ft),_(Rt))}function Lt(ft,Rt,nr){++Ve,Oe+=(ft-Oe)/Ve,Ue+=(Rt-Ue)/Ve,Ge+=(nr-Ge)/Ve}function Et(){kt.point=Ze}function Ze(ft,Rt){ft*=u;var nr=p(Rt*=u);Tt=nr*p(ft),Vt=nr*_(ft),Kt=_(Rt),kt.point=pt,Lt(Tt,Vt,Kt)}function pt(ft,Rt){ft*=u;var nr=p(Rt*=u),Ht=nr*p(ft),ir=nr*_(ft),Lr=_(Rt),Dr=h(k((Dr=Vt*Lr-Kt*ir)*Dr+(Dr=Kt*Ht-Tt*Lr)*Dr+(Dr=Tt*ir-Vt*Ht)*Dr),Tt*Ht+Vt*ir+Kt*Lr);Qe+=Dr,Ye+=Dr*(Tt+(Tt=Ht)),tt+=Dr*(Vt+(Vt=ir)),lt+=Dr*(Kt+(Kt=Lr)),Lt(Tt,Vt,Kt)}function Ct(){kt.point=ot}function zt(){kt.point=ze}function Gt(){st(rt,et),kt.point=ot}function ze(ft,Rt){rt=ft,et=Rt,ft*=u,Rt*=u,kt.point=st;var nr=p(Rt);Tt=nr*p(ft),Vt=nr*_(ft),Kt=_(Rt),Lt(Tt,Vt,Kt)}function st(ft,Rt){ft*=u;var nr=p(Rt*=u),Ht=nr*p(ft),ir=nr*_(ft),Lr=_(Rt),Dr=Vt*Lr-Kt*ir,Yr=Kt*Ht-Tt*Lr,sn=Tt*ir-Vt*Ht,an=k(Dr*Dr+Yr*Yr+sn*sn),gn=I(an),Tn=an&&-gn/an;vt+=Tn*Dr,It+=Tn*Yr,St+=Tn*sn,Qe+=gn,Ye+=gn*(Tt+(Tt=Ht)),tt+=gn*(Vt+(Vt=ir)),lt+=gn*(Kt+(Kt=Lr)),Lt(Tt,Vt,Kt)}function yt(ft){return function(){return ft}}function Dt(ft,Rt){function nr(Ht,ir){return Ht=ft(Ht,ir),Rt(Ht[0],Ht[1])}return ft.invert&&Rt.invert&&(nr.invert=function(Ht,ir){return(Ht=Rt.invert(Ht,ir))&&ft.invert(Ht[0],Ht[1])}),nr}function jt(ft,Rt){return[f(ft)>o?ft+Math.round(-ft/c)*c:ft,Rt]}function or(ft,Rt,nr){return(ft%=c)?Rt||nr?Dt(Xt(ft),sr(Rt,nr)):Xt(ft):Rt||nr?sr(Rt,nr):jt}function Ut(ft){return function(Rt,nr){return[(Rt+=ft)>o?Rt-c:Rt<-o?Rt+c:Rt,nr]}}function Xt(ft){var Rt=Ut(ft);return Rt.invert=Ut(-ft),Rt}function sr(ft,Rt){var nr=p(ft),Ht=_(ft),ir=p(Rt),Lr=_(Rt);function Dr(Yr,sn){var an=p(sn),gn=p(Yr)*an,Tn=_(Yr)*an,ln=_(sn),kn=ln*nr+gn*Ht;return[h(Tn*ir-kn*Lr,gn*nr-ln*Ht),I(kn*ir+Tn*Lr)]}return Dr.invert=function(Yr,sn){var an=p(sn),gn=p(Yr)*an,Tn=_(Yr)*an,ln=_(sn),kn=ln*ir-Tn*Lr;return[h(Tn*ir+ln*Lr,gn*nr+kn*Ht),I(kn*nr-gn*Ht)]},Dr}function vr(ft){function Rt(nr){return(nr=ft(nr[0]*u,nr[1]*u))[0]*=i,nr[1]*=i,nr}return ft=or(ft[0]*u,ft[1]*u,ft.length>2?ft[2]*u:0),Rt.invert=function(nr){return(nr=ft.invert(nr[0]*u,nr[1]*u))[0]*=i,nr[1]*=i,nr},Rt}function pr(ft,Rt,nr,Ht,ir,Lr){if(nr){var Dr=p(Rt),Yr=_(Rt),sn=Ht*nr;ir==null?(ir=Rt+Ht*c,Lr=Rt-sn/2):(ir=ar(Dr,ir),Lr=ar(Dr,Lr),(Ht>0?ir<Lr:ir>Lr)&&(ir+=Ht*c));for(var an,gn=ir;Ht>0?gn>Lr:gn<Lr;gn-=sn)an=ne([Dr,-Yr*p(gn),-Yr*_(gn)]),ft.point(an[0],an[1])}}function ar(ft,Rt){(Rt=se(Rt))[0]-=ft,xe(Rt);var nr=A(-Rt[1]);return((-Rt[2]<0?-nr:nr)+c-r)%c}function lr(){var ft,Rt=[];return{point:function(nr,Ht,ir){ft.push([nr,Ht,ir])},lineStart:function(){Rt.push(ft=[])},lineEnd:S,rejoin:function(){Rt.length>1&&Rt.push(Rt.pop().concat(Rt.shift()))},result:function(){var nr=Rt;return Rt=[],ft=null,nr}}}function hr(ft,Rt){return f(ft[0]-Rt[0])<r&&f(ft[1]-Rt[1])<r}function Or(ft,Rt,nr,Ht){this.x=ft,this.z=Rt,this.o=nr,this.e=Ht,this.v=!1,this.n=this.p=null}function dr(ft,Rt,nr,Ht,ir){var Lr,Dr,Yr=[],sn=[];if(ft.forEach(function(Dn){if(!((jn=Dn.length-1)<=0)){var jn,$n,Zr=Dn[0],Jn=Dn[jn];if(hr(Zr,Jn)){if(!Zr[2]&&!Jn[2]){for(ir.lineStart(),Lr=0;Lr<jn;++Lr)ir.point((Zr=Dn[Lr])[0],Zr[1]);return void ir.lineEnd()}Jn[0]+=2*r}Yr.push($n=new Or(Zr,Dn,null,!0)),sn.push($n.o=new Or(Zr,null,$n,!1)),Yr.push($n=new Or(Jn,Dn,null,!1)),sn.push($n.o=new Or(Jn,null,$n,!0))}}),Yr.length){for(sn.sort(Rt),Fr(Yr),Fr(sn),Lr=0,Dr=sn.length;Lr<Dr;++Lr)sn[Lr].e=nr=!nr;for(var an,gn,Tn=Yr[0];;){for(var ln=Tn,kn=!0;ln.v;)if((ln=ln.n)===Tn)return;an=ln.z,ir.lineStart();do{if(ln.v=ln.o.v=!0,ln.e){if(kn)for(Lr=0,Dr=an.length;Lr<Dr;++Lr)ir.point((gn=an[Lr])[0],gn[1]);else Ht(ln.x,ln.n.x,1,ir);ln=ln.n}else{if(kn)for(an=ln.p.z,Lr=an.length-1;Lr>=0;--Lr)ir.point((gn=an[Lr])[0],gn[1]);else Ht(ln.x,ln.p.x,-1,ir);ln=ln.p}an=(ln=ln.o).z,kn=!kn}while(!ln.v);ir.lineEnd()}}}function Fr(ft){if(Rt=ft.length){for(var Rt,nr,Ht=0,ir=ft[0];++Ht<Rt;)ir.n=nr=ft[Ht],nr.p=ir,ir=nr;ir.n=nr=ft[0],nr.p=ir}}jt.invert=jt;var tn=b();function rn(ft){return f(ft[0])<=o?ft[0]:T(ft[0])*((f(ft[0])+o)%c-o)}function An(ft,Rt){var nr=rn(Rt),Ht=Rt[1],ir=_(Ht),Lr=[_(nr),-p(nr),0],Dr=0,Yr=0;tn.reset(),ir===1?Ht=t+r:ir===-1&&(Ht=-t-r);for(var sn=0,an=ft.length;sn<an;++sn)if(Tn=(gn=ft[sn]).length)for(var gn,Tn,ln=gn[Tn-1],kn=rn(ln),Dn=ln[1]/2+d,jn=_(Dn),$n=p(Dn),Zr=0;Zr<Tn;++Zr,kn=Cn,jn=Xn,$n=xa,ln=Jn){var Jn=gn[Zr],Cn=rn(Jn),Bn=Jn[1]/2+d,Xn=_(Bn),xa=p(Bn),Ma=Cn-kn,Sn=Ma>=0?1:-1,La=Sn*Ma,Ta=La>o,fa=jn*Xn;if(tn.add(h(fa*Sn*_(La),$n*xa+fa*p(La))),Dr+=Ta?Ma+Sn*c:Ma,Ta^kn>=nr^Cn>=nr){var Ca=pe(se(ln),se(Jn));xe(Ca);var _a=pe(Lr,Ca);xe(_a);var Za=(Ta^Ma>=0?-1:1)*I(_a[2]);(Ht>Za||Ht===Za&&(Ca[0]||Ca[1]))&&(Yr+=Ta^Ma>=0?1:-1)}}return(Dr<-r||Dr<r&&tn<-r)^1&Yr}function Ln(ft,Rt,nr,Ht){return function(ir){var Lr,Dr,Yr,sn=Rt(ir),an=lr(),gn=Rt(an),Tn=!1,ln={point:kn,lineStart:jn,lineEnd:$n,polygonStart:function(){ln.point=Zr,ln.lineStart=Jn,ln.lineEnd=Cn,Dr=[],Lr=[]},polygonEnd:function(){ln.point=kn,ln.lineStart=jn,ln.lineEnd=$n,Dr=m.merge(Dr);var Bn=An(Lr,Ht);Dr.length?(Tn||(ir.polygonStart(),Tn=!0),dr(Dr,Vr,Bn,nr,ir)):Bn&&(Tn||(ir.polygonStart(),Tn=!0),ir.lineStart(),nr(null,null,1,ir),ir.lineEnd()),Tn&&(ir.polygonEnd(),Tn=!1),Dr=Lr=null},sphere:function(){ir.polygonStart(),ir.lineStart(),nr(null,null,1,ir),ir.lineEnd(),ir.polygonEnd()}};function kn(Bn,Xn){ft(Bn,Xn)&&ir.point(Bn,Xn)}function Dn(Bn,Xn){sn.point(Bn,Xn)}function jn(){ln.point=Dn,sn.lineStart()}function $n(){ln.point=kn,sn.lineEnd()}function Zr(Bn,Xn){Yr.push([Bn,Xn]),gn.point(Bn,Xn)}function Jn(){gn.lineStart(),Yr=[]}function Cn(){Zr(Yr[0][0],Yr[0][1]),gn.lineEnd();var Bn,Xn,xa,Ma,Sn=gn.clean(),La=an.result(),Ta=La.length;if(Yr.pop(),Lr.push(Yr),Yr=null,Ta)if(1&Sn){if((Xn=(xa=La[0]).length-1)>0){for(Tn||(ir.polygonStart(),Tn=!0),ir.lineStart(),Bn=0;Bn<Xn;++Bn)ir.point((Ma=xa[Bn])[0],Ma[1]);ir.lineEnd()}}else Ta>1&&2&Sn&&La.push(La.pop().concat(La.shift())),Dr.push(La.filter(_n))}return ln}}function _n(ft){return ft.length>1}function Vr(ft,Rt){return((ft=ft.x)[0]<0?ft[1]-t-r:t-ft[1])-((Rt=Rt.x)[0]<0?Rt[1]-t-r:t-Rt[1])}var Ir=Ln(function(){return!0},function(ft){var Rt,nr=NaN,Ht=NaN,ir=NaN;return{lineStart:function(){ft.lineStart(),Rt=1},point:function(Lr,Dr){var Yr=Lr>0?o:-o,sn=f(Lr-nr);f(sn-o)<r?(ft.point(nr,Ht=(Ht+Dr)/2>0?t:-t),ft.point(ir,Ht),ft.lineEnd(),ft.lineStart(),ft.point(Yr,Ht),ft.point(Lr,Ht),Rt=0):ir!==Yr&&sn>=o&&(f(nr-ir)<r&&(nr-=ir*r),f(Lr-Yr)<r&&(Lr-=Yr*r),Ht=function(an,gn,Tn,ln){var kn,Dn,jn=_(an-Tn);return f(jn)>r?s((_(gn)*(Dn=p(ln))*_(Tn)-_(ln)*(kn=p(gn))*_(an))/(kn*Dn*jn)):(gn+ln)/2}(nr,Ht,Lr,Dr),ft.point(ir,Ht),ft.lineEnd(),ft.lineStart(),ft.point(Yr,Ht),Rt=0),ft.point(nr=Lr,Ht=Dr),ir=Yr},lineEnd:function(){ft.lineEnd(),nr=Ht=NaN},clean:function(){return 2-Rt}}},function(ft,Rt,nr,Ht){var ir;if(ft==null)ir=nr*t,Ht.point(-o,ir),Ht.point(0,ir),Ht.point(o,ir),Ht.point(o,0),Ht.point(o,-ir),Ht.point(0,-ir),Ht.point(-o,-ir),Ht.point(-o,0),Ht.point(-o,ir);else if(f(ft[0]-Rt[0])>r){var Lr=ft[0]<Rt[0]?o:-o;ir=nr*Lr/2,Ht.point(-Lr,ir),Ht.point(0,ir),Ht.point(Lr,ir)}else Ht.point(Rt[0],Rt[1])},[-o,-t]);function xr(ft){var Rt=p(ft),nr=6*u,Ht=Rt>0,ir=f(Rt)>r;function Lr(sn,an){return p(sn)*p(an)>Rt}function Dr(sn,an,gn){var Tn=[1,0,0],ln=pe(se(sn),se(an)),kn=oe(ln,ln),Dn=ln[0],jn=kn-Dn*Dn;if(!jn)return!gn&&sn;var $n=Rt*kn/jn,Zr=-Rt*Dn/jn,Jn=pe(Tn,ln),Cn=de(Tn,$n);ce(Cn,de(ln,Zr));var Bn=Jn,Xn=oe(Cn,Bn),xa=oe(Bn,Bn),Ma=Xn*Xn-xa*(oe(Cn,Cn)-1);if(!(Ma<0)){var Sn=k(Ma),La=de(Bn,(-Xn-Sn)/xa);if(ce(La,Cn),La=ne(La),!gn)return La;var Ta,fa=sn[0],Ca=an[0],_a=sn[1],Za=an[1];Ca<fa&&(Ta=fa,fa=Ca,Ca=Ta);var Kn=Ca-fa,Va=f(Kn-o)<r;if(!Va&&Za<_a&&(Ta=_a,_a=Za,Za=Ta),Va||Kn<r?Va?_a+Za>0^La[1]<(f(La[0]-fa)<r?_a:Za):_a<=La[1]&&La[1]<=Za:Kn>o^(fa<=La[0]&&La[0]<=Ca)){var zi=de(Bn,(-Xn+Sn)/xa);return ce(zi,Cn),[La,ne(zi)]}}}function Yr(sn,an){var gn=Ht?ft:o-ft,Tn=0;return sn<-gn?Tn|=1:sn>gn&&(Tn|=2),an<-gn?Tn|=4:an>gn&&(Tn|=8),Tn}return Ln(Lr,function(sn){var an,gn,Tn,ln,kn;return{lineStart:function(){ln=Tn=!1,kn=1},point:function(Dn,jn){var $n,Zr=[Dn,jn],Jn=Lr(Dn,jn),Cn=Ht?Jn?0:Yr(Dn,jn):Jn?Yr(Dn+(Dn<0?o:-o),jn):0;if(!an&&(ln=Tn=Jn)&&sn.lineStart(),Jn!==Tn&&(!($n=Dr(an,Zr))||hr(an,$n)||hr(Zr,$n))&&(Zr[2]=1),Jn!==Tn)kn=0,Jn?(sn.lineStart(),$n=Dr(Zr,an),sn.point($n[0],$n[1])):($n=Dr(an,Zr),sn.point($n[0],$n[1],2),sn.lineEnd()),an=$n;else if(ir&&an&&Ht^Jn){var Bn;Cn&gn||!(Bn=Dr(Zr,an,!0))||(kn=0,Ht?(sn.lineStart(),sn.point(Bn[0][0],Bn[0][1]),sn.point(Bn[1][0],Bn[1][1]),sn.lineEnd()):(sn.point(Bn[1][0],Bn[1][1]),sn.lineEnd(),sn.lineStart(),sn.point(Bn[0][0],Bn[0][1],3)))}!Jn||an&&hr(an,Zr)||sn.point(Zr[0],Zr[1]),an=Zr,Tn=Jn,gn=Cn},lineEnd:function(){Tn&&sn.lineEnd(),an=null},clean:function(){return kn|(ln&&Tn)<<1}}},function(sn,an,gn,Tn){pr(Tn,ft,nr,gn,sn,an)},Ht?[0,-ft]:[-o,ft-o])}function Nr(ft,Rt,nr,Ht){function ir(an,gn){return ft<=an&&an<=nr&&Rt<=gn&&gn<=Ht}function Lr(an,gn,Tn,ln){var kn=0,Dn=0;if(an==null||(kn=Dr(an,Tn))!==(Dn=Dr(gn,Tn))||sn(an,gn)<0^Tn>0)do ln.point(kn===0||kn===3?ft:nr,kn>1?Ht:Rt);while((kn=(kn+Tn+4)%4)!==Dn);else ln.point(gn[0],gn[1])}function Dr(an,gn){return f(an[0]-ft)<r?gn>0?0:3:f(an[0]-nr)<r?gn>0?2:1:f(an[1]-Rt)<r?gn>0?1:0:gn>0?3:2}function Yr(an,gn){return sn(an.x,gn.x)}function sn(an,gn){var Tn=Dr(an,1),ln=Dr(gn,1);return Tn!==ln?Tn-ln:Tn===0?gn[1]-an[1]:Tn===1?an[0]-gn[0]:Tn===2?an[1]-gn[1]:gn[0]-an[0]}return function(an){var gn,Tn,ln,kn,Dn,jn,$n,Zr,Jn,Cn,Bn,Xn=an,xa=lr(),Ma={point:Sn,lineStart:function(){Ma.point=La,Tn&&Tn.push(ln=[]),Cn=!0,Jn=!1,$n=Zr=NaN},lineEnd:function(){gn&&(La(kn,Dn),jn&&Jn&&xa.rejoin(),gn.push(xa.result())),Ma.point=Sn,Jn&&Xn.lineEnd()},polygonStart:function(){Xn=xa,gn=[],Tn=[],Bn=!0},polygonEnd:function(){var Ta=function(){for(var _a=0,Za=0,Kn=Tn.length;Za<Kn;++Za)for(var Va,zi,Go=Tn[Za],Co=1,fo=Go.length,da=Go[0],ci=da[0],ho=da[1];Co<fo;++Co)Va=ci,zi=ho,da=Go[Co],ci=da[0],ho=da[1],zi<=Ht?ho>Ht&&(ci-Va)*(Ht-zi)>(ho-zi)*(ft-Va)&&++_a:ho<=Ht&&(ci-Va)*(Ht-zi)<(ho-zi)*(ft-Va)&&--_a;return _a}(),fa=Bn&&Ta,Ca=(gn=m.merge(gn)).length;(fa||Ca)&&(an.polygonStart(),fa&&(an.lineStart(),Lr(null,null,1,an),an.lineEnd()),Ca&&dr(gn,Yr,Ta,Lr,an),an.polygonEnd()),Xn=an,gn=Tn=ln=null}};function Sn(Ta,fa){ir(Ta,fa)&&Xn.point(Ta,fa)}function La(Ta,fa){var Ca=ir(Ta,fa);if(Tn&&ln.push([Ta,fa]),Cn)kn=Ta,Dn=fa,jn=Ca,Cn=!1,Ca&&(Xn.lineStart(),Xn.point(Ta,fa));else if(Ca&&Jn)Xn.point(Ta,fa);else{var _a=[$n=Math.max(-1e9,Math.min(1e9,$n)),Zr=Math.max(-1e9,Math.min(1e9,Zr))],Za=[Ta=Math.max(-1e9,Math.min(1e9,Ta)),fa=Math.max(-1e9,Math.min(1e9,fa))];(function(Kn,Va,zi,Go,Co,fo){var da,ci=Kn[0],ho=Kn[1],Ha=0,yi=1,Ni=Va[0]-ci,Ja=Va[1]-ho;if(da=zi-ci,Ni||!(da>0)){if(da/=Ni,Ni<0){if(da<Ha)return;da<yi&&(yi=da)}else if(Ni>0){if(da>yi)return;da>Ha&&(Ha=da)}if(da=Co-ci,Ni||!(da<0)){if(da/=Ni,Ni<0){if(da>yi)return;da>Ha&&(Ha=da)}else if(Ni>0){if(da<Ha)return;da<yi&&(yi=da)}if(da=Go-ho,Ja||!(da>0)){if(da/=Ja,Ja<0){if(da<Ha)return;da<yi&&(yi=da)}else if(Ja>0){if(da>yi)return;da>Ha&&(Ha=da)}if(da=fo-ho,Ja||!(da<0)){if(da/=Ja,Ja<0){if(da>yi)return;da>Ha&&(Ha=da)}else if(Ja>0){if(da<Ha)return;da<yi&&(yi=da)}return Ha>0&&(Kn[0]=ci+Ha*Ni,Kn[1]=ho+Ha*Ja),yi<1&&(Va[0]=ci+yi*Ni,Va[1]=ho+yi*Ja),!0}}}}})(_a,Za,ft,Rt,nr,Ht)?(Jn||(Xn.lineStart(),Xn.point(_a[0],_a[1])),Xn.point(Za[0],Za[1]),Ca||Xn.lineEnd(),Bn=!1):Ca&&(Xn.lineStart(),Xn.point(Ta,fa),Bn=!1)}$n=Ta,Zr=fa,Jn=Ca}return Ma}}var en,Qr,yn,un=b(),$r={sphere:S,point:S,lineStart:function(){$r.point=Qt,$r.lineEnd=In},lineEnd:S,polygonStart:S,polygonEnd:S};function In(){$r.point=$r.lineEnd=S}function Qt(ft,Rt){en=ft*=u,Qr=_(Rt*=u),yn=p(Rt),$r.point=Pt}function Pt(ft,Rt){ft*=u;var nr=_(Rt*=u),Ht=p(Rt),ir=f(ft-en),Lr=p(ir),Dr=Ht*_(ir),Yr=yn*nr-Qr*Ht*Lr,sn=Qr*nr+yn*Ht*Lr;un.add(h(k(Dr*Dr+Yr*Yr),sn)),en=ft,Qr=nr,yn=Ht}function Yt(ft){return un.reset(),Z(ft,$r),+un}var cr=[null,null],wr={type:"LineString",coordinates:cr};function qr(ft,Rt){return cr[0]=ft,cr[1]=Rt,Yt(wr)}var Ur={Feature:function(ft,Rt){return _r(ft.geometry,Rt)},FeatureCollection:function(ft,Rt){for(var nr=ft.features,Ht=-1,ir=nr.length;++Ht<ir;)if(_r(nr[Ht].geometry,Rt))return!0;return!1}},br={Sphere:function(){return!0},Point:function(ft,Rt){return Ar(ft.coordinates,Rt)},MultiPoint:function(ft,Rt){for(var nr=ft.coordinates,Ht=-1,ir=nr.length;++Ht<ir;)if(Ar(nr[Ht],Rt))return!0;return!1},LineString:function(ft,Rt){return Mr(ft.coordinates,Rt)},MultiLineString:function(ft,Rt){for(var nr=ft.coordinates,Ht=-1,ir=nr.length;++Ht<ir;)if(Mr(nr[Ht],Rt))return!0;return!1},Polygon:function(ft,Rt){return Cr(ft.coordinates,Rt)},MultiPolygon:function(ft,Rt){for(var nr=ft.coordinates,Ht=-1,ir=nr.length;++Ht<ir;)if(Cr(nr[Ht],Rt))return!0;return!1},GeometryCollection:function(ft,Rt){for(var nr=ft.geometries,Ht=-1,ir=nr.length;++Ht<ir;)if(_r(nr[Ht],Rt))return!0;return!1}};function _r(ft,Rt){return!(!ft||!br.hasOwnProperty(ft.type))&&br[ft.type](ft,Rt)}function Ar(ft,Rt){return qr(ft,Rt)===0}function Mr(ft,Rt){for(var nr,Ht,ir,Lr=0,Dr=ft.length;Lr<Dr;Lr++){if((Ht=qr(ft[Lr],Rt))===0||Lr>0&&(ir=qr(ft[Lr],ft[Lr-1]))>0&&nr<=ir&&Ht<=ir&&(nr+Ht-ir)*(1-Math.pow((nr-Ht)/ir,2))<1e-12*ir)return!0;nr=Ht}return!1}function Cr(ft,Rt){return!!An(ft.map(Gr),cn(Rt))}function Gr(ft){return(ft=ft.map(cn)).pop(),ft}function cn(ft){return[ft[0]*u,ft[1]*u]}function wn(ft,Rt,nr){var Ht=m.range(ft,Rt-r,nr).concat(Rt);return function(ir){return Ht.map(function(Lr){return[ir,Lr]})}}function Kr(ft,Rt,nr){var Ht=m.range(ft,Rt-r,nr).concat(Rt);return function(ir){return Ht.map(function(Lr){return[Lr,ir]})}}function bn(){var ft,Rt,nr,Ht,ir,Lr,Dr,Yr,sn,an,gn,Tn,ln=10,kn=ln,Dn=90,jn=360,$n=2.5;function Zr(){return{type:"MultiLineString",coordinates:Jn()}}function Jn(){return m.range(a(Ht/Dn)*Dn,nr,Dn).map(gn).concat(m.range(a(Yr/jn)*jn,Dr,jn).map(Tn)).concat(m.range(a(Rt/ln)*ln,ft,ln).filter(function(Cn){return f(Cn%Dn)>r}).map(sn)).concat(m.range(a(Lr/kn)*kn,ir,kn).filter(function(Cn){return f(Cn%jn)>r}).map(an))}return Zr.lines=function(){return Jn().map(function(Cn){return{type:"LineString",coordinates:Cn}})},Zr.outline=function(){return{type:"Polygon",coordinates:[gn(Ht).concat(Tn(Dr).slice(1),gn(nr).reverse().slice(1),Tn(Yr).reverse().slice(1))]}},Zr.extent=function(Cn){return arguments.length?Zr.extentMajor(Cn).extentMinor(Cn):Zr.extentMinor()},Zr.extentMajor=function(Cn){return arguments.length?(Ht=+Cn[0][0],nr=+Cn[1][0],Yr=+Cn[0][1],Dr=+Cn[1][1],Ht>nr&&(Cn=Ht,Ht=nr,nr=Cn),Yr>Dr&&(Cn=Yr,Yr=Dr,Dr=Cn),Zr.precision($n)):[[Ht,Yr],[nr,Dr]]},Zr.extentMinor=function(Cn){return arguments.length?(Rt=+Cn[0][0],ft=+Cn[1][0],Lr=+Cn[0][1],ir=+Cn[1][1],Rt>ft&&(Cn=Rt,Rt=ft,ft=Cn),Lr>ir&&(Cn=Lr,Lr=ir,ir=Cn),Zr.precision($n)):[[Rt,Lr],[ft,ir]]},Zr.step=function(Cn){return arguments.length?Zr.stepMajor(Cn).stepMinor(Cn):Zr.stepMinor()},Zr.stepMajor=function(Cn){return arguments.length?(Dn=+Cn[0],jn=+Cn[1],Zr):[Dn,jn]},Zr.stepMinor=function(Cn){return arguments.length?(ln=+Cn[0],kn=+Cn[1],Zr):[ln,kn]},Zr.precision=function(Cn){return arguments.length?($n=+Cn,sn=wn(Lr,ir,90),an=Kr(Rt,ft,$n),gn=wn(Yr,Dr,90),Tn=Kr(Ht,nr,$n),Zr):$n},Zr.extentMajor([[-180,-90+r],[180,90-r]]).extentMinor([[-180,-80-r],[180,80+r]])}function zr(ft){return ft}var Wr,mn,pn,Pn,aa=b(),qn=b(),vn={point:S,lineStart:S,lineEnd:S,polygonStart:function(){vn.lineStart=ea,vn.lineEnd=Ei},polygonEnd:function(){vn.lineStart=vn.lineEnd=vn.point=S,aa.add(f(qn)),qn.reset()},result:function(){var ft=aa/2;return aa.reset(),ft}};function ea(){vn.point=ua}function ua(ft,Rt){vn.point=Ya,Wr=pn=ft,mn=Pn=Rt}function Ya(ft,Rt){qn.add(Pn*ft-pn*Rt),pn=ft,Pn=Rt}function Ei(){Ya(Wr,mn)}var ei=1/0,gi=ei,ka=-ei,Fa=ka,so={point:function(ft,Rt){ft<ei&&(ei=ft),ft>ka&&(ka=ft),Rt<gi&&(gi=Rt),Rt>Fa&&(Fa=Rt)},lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S,result:function(){var ft=[[ei,gi],[ka,Fa]];return ka=Fa=-(gi=ei=1/0),ft}},Do,qo,Vi,Gi,Ro=0,ja=0,wo=0,lo=0,mi=0,Yi=0,co=0,xo=0,Ii=0,li={point:Hi,lineStart:gs,lineEnd:ls,polygonStart:function(){li.lineStart=Xo,li.lineEnd=_s},polygonEnd:function(){li.point=Hi,li.lineStart=gs,li.lineEnd=ls},result:function(){var ft=Ii?[co/Ii,xo/Ii]:Yi?[lo/Yi,mi/Yi]:wo?[Ro/wo,ja/wo]:[NaN,NaN];return Ro=ja=wo=lo=mi=Yi=co=xo=Ii=0,ft}};function Hi(ft,Rt){Ro+=ft,ja+=Rt,++wo}function gs(){li.point=bs}function bs(ft,Rt){li.point=Ua,Hi(Vi=ft,Gi=Rt)}function Ua(ft,Rt){var nr=ft-Vi,Ht=Rt-Gi,ir=k(nr*nr+Ht*Ht);lo+=ir*(Vi+ft)/2,mi+=ir*(Gi+Rt)/2,Yi+=ir,Hi(Vi=ft,Gi=Rt)}function ls(){li.point=Hi}function Xo(){li.point=ws}function _s(){ms(Do,qo)}function ws(ft,Rt){li.point=ms,Hi(Do=Vi=ft,qo=Gi=Rt)}function ms(ft,Rt){var nr=ft-Vi,Ht=Rt-Gi,ir=k(nr*nr+Ht*Ht);lo+=ir*(Vi+ft)/2,mi+=ir*(Gi+Rt)/2,Yi+=ir,co+=(ir=Gi*ft-Vi*Rt)*(Vi+ft),xo+=ir*(Gi+Rt),Ii+=3*ir,Hi(Vi=ft,Gi=Rt)}function Ts(ft){this._context=ft}Ts.prototype={_radius:4.5,pointRadius:function(ft){return this._radius=ft,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(ft,Rt){switch(this._point){case 0:this._context.moveTo(ft,Rt),this._point=1;break;case 1:this._context.lineTo(ft,Rt);break;default:this._context.moveTo(ft+this._radius,Rt),this._context.arc(ft,Rt,this._radius,0,c)}},result:S};var To,ko,Fo,Bo,No,Jo=b(),uo={point:S,lineStart:function(){uo.point=cs},lineEnd:function(){To&&ao(ko,Fo),uo.point=S},polygonStart:function(){To=!0},polygonEnd:function(){To=null},result:function(){var ft=+Jo;return Jo.reset(),ft}};function cs(ft,Rt){uo.point=ao,ko=Bo=ft,Fo=No=Rt}function ao(ft,Rt){Bo-=ft,No-=Rt,Jo.add(k(Bo*Bo+No*No)),Bo=ft,No=Rt}function jo(){this._string=[]}function us(ft){return"m0,"+ft+"a"+ft+","+ft+" 0 1,1 0,"+-2*ft+"a"+ft+","+ft+" 0 1,1 0,"+2*ft+"z"}function Mo(ft){return function(Rt){var nr=new Ba;for(var Ht in ft)nr[Ht]=ft[Ht];return nr.stream=Rt,nr}}function Ba(){}function Ne(ft,Rt,nr){var Ht=ft.clipExtent&&ft.clipExtent();return ft.scale(150).translate([0,0]),Ht!=null&&ft.clipExtent(null),Z(nr,ft.stream(so)),Rt(so.result()),Ht!=null&&ft.clipExtent(Ht),ft}function He(ft,Rt,nr){return Ne(ft,function(Ht){var ir=Rt[1][0]-Rt[0][0],Lr=Rt[1][1]-Rt[0][1],Dr=Math.min(ir/(Ht[1][0]-Ht[0][0]),Lr/(Ht[1][1]-Ht[0][1])),Yr=+Rt[0][0]+(ir-Dr*(Ht[1][0]+Ht[0][0]))/2,sn=+Rt[0][1]+(Lr-Dr*(Ht[1][1]+Ht[0][1]))/2;ft.scale(150*Dr).translate([Yr,sn])},nr)}function $e(ft,Rt,nr){return He(ft,[[0,0],Rt],nr)}function at(ft,Rt,nr){return Ne(ft,function(Ht){var ir=+Rt,Lr=ir/(Ht[1][0]-Ht[0][0]),Dr=(ir-Lr*(Ht[1][0]+Ht[0][0]))/2,Yr=-Lr*Ht[0][1];ft.scale(150*Lr).translate([Dr,Yr])},nr)}function mt(ft,Rt,nr){return Ne(ft,function(Ht){var ir=+Rt,Lr=ir/(Ht[1][1]-Ht[0][1]),Dr=-Lr*Ht[0][0],Yr=(ir-Lr*(Ht[1][1]+Ht[0][1]))/2;ft.scale(150*Lr).translate([Dr,Yr])},nr)}jo.prototype={_radius:4.5,_circle:us(4.5),pointRadius:function(ft){return(ft=+ft)!==this._radius&&(this._radius=ft,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(ft,Rt){switch(this._point){case 0:this._string.push("M",ft,",",Rt),this._point=1;break;case 1:this._string.push("L",ft,",",Rt);break;default:this._circle==null&&(this._circle=us(this._radius)),this._string.push("M",ft,",",Rt,this._circle)}},result:function(){if(this._string.length){var ft=this._string.join("");return this._string=[],ft}return null}},Ba.prototype={constructor:Ba,point:function(ft,Rt){this.stream.point(ft,Rt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var dt=p(30*u);function Mt(ft,Rt){return+Rt?function(nr,Ht){function ir(Lr,Dr,Yr,sn,an,gn,Tn,ln,kn,Dn,jn,$n,Zr,Jn){var Cn=Tn-Lr,Bn=ln-Dr,Xn=Cn*Cn+Bn*Bn;if(Xn>4*Ht&&Zr--){var xa=sn+Dn,Ma=an+jn,Sn=gn+$n,La=k(xa*xa+Ma*Ma+Sn*Sn),Ta=I(Sn/=La),fa=f(f(Sn)-1)<r||f(Yr-kn)<r?(Yr+kn)/2:h(Ma,xa),Ca=nr(fa,Ta),_a=Ca[0],Za=Ca[1],Kn=_a-Lr,Va=Za-Dr,zi=Bn*Kn-Cn*Va;(zi*zi/Xn>Ht||f((Cn*Kn+Bn*Va)/Xn-.5)>.3||sn*Dn+an*jn+gn*$n<dt)&&(ir(Lr,Dr,Yr,sn,an,gn,_a,Za,fa,xa/=La,Ma/=La,Sn,Zr,Jn),Jn.point(_a,Za),ir(_a,Za,fa,xa,Ma,Sn,Tn,ln,kn,Dn,jn,$n,Zr,Jn))}}return function(Lr){var Dr,Yr,sn,an,gn,Tn,ln,kn,Dn,jn,$n,Zr,Jn={point:Cn,lineStart:Bn,lineEnd:xa,polygonStart:function(){Lr.polygonStart(),Jn.lineStart=Ma},polygonEnd:function(){Lr.polygonEnd(),Jn.lineStart=Bn}};function Cn(Ta,fa){Ta=nr(Ta,fa),Lr.point(Ta[0],Ta[1])}function Bn(){kn=NaN,Jn.point=Xn,Lr.lineStart()}function Xn(Ta,fa){var Ca=se([Ta,fa]),_a=nr(Ta,fa);ir(kn,Dn,ln,jn,$n,Zr,kn=_a[0],Dn=_a[1],ln=Ta,jn=Ca[0],$n=Ca[1],Zr=Ca[2],16,Lr),Lr.point(kn,Dn)}function xa(){Jn.point=Cn,Lr.lineEnd()}function Ma(){Bn(),Jn.point=Sn,Jn.lineEnd=La}function Sn(Ta,fa){Xn(Dr=Ta,fa),Yr=kn,sn=Dn,an=jn,gn=$n,Tn=Zr,Jn.point=Xn}function La(){ir(kn,Dn,ln,jn,$n,Zr,Yr,sn,Dr,an,gn,Tn,16,Lr),Jn.lineEnd=xa,xa()}return Jn}}(ft,Rt):function(nr){return Mo({point:function(Ht,ir){Ht=nr(Ht,ir),this.stream.point(Ht[0],Ht[1])}})}(ft)}var Jt=Mo({point:function(ft,Rt){this.stream.point(ft*u,Rt*u)}});function $t(ft,Rt,nr,Ht,ir){function Lr(Dr,Yr){return[Rt+ft*(Dr*=Ht),nr-ft*(Yr*=ir)]}return Lr.invert=function(Dr,Yr){return[(Dr-Rt)/ft*Ht,(nr-Yr)/ft*ir]},Lr}function Wt(ft,Rt,nr,Ht,ir,Lr){var Dr=p(Lr),Yr=_(Lr),sn=Dr*ft,an=Yr*ft,gn=Dr/ft,Tn=Yr/ft,ln=(Yr*nr-Dr*Rt)/ft,kn=(Yr*Rt+Dr*nr)/ft;function Dn(jn,$n){return[sn*(jn*=Ht)-an*($n*=ir)+Rt,nr-an*jn-sn*$n]}return Dn.invert=function(jn,$n){return[Ht*(gn*jn-Tn*$n+ln),ir*(kn-Tn*jn-gn*$n)]},Dn}function tr(ft){return ur(function(){return ft})()}function ur(ft){var Rt,nr,Ht,ir,Lr,Dr,Yr,sn,an,gn,Tn=150,ln=480,kn=250,Dn=0,jn=0,$n=0,Zr=0,Jn=0,Cn=0,Bn=1,Xn=1,xa=null,Ma=Ir,Sn=null,La=zr,Ta=.5;function fa(Kn){return sn(Kn[0]*u,Kn[1]*u)}function Ca(Kn){return(Kn=sn.invert(Kn[0],Kn[1]))&&[Kn[0]*i,Kn[1]*i]}function _a(){var Kn=Wt(Tn,0,0,Bn,Xn,Cn).apply(null,Rt(Dn,jn)),Va=(Cn?Wt:$t)(Tn,ln-Kn[0],kn-Kn[1],Bn,Xn,Cn);return nr=or($n,Zr,Jn),Yr=Dt(Rt,Va),sn=Dt(nr,Yr),Dr=Mt(Yr,Ta),Za()}function Za(){return an=gn=null,fa}return fa.stream=function(Kn){return an&&gn===Kn?an:an=Jt(function(Va){return Mo({point:function(zi,Go){var Co=Va(zi,Go);return this.stream.point(Co[0],Co[1])}})}(nr)(Ma(Dr(La(gn=Kn)))))},fa.preclip=function(Kn){return arguments.length?(Ma=Kn,xa=void 0,Za()):Ma},fa.postclip=function(Kn){return arguments.length?(La=Kn,Sn=Ht=ir=Lr=null,Za()):La},fa.clipAngle=function(Kn){return arguments.length?(Ma=+Kn?xr(xa=Kn*u):(xa=null,Ir),Za()):xa*i},fa.clipExtent=function(Kn){return arguments.length?(La=Kn==null?(Sn=Ht=ir=Lr=null,zr):Nr(Sn=+Kn[0][0],Ht=+Kn[0][1],ir=+Kn[1][0],Lr=+Kn[1][1]),Za()):Sn==null?null:[[Sn,Ht],[ir,Lr]]},fa.scale=function(Kn){return arguments.length?(Tn=+Kn,_a()):Tn},fa.translate=function(Kn){return arguments.length?(ln=+Kn[0],kn=+Kn[1],_a()):[ln,kn]},fa.center=function(Kn){return arguments.length?(Dn=Kn[0]%360*u,jn=Kn[1]%360*u,_a()):[Dn*i,jn*i]},fa.rotate=function(Kn){return arguments.length?($n=Kn[0]%360*u,Zr=Kn[1]%360*u,Jn=Kn.length>2?Kn[2]%360*u:0,_a()):[$n*i,Zr*i,Jn*i]},fa.angle=function(Kn){return arguments.length?(Cn=Kn%360*u,_a()):Cn*i},fa.reflectX=function(Kn){return arguments.length?(Bn=Kn?-1:1,_a()):Bn<0},fa.reflectY=function(Kn){return arguments.length?(Xn=Kn?-1:1,_a()):Xn<0},fa.precision=function(Kn){return arguments.length?(Dr=Mt(Yr,Ta=Kn*Kn),Za()):k(Ta)},fa.fitExtent=function(Kn,Va){return He(fa,Kn,Va)},fa.fitSize=function(Kn,Va){return $e(fa,Kn,Va)},fa.fitWidth=function(Kn,Va){return at(fa,Kn,Va)},fa.fitHeight=function(Kn,Va){return mt(fa,Kn,Va)},function(){return Rt=ft.apply(this,arguments),fa.invert=Rt.invert&&Ca,_a()}}function mr(ft){var Rt=0,nr=o/3,Ht=ur(ft),ir=Ht(Rt,nr);return ir.parallels=function(Lr){return arguments.length?Ht(Rt=Lr[0]*u,nr=Lr[1]*u):[Rt*i,nr*i]},ir}function yr(ft,Rt){var nr=_(ft),Ht=(nr+_(Rt))/2;if(f(Ht)<r)return function(Yr){var sn=p(Yr);function an(gn,Tn){return[gn*sn,_(Tn)/sn]}return an.invert=function(gn,Tn){return[gn/sn,I(Tn*sn)]},an}(ft);var ir=1+nr*(2*Ht-nr),Lr=k(ir)/Ht;function Dr(Yr,sn){var an=k(ir-2*Ht*_(sn))/Ht;return[an*_(Yr*=Ht),Lr-an*p(Yr)]}return Dr.invert=function(Yr,sn){var an=Lr-sn,gn=h(Yr,f(an))*T(an);return an*Ht<0&&(gn-=o*T(Yr)*T(an)),[gn/Ht,I((ir-(Yr*Yr+an*an)*Ht*Ht)/(2*Ht))]},Dr}function Pr(){return mr(yr).scale(155.424).center([0,33.6442])}function nn(){return Pr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function dn(ft){return function(Rt,nr){var Ht=p(Rt),ir=p(nr),Lr=ft(Ht*ir);return[Lr*ir*_(Rt),Lr*_(nr)]}}function En(ft){return function(Rt,nr){var Ht=k(Rt*Rt+nr*nr),ir=ft(Ht),Lr=_(ir),Dr=p(ir);return[h(Rt*Lr,Ht*Dr),I(Ht&&nr*Lr/Ht)]}}var On=dn(function(ft){return k(2/(1+ft))});On.invert=En(function(ft){return 2*I(ft/2)});var Un=dn(function(ft){return(ft=A(ft))&&ft/_(ft)});function zn(ft,Rt){return[ft,l(L((t+Rt)/2))]}function ha(ft){var Rt,nr,Ht,ir=tr(ft),Lr=ir.center,Dr=ir.scale,Yr=ir.translate,sn=ir.clipExtent,an=null;function gn(){var Tn=o*Dr(),ln=ir(vr(ir.rotate()).invert([0,0]));return sn(an==null?[[ln[0]-Tn,ln[1]-Tn],[ln[0]+Tn,ln[1]+Tn]]:ft===zn?[[Math.max(ln[0]-Tn,an),Rt],[Math.min(ln[0]+Tn,nr),Ht]]:[[an,Math.max(ln[1]-Tn,Rt)],[nr,Math.min(ln[1]+Tn,Ht)]])}return ir.scale=function(Tn){return arguments.length?(Dr(Tn),gn()):Dr()},ir.translate=function(Tn){return arguments.length?(Yr(Tn),gn()):Yr()},ir.center=function(Tn){return arguments.length?(Lr(Tn),gn()):Lr()},ir.clipExtent=function(Tn){return arguments.length?(Tn==null?an=Rt=nr=Ht=null:(an=+Tn[0][0],Rt=+Tn[0][1],nr=+Tn[1][0],Ht=+Tn[1][1]),gn()):an==null?null:[[an,Rt],[nr,Ht]]},gn()}function ba(ft){return L((t+ft)/2)}function Oa(ft,Rt){var nr=p(ft),Ht=ft===Rt?_(ft):l(nr/p(Rt))/l(ba(Rt)/ba(ft)),ir=nr*w(ba(ft),Ht)/Ht;if(!Ht)return zn;function Lr(Dr,Yr){ir>0?Yr<-t+r&&(Yr=-t+r):Yr>t-r&&(Yr=t-r);var sn=ir/w(ba(Yr),Ht);return[sn*_(Ht*Dr),ir-sn*p(Ht*Dr)]}return Lr.invert=function(Dr,Yr){var sn=ir-Yr,an=T(Ht)*k(Dr*Dr+sn*sn),gn=h(Dr,f(sn))*T(sn);return sn*Ht<0&&(gn-=o*T(Dr)*T(sn)),[gn/Ht,2*s(w(ir/an,1/Ht))-t]},Lr}function Ia(ft,Rt){return[ft,Rt]}function za(ft,Rt){var nr=p(ft),Ht=ft===Rt?_(ft):(nr-p(Rt))/(Rt-ft),ir=nr/Ht+ft;if(f(Ht)<r)return Ia;function Lr(Dr,Yr){var sn=ir-Yr,an=Ht*Dr;return[sn*_(an),ir-sn*p(an)]}return Lr.invert=function(Dr,Yr){var sn=ir-Yr,an=h(Dr,f(sn))*T(sn);return sn*Ht<0&&(an-=o*T(Dr)*T(sn)),[an/Ht,ir-T(Ht)*k(Dr*Dr+sn*sn)]},Lr}Un.invert=En(function(ft){return ft}),zn.invert=function(ft,Rt){return[ft,2*s(x(Rt))-t]},Ia.invert=Ia;var vi=1.340264,pi=-.081106,ti=893e-6,ri=.003796,di=k(3)/2;function Oi(ft,Rt){var nr=I(di*_(Rt)),Ht=nr*nr,ir=Ht*Ht*Ht;return[ft*p(nr)/(di*(vi+3*pi*Ht+ir*(7*ti+9*ri*Ht))),nr*(vi+pi*Ht+ir*(ti+ri*Ht))]}function Wi(ft,Rt){var nr=p(Rt),Ht=p(ft)*nr;return[nr*_(ft)/Ht,_(Rt)/Ht]}function Zi(ft,Rt){var nr=Rt*Rt,Ht=nr*nr;return[ft*(.8707-.131979*nr+Ht*(Ht*(.003971*nr-.001529*Ht)-.013791)),Rt*(1.007226+nr*(.015085+Ht*(.028874*nr-.044475-.005916*Ht)))]}function Xi(ft,Rt){return[p(Rt)*_(ft),_(Rt)]}function Ji(ft,Rt){var nr=p(Rt),Ht=1+p(ft)*nr;return[nr*_(ft)/Ht,_(Rt)/Ht]}function Ea(ft,Rt){return[l(L((t+Rt)/2)),-ft]}Oi.invert=function(ft,Rt){for(var nr,Ht=Rt,ir=Ht*Ht,Lr=ir*ir*ir,Dr=0;Dr<12&&(Lr=(ir=(Ht-=nr=(Ht*(vi+pi*ir+Lr*(ti+ri*ir))-Rt)/(vi+3*pi*ir+Lr*(7*ti+9*ri*ir)))*Ht)*ir*ir,!(f(nr)<1e-12));++Dr);return[di*ft*(vi+3*pi*ir+Lr*(7*ti+9*ri*ir))/p(Ht),I(_(Ht)/di)]},Wi.invert=En(s),Zi.invert=function(ft,Rt){var nr,Ht=Rt,ir=25;do{var Lr=Ht*Ht,Dr=Lr*Lr;Ht-=nr=(Ht*(1.007226+Lr*(.015085+Dr*(.028874*Lr-.044475-.005916*Dr)))-Rt)/(1.007226+Lr*(.045255+Dr*(.259866*Lr-.311325-.005916*11*Dr)))}while(f(nr)>r&&--ir>0);return[ft/(.8707+(Lr=Ht*Ht)*(Lr*(Lr*Lr*Lr*(.003971-.001529*Lr)-.013791)-.131979)),Ht]},Xi.invert=En(I),Ji.invert=En(function(ft){return 2*s(ft)}),Ea.invert=function(ft,Rt){return[-Rt,2*s(x(ft))-t]},g.geoAlbers=nn,g.geoAlbersUsa=function(){var ft,Rt,nr,Ht,ir,Lr,Dr=nn(),Yr=Pr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),sn=Pr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),an={point:function(ln,kn){Lr=[ln,kn]}};function gn(ln){var kn=ln[0],Dn=ln[1];return Lr=null,nr.point(kn,Dn),Lr||(Ht.point(kn,Dn),Lr)||(ir.point(kn,Dn),Lr)}function Tn(){return ft=Rt=null,gn}return gn.invert=function(ln){var kn=Dr.scale(),Dn=Dr.translate(),jn=(ln[0]-Dn[0])/kn,$n=(ln[1]-Dn[1])/kn;return($n>=.12&&$n<.234&&jn>=-.425&&jn<-.214?Yr:$n>=.166&&$n<.234&&jn>=-.214&&jn<-.115?sn:Dr).invert(ln)},gn.stream=function(ln){return ft&&Rt===ln?ft:(kn=[Dr.stream(Rt=ln),Yr.stream(ln),sn.stream(ln)],Dn=kn.length,ft={point:function(jn,$n){for(var Zr=-1;++Zr<Dn;)kn[Zr].point(jn,$n)},sphere:function(){for(var jn=-1;++jn<Dn;)kn[jn].sphere()},lineStart:function(){for(var jn=-1;++jn<Dn;)kn[jn].lineStart()},lineEnd:function(){for(var jn=-1;++jn<Dn;)kn[jn].lineEnd()},polygonStart:function(){for(var jn=-1;++jn<Dn;)kn[jn].polygonStart()},polygonEnd:function(){for(var jn=-1;++jn<Dn;)kn[jn].polygonEnd()}});var kn,Dn},gn.precision=function(ln){return arguments.length?(Dr.precision(ln),Yr.precision(ln),sn.precision(ln),Tn()):Dr.precision()},gn.scale=function(ln){return arguments.length?(Dr.scale(ln),Yr.scale(.35*ln),sn.scale(ln),gn.translate(Dr.translate())):Dr.scale()},gn.translate=function(ln){if(!arguments.length)return Dr.translate();var kn=Dr.scale(),Dn=+ln[0],jn=+ln[1];return nr=Dr.translate(ln).clipExtent([[Dn-.455*kn,jn-.238*kn],[Dn+.455*kn,jn+.238*kn]]).stream(an),Ht=Yr.translate([Dn-.307*kn,jn+.201*kn]).clipExtent([[Dn-.425*kn+r,jn+.12*kn+r],[Dn-.214*kn-r,jn+.234*kn-r]]).stream(an),ir=sn.translate([Dn-.205*kn,jn+.212*kn]).clipExtent([[Dn-.214*kn+r,jn+.166*kn+r],[Dn-.115*kn-r,jn+.234*kn-r]]).stream(an),Tn()},gn.fitExtent=function(ln,kn){return He(gn,ln,kn)},gn.fitSize=function(ln,kn){return $e(gn,ln,kn)},gn.fitWidth=function(ln,kn){return at(gn,ln,kn)},gn.fitHeight=function(ln,kn){return mt(gn,ln,kn)},gn.scale(1070)},g.geoArea=function(ft){return U.reset(),Z(ft,Q),2*U},g.geoAzimuthalEqualArea=function(){return tr(On).scale(124.75).clipAngle(179.999)},g.geoAzimuthalEqualAreaRaw=On,g.geoAzimuthalEquidistant=function(){return tr(Un).scale(79.4188).clipAngle(179.999)},g.geoAzimuthalEquidistantRaw=Un,g.geoBounds=function(ft){var Rt,nr,Ht,ir,Lr,Dr,Yr;if(fe=Ee=-(we=be=1/0),Pe=[],Z(ft,qe),nr=Pe.length){for(Pe.sort(ht),Rt=1,Lr=[Ht=Pe[0]];Rt<nr;++Rt)ut(Ht,(ir=Pe[Rt])[0])||ut(Ht,ir[1])?(it(Ht[0],ir[1])>it(Ht[0],Ht[1])&&(Ht[1]=ir[1]),it(ir[0],Ht[1])>it(Ht[0],Ht[1])&&(Ht[0]=ir[0])):Lr.push(Ht=ir);for(Dr=-1/0,Rt=0,Ht=Lr[nr=Lr.length-1];Rt<=nr;Ht=ir,++Rt)ir=Lr[Rt],(Yr=it(Ht[1],ir[0]))>Dr&&(Dr=Yr,we=ir[0],Ee=Ht[1])}return Pe=De=null,we===1/0||be===1/0?[[NaN,NaN],[NaN,NaN]]:[[we,be],[Ee,fe]]},g.geoCentroid=function(ft){Ve=Qe=Oe=Ue=Ge=Ye=tt=lt=vt=It=St=0,Z(ft,kt);var Rt=vt,nr=It,Ht=St,ir=Rt*Rt+nr*nr+Ht*Ht;return ir<1e-12&&(Rt=Ye,nr=tt,Ht=lt,Qe<r&&(Rt=Oe,nr=Ue,Ht=Ge),(ir=Rt*Rt+nr*nr+Ht*Ht)<1e-12)?[NaN,NaN]:[h(nr,Rt)*i,I(Ht/k(ir))*i]},g.geoCircle=function(){var ft,Rt,nr=yt([0,0]),Ht=yt(90),ir=yt(6),Lr={point:function(Yr,sn){ft.push(Yr=Rt(Yr,sn)),Yr[0]*=i,Yr[1]*=i}};function Dr(){var Yr=nr.apply(this,arguments),sn=Ht.apply(this,arguments)*u,an=ir.apply(this,arguments)*u;return ft=[],Rt=or(-Yr[0]*u,-Yr[1]*u,0).invert,pr(Lr,sn,an,1),Yr={type:"Polygon",coordinates:[ft]},ft=Rt=null,Yr}return Dr.center=function(Yr){return arguments.length?(nr=typeof Yr=="function"?Yr:yt([+Yr[0],+Yr[1]]),Dr):nr},Dr.radius=function(Yr){return arguments.length?(Ht=typeof Yr=="function"?Yr:yt(+Yr),Dr):Ht},Dr.precision=function(Yr){return arguments.length?(ir=typeof Yr=="function"?Yr:yt(+Yr),Dr):ir},Dr},g.geoClipAntimeridian=Ir,g.geoClipCircle=xr,g.geoClipExtent=function(){var ft,Rt,nr,Ht=0,ir=0,Lr=960,Dr=500;return nr={stream:function(Yr){return ft&&Rt===Yr?ft:ft=Nr(Ht,ir,Lr,Dr)(Rt=Yr)},extent:function(Yr){return arguments.length?(Ht=+Yr[0][0],ir=+Yr[0][1],Lr=+Yr[1][0],Dr=+Yr[1][1],ft=Rt=null,nr):[[Ht,ir],[Lr,Dr]]}}},g.geoClipRectangle=Nr,g.geoConicConformal=function(){return mr(Oa).scale(109.5).parallels([30,30])},g.geoConicConformalRaw=Oa,g.geoConicEqualArea=Pr,g.geoConicEqualAreaRaw=yr,g.geoConicEquidistant=function(){return mr(za).scale(131.154).center([0,13.9389])},g.geoConicEquidistantRaw=za,g.geoContains=function(ft,Rt){return(ft&&Ur.hasOwnProperty(ft.type)?Ur[ft.type]:_r)(ft,Rt)},g.geoDistance=qr,g.geoEqualEarth=function(){return tr(Oi).scale(177.158)},g.geoEqualEarthRaw=Oi,g.geoEquirectangular=function(){return tr(Ia).scale(152.63)},g.geoEquirectangularRaw=Ia,g.geoGnomonic=function(){return tr(Wi).scale(144.049).clipAngle(60)},g.geoGnomonicRaw=Wi,g.geoGraticule=bn,g.geoGraticule10=function(){return bn()()},g.geoIdentity=function(){var ft,Rt,nr,Ht,ir,Lr,Dr,Yr=1,sn=0,an=0,gn=1,Tn=1,ln=0,kn=null,Dn=1,jn=1,$n=Mo({point:function(Bn,Xn){var xa=Cn([Bn,Xn]);this.stream.point(xa[0],xa[1])}}),Zr=zr;function Jn(){return Dn=Yr*gn,jn=Yr*Tn,Lr=Dr=null,Cn}function Cn(Bn){var Xn=Bn[0]*Dn,xa=Bn[1]*jn;if(ln){var Ma=xa*ft-Xn*Rt;Xn=Xn*ft+xa*Rt,xa=Ma}return[Xn+sn,xa+an]}return Cn.invert=function(Bn){var Xn=Bn[0]-sn,xa=Bn[1]-an;if(ln){var Ma=xa*ft+Xn*Rt;Xn=Xn*ft-xa*Rt,xa=Ma}return[Xn/Dn,xa/jn]},Cn.stream=function(Bn){return Lr&&Dr===Bn?Lr:Lr=$n(Zr(Dr=Bn))},Cn.postclip=function(Bn){return arguments.length?(Zr=Bn,kn=nr=Ht=ir=null,Jn()):Zr},Cn.clipExtent=function(Bn){return arguments.length?(Zr=Bn==null?(kn=nr=Ht=ir=null,zr):Nr(kn=+Bn[0][0],nr=+Bn[0][1],Ht=+Bn[1][0],ir=+Bn[1][1]),Jn()):kn==null?null:[[kn,nr],[Ht,ir]]},Cn.scale=function(Bn){return arguments.length?(Yr=+Bn,Jn()):Yr},Cn.translate=function(Bn){return arguments.length?(sn=+Bn[0],an=+Bn[1],Jn()):[sn,an]},Cn.angle=function(Bn){return arguments.length?(Rt=_(ln=Bn%360*u),ft=p(ln),Jn()):ln*i},Cn.reflectX=function(Bn){return arguments.length?(gn=Bn?-1:1,Jn()):gn<0},Cn.reflectY=function(Bn){return arguments.length?(Tn=Bn?-1:1,Jn()):Tn<0},Cn.fitExtent=function(Bn,Xn){return He(Cn,Bn,Xn)},Cn.fitSize=function(Bn,Xn){return $e(Cn,Bn,Xn)},Cn.fitWidth=function(Bn,Xn){return at(Cn,Bn,Xn)},Cn.fitHeight=function(Bn,Xn){return mt(Cn,Bn,Xn)},Cn},g.geoInterpolate=function(ft,Rt){var nr=ft[0]*u,Ht=ft[1]*u,ir=Rt[0]*u,Lr=Rt[1]*u,Dr=p(Ht),Yr=_(Ht),sn=p(Lr),an=_(Lr),gn=Dr*p(nr),Tn=Dr*_(nr),ln=sn*p(ir),kn=sn*_(ir),Dn=2*I(k(P(Lr-Ht)+Dr*sn*P(ir-nr))),jn=_(Dn),$n=Dn?function(Zr){var Jn=_(Zr*=Dn)/jn,Cn=_(Dn-Zr)/jn,Bn=Cn*gn+Jn*ln,Xn=Cn*Tn+Jn*kn,xa=Cn*Yr+Jn*an;return[h(Xn,Bn)*i,h(xa,k(Bn*Bn+Xn*Xn))*i]}:function(){return[nr*i,Ht*i]};return $n.distance=Dn,$n},g.geoLength=Yt,g.geoMercator=function(){return ha(zn).scale(961/c)},g.geoMercatorRaw=zn,g.geoNaturalEarth1=function(){return tr(Zi).scale(175.295)},g.geoNaturalEarth1Raw=Zi,g.geoOrthographic=function(){return tr(Xi).scale(249.5).clipAngle(90+r)},g.geoOrthographicRaw=Xi,g.geoPath=function(ft,Rt){var nr,Ht,ir=4.5;function Lr(Dr){return Dr&&(typeof ir=="function"&&Ht.pointRadius(+ir.apply(this,arguments)),Z(Dr,nr(Ht))),Ht.result()}return Lr.area=function(Dr){return Z(Dr,nr(vn)),vn.result()},Lr.measure=function(Dr){return Z(Dr,nr(uo)),uo.result()},Lr.bounds=function(Dr){return Z(Dr,nr(so)),so.result()},Lr.centroid=function(Dr){return Z(Dr,nr(li)),li.result()},Lr.projection=function(Dr){return arguments.length?(nr=Dr==null?(ft=null,zr):(ft=Dr).stream,Lr):ft},Lr.context=function(Dr){return arguments.length?(Ht=Dr==null?(Rt=null,new jo):new Ts(Rt=Dr),typeof ir!="function"&&Ht.pointRadius(ir),Lr):Rt},Lr.pointRadius=function(Dr){return arguments.length?(ir=typeof Dr=="function"?Dr:(Ht.pointRadius(+Dr),+Dr),Lr):ir},Lr.projection(ft).context(Rt)},g.geoProjection=tr,g.geoProjectionMutator=ur,g.geoRotation=vr,g.geoStereographic=function(){return tr(Ji).scale(250).clipAngle(142)},g.geoStereographicRaw=Ji,g.geoStream=Z,g.geoTransform=function(ft){return{stream:Mo(ft)}},g.geoTransverseMercator=function(){var ft=ha(Ea),Rt=ft.center,nr=ft.rotate;return ft.center=function(Ht){return arguments.length?Rt([-Ht[1],Ht[0]]):[(Ht=Rt())[1],-Ht[0]]},ft.rotate=function(Ht){return arguments.length?nr([Ht[0],Ht[1],Ht.length>2?Ht[2]+90:90]):[(Ht=nr())[0],Ht[1],Ht[2]-90]},nr([0,0,90]).scale(159.155)},g.geoTransverseMercatorRaw=Ea,Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-array":107}],115:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){function m(oe,pe){return oe.parent===pe.parent?1:2}function b(oe,pe){return oe+pe.x}function v(oe,pe){return Math.max(oe,pe.y)}function e(oe){var pe=0,ce=oe.children,de=ce&&ce.length;if(de)for(;--de>=0;)pe+=ce[de].value;else pe=1;oe.value=pe}function n(oe,pe){var ce,de,xe,we,be,Ee=new d(oe),fe=+oe.value&&(Ee.value=oe.value),me=[Ee];for(pe==null&&(pe=r);ce=me.pop();)if(fe&&(ce.value=+ce.data.value),(xe=pe(ce.data))&&(be=xe.length))for(ce.children=new Array(be),we=be-1;we>=0;--we)me.push(de=ce.children[we]=new d(xe[we])),de.parent=ce,de.depth=ce.depth+1;return Ee.eachBefore(t)}function r(oe){return oe.children}function o(oe){oe.data=oe.data.data}function t(oe){var pe=0;do oe.height=pe;while((oe=oe.parent)&&oe.height<++pe)}function d(oe){this.data=oe,this.depth=this.height=0,this.parent=null}d.prototype=n.prototype={constructor:d,count:function(){return this.eachAfter(e)},each:function(oe){var pe,ce,de,xe,we=this,be=[we];do for(pe=be.reverse(),be=[];we=pe.pop();)if(oe(we),ce=we.children)for(de=0,xe=ce.length;de<xe;++de)be.push(ce[de]);while(be.length);return this},eachAfter:function(oe){for(var pe,ce,de,xe=this,we=[xe],be=[];xe=we.pop();)if(be.push(xe),pe=xe.children)for(ce=0,de=pe.length;ce<de;++ce)we.push(pe[ce]);for(;xe=be.pop();)oe(xe);return this},eachBefore:function(oe){for(var pe,ce,de=this,xe=[de];de=xe.pop();)if(oe(de),pe=de.children)for(ce=pe.length-1;ce>=0;--ce)xe.push(pe[ce]);return this},sum:function(oe){return this.eachAfter(function(pe){for(var ce=+oe(pe.data)||0,de=pe.children,xe=de&&de.length;--xe>=0;)ce+=de[xe].value;pe.value=ce})},sort:function(oe){return this.eachBefore(function(pe){pe.children&&pe.children.sort(oe)})},path:function(oe){for(var pe=this,ce=function(we,be){if(we===be)return we;var Ee=we.ancestors(),fe=be.ancestors(),me=null;for(we=Ee.pop(),be=fe.pop();we===be;)me=we,we=Ee.pop(),be=fe.pop();return me}(pe,oe),de=[pe];pe!==ce;)pe=pe.parent,de.push(pe);for(var xe=de.length;oe!==ce;)de.splice(xe,0,oe),oe=oe.parent;return de},ancestors:function(){for(var oe=this,pe=[oe];oe=oe.parent;)pe.push(oe);return pe},descendants:function(){var oe=[];return this.each(function(pe){oe.push(pe)}),oe},leaves:function(){var oe=[];return this.eachBefore(function(pe){pe.children||oe.push(pe)}),oe},links:function(){var oe=this,pe=[];return oe.each(function(ce){ce!==oe&&pe.push({source:ce.parent,target:ce})}),pe},copy:function(){return n(this).eachBefore(o)}};var c=Array.prototype.slice;function i(oe){for(var pe,ce,de=0,xe=(oe=function(be){for(var Ee,fe,me=be.length;me;)fe=Math.random()*me--|0,Ee=be[me],be[me]=be[fe],be[fe]=Ee;return be}(c.call(oe))).length,we=[];de<xe;)pe=oe[de],ce&&s(ce,pe)?++de:(ce=p(we=u(we,pe)),de=0);return ce}function u(oe,pe){var ce,de;if(h(pe,oe))return[pe];for(ce=0;ce<oe.length;++ce)if(f(pe,oe[ce])&&h(a(oe[ce],pe),oe))return[oe[ce],pe];for(ce=0;ce<oe.length-1;++ce)for(de=ce+1;de<oe.length;++de)if(f(a(oe[ce],oe[de]),pe)&&f(a(oe[ce],pe),oe[de])&&f(a(oe[de],pe),oe[ce])&&h(x(oe[ce],oe[de],pe),oe))return[oe[ce],oe[de],pe];throw new Error}function f(oe,pe){var ce=oe.r-pe.r,de=pe.x-oe.x,xe=pe.y-oe.y;return ce<0||ce*ce<de*de+xe*xe}function s(oe,pe){var ce=oe.r-pe.r+1e-6,de=pe.x-oe.x,xe=pe.y-oe.y;return ce>0&&ce*ce>de*de+xe*xe}function h(oe,pe){for(var ce=0;ce<pe.length;++ce)if(!s(oe,pe[ce]))return!1;return!0}function p(oe){switch(oe.length){case 1:return{x:(pe=oe[0]).x,y:pe.y,r:pe.r};case 2:return a(oe[0],oe[1]);case 3:return x(oe[0],oe[1],oe[2])}var pe}function a(oe,pe){var ce=oe.x,de=oe.y,xe=oe.r,we=pe.x,be=pe.y,Ee=pe.r,fe=we-ce,me=be-de,Te=Ee-xe,_e=Math.sqrt(fe*fe+me*me);return{x:(ce+we+fe/_e*Te)/2,y:(de+be+me/_e*Te)/2,r:(_e+xe+Ee)/2}}function x(oe,pe,ce){var de=oe.x,xe=oe.y,we=oe.r,be=pe.x,Ee=pe.y,fe=pe.r,me=ce.x,Te=ce.y,_e=ce.r,Ae=de-be,Pe=de-me,De=xe-Ee,Ve=xe-Te,Qe=fe-we,Oe=_e-we,Ue=de*de+xe*xe-we*we,Ge=Ue-be*be-Ee*Ee+fe*fe,Ye=Ue-me*me-Te*Te+_e*_e,tt=Pe*De-Ae*Ve,lt=(De*Ye-Ve*Ge)/(2*tt)-de,vt=(Ve*Qe-De*Oe)/tt,It=(Pe*Ge-Ae*Ye)/(2*tt)-xe,St=(Ae*Oe-Pe*Qe)/tt,rt=vt*vt+St*St-1,et=2*(we+lt*vt+It*St),Tt=lt*lt+It*It-we*we,Vt=-(rt?(et+Math.sqrt(et*et-4*rt*Tt))/(2*rt):Tt/et);return{x:de+lt+vt*Vt,y:xe+It+St*Vt,r:Vt}}function l(oe,pe,ce){var de,xe,we,be,Ee=oe.x-pe.x,fe=oe.y-pe.y,me=Ee*Ee+fe*fe;me?(xe=pe.r+ce.r,xe*=xe,be=oe.r+ce.r,xe>(be*=be)?(de=(me+be-xe)/(2*me),we=Math.sqrt(Math.max(0,be/me-de*de)),ce.x=oe.x-de*Ee-we*fe,ce.y=oe.y-de*fe+we*Ee):(de=(me+xe-be)/(2*me),we=Math.sqrt(Math.max(0,xe/me-de*de)),ce.x=pe.x+de*Ee-we*fe,ce.y=pe.y+de*fe+we*Ee)):(ce.x=pe.x+ce.r,ce.y=pe.y)}function w(oe,pe){var ce=oe.r+pe.r-1e-6,de=pe.x-oe.x,xe=pe.y-oe.y;return ce>0&&ce*ce>de*de+xe*xe}function _(oe){var pe=oe._,ce=oe.next._,de=pe.r+ce.r,xe=(pe.x*ce.r+ce.x*pe.r)/de,we=(pe.y*ce.r+ce.y*pe.r)/de;return xe*xe+we*we}function T(oe){this._=oe,this.next=null,this.previous=null}function k(oe){if(!(xe=oe.length))return 0;var pe,ce,de,xe,we,be,Ee,fe,me,Te,_e;if((pe=oe[0]).x=0,pe.y=0,!(xe>1))return pe.r;if(ce=oe[1],pe.x=-ce.r,ce.x=pe.r,ce.y=0,!(xe>2))return pe.r+ce.r;l(ce,pe,de=oe[2]),pe=new T(pe),ce=new T(ce),de=new T(de),pe.next=de.previous=ce,ce.next=pe.previous=de,de.next=ce.previous=pe;e:for(Ee=3;Ee<xe;++Ee){l(pe._,ce._,de=oe[Ee]),de=new T(de),fe=ce.next,me=pe.previous,Te=ce._.r,_e=pe._.r;do if(Te<=_e){if(w(fe._,de._)){ce=fe,pe.next=ce,ce.previous=pe,--Ee;continue e}Te+=fe._.r,fe=fe.next}else{if(w(me._,de._)){(pe=me).next=ce,ce.previous=pe,--Ee;continue e}_e+=me._.r,me=me.previous}while(fe!==me.next);for(de.previous=pe,de.next=ce,pe.next=ce.previous=ce=de,we=_(pe);(de=de.next)!==ce;)(be=_(de))<we&&(pe=de,we=be);ce=pe.next}for(pe=[ce._],de=ce;(de=de.next)!==ce;)pe.push(de._);for(de=i(pe),Ee=0;Ee<xe;++Ee)(pe=oe[Ee]).x-=de.x,pe.y-=de.y;return de.r}function L(oe){return oe==null?null:A(oe)}function A(oe){if(typeof oe!="function")throw new Error;return oe}function I(){return 0}function P(oe){return function(){return oe}}function S(oe){return Math.sqrt(oe.value)}function E(oe){return function(pe){pe.children||(pe.r=Math.max(0,+oe(pe)||0))}}function D(oe,pe){return function(ce){if(de=ce.children){var de,xe,we,be=de.length,Ee=oe(ce)*pe||0;if(Ee)for(xe=0;xe<be;++xe)de[xe].r+=Ee;if(we=k(de),Ee)for(xe=0;xe<be;++xe)de[xe].r-=Ee;ce.r=we+Ee}}}function F(oe){return function(pe){var ce=pe.parent;pe.r*=oe,ce&&(pe.x=ce.x+oe*pe.x,pe.y=ce.y+oe*pe.y)}}function H(oe){oe.x0=Math.round(oe.x0),oe.y0=Math.round(oe.y0),oe.x1=Math.round(oe.x1),oe.y1=Math.round(oe.y1)}function V(oe,pe,ce,de,xe){for(var we,be=oe.children,Ee=-1,fe=be.length,me=oe.value&&(de-pe)/oe.value;++Ee<fe;)(we=be[Ee]).y0=ce,we.y1=xe,we.x0=pe,we.x1=pe+=we.value*me}var Z={depth:-1},K={};function q(oe){return oe.id}function W(oe){return oe.parentId}function $(oe,pe){return oe.parent===pe.parent?1:2}function R(oe){var pe=oe.children;return pe?pe[0]:oe.t}function N(oe){var pe=oe.children;return pe?pe[pe.length-1]:oe.t}function U(oe,pe,ce){var de=ce/(pe.i-oe.i);pe.c-=de,pe.s+=ce,oe.c+=de,pe.z+=ce,pe.m+=ce}function Q(oe,pe,ce){return oe.a.parent===pe.parent?oe.a:ce}function j(oe,pe){this._=oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=pe}function X(oe,pe,ce,de,xe){for(var we,be=oe.children,Ee=-1,fe=be.length,me=oe.value&&(xe-ce)/oe.value;++Ee<fe;)(we=be[Ee]).x0=pe,we.x1=de,we.y0=ce,we.y1=ce+=we.value*me}j.prototype=Object.create(d.prototype);var J=(1+Math.sqrt(5))/2;function re(oe,pe,ce,de,xe,we){for(var be,Ee,fe,me,Te,_e,Ae,Pe,De,Ve,Qe,Oe=[],Ue=pe.children,Ge=0,Ye=0,tt=Ue.length,lt=pe.value;Ge<tt;){fe=xe-ce,me=we-de;do Te=Ue[Ye++].value;while(!Te&&Ye<tt);for(_e=Ae=Te,Qe=Te*Te*(Ve=Math.max(me/fe,fe/me)/(lt*oe)),De=Math.max(Ae/Qe,Qe/_e);Ye<tt;++Ye){if(Te+=Ee=Ue[Ye].value,Ee<_e&&(_e=Ee),Ee>Ae&&(Ae=Ee),Qe=Te*Te*Ve,(Pe=Math.max(Ae/Qe,Qe/_e))>De){Te-=Ee;break}De=Pe}Oe.push(be={value:Te,dice:fe<me,children:Ue.slice(Ge,Ye)}),be.dice?V(be,ce,de,xe,lt?de+=me*Te/lt:we):X(be,ce,de,lt?ce+=fe*Te/lt:xe,we),lt-=Te,Ge=Ye}return Oe}var ne=function oe(pe){function ce(de,xe,we,be,Ee){re(pe,de,xe,we,be,Ee)}return ce.ratio=function(de){return oe((de=+de)>1?de:1)},ce}(J),se=function oe(pe){function ce(de,xe,we,be,Ee){if((fe=de._squarify)&&fe.ratio===pe)for(var fe,me,Te,_e,Ae,Pe=-1,De=fe.length,Ve=de.value;++Pe<De;){for(Te=(me=fe[Pe]).children,_e=me.value=0,Ae=Te.length;_e<Ae;++_e)me.value+=Te[_e].value;me.dice?V(me,xe,we,be,we+=(Ee-we)*me.value/Ve):X(me,xe,we,xe+=(be-xe)*me.value/Ve,Ee),Ve-=me.value}else de._squarify=fe=re(pe,de,xe,we,be,Ee),fe.ratio=pe}return ce.ratio=function(de){return oe((de=+de)>1?de:1)},ce}(J);g.cluster=function(){var oe=m,pe=1,ce=1,de=!1;function xe(we){var be,Ee=0;we.eachAfter(function(Ae){var Pe=Ae.children;Pe?(Ae.x=function(De){return De.reduce(b,0)/De.length}(Pe),Ae.y=function(De){return 1+De.reduce(v,0)}(Pe)):(Ae.x=be?Ee+=oe(Ae,be):0,Ae.y=0,be=Ae)});var fe=function(Ae){for(var Pe;Pe=Ae.children;)Ae=Pe[0];return Ae}(we),me=function(Ae){for(var Pe;Pe=Ae.children;)Ae=Pe[Pe.length-1];return Ae}(we),Te=fe.x-oe(fe,me)/2,_e=me.x+oe(me,fe)/2;return we.eachAfter(de?function(Ae){Ae.x=(Ae.x-we.x)*pe,Ae.y=(we.y-Ae.y)*ce}:function(Ae){Ae.x=(Ae.x-Te)/(_e-Te)*pe,Ae.y=(1-(we.y?Ae.y/we.y:1))*ce})}return xe.separation=function(we){return arguments.length?(oe=we,xe):oe},xe.size=function(we){return arguments.length?(de=!1,pe=+we[0],ce=+we[1],xe):de?null:[pe,ce]},xe.nodeSize=function(we){return arguments.length?(de=!0,pe=+we[0],ce=+we[1],xe):de?[pe,ce]:null},xe},g.hierarchy=n,g.pack=function(){var oe=null,pe=1,ce=1,de=I;function xe(we){return we.x=pe/2,we.y=ce/2,oe?we.eachBefore(E(oe)).eachAfter(D(de,.5)).eachBefore(F(1)):we.eachBefore(E(S)).eachAfter(D(I,1)).eachAfter(D(de,we.r/Math.min(pe,ce))).eachBefore(F(Math.min(pe,ce)/(2*we.r))),we}return xe.radius=function(we){return arguments.length?(oe=L(we),xe):oe},xe.size=function(we){return arguments.length?(pe=+we[0],ce=+we[1],xe):[pe,ce]},xe.padding=function(we){return arguments.length?(de=typeof we=="function"?we:P(+we),xe):de},xe},g.packEnclose=i,g.packSiblings=function(oe){return k(oe),oe},g.partition=function(){var oe=1,pe=1,ce=0,de=!1;function xe(we){var be=we.height+1;return we.x0=we.y0=ce,we.x1=oe,we.y1=pe/be,we.eachBefore(function(Ee,fe){return function(me){me.children&&V(me,me.x0,Ee*(me.depth+1)/fe,me.x1,Ee*(me.depth+2)/fe);var Te=me.x0,_e=me.y0,Ae=me.x1-ce,Pe=me.y1-ce;Ae<Te&&(Te=Ae=(Te+Ae)/2),Pe<_e&&(_e=Pe=(_e+Pe)/2),me.x0=Te,me.y0=_e,me.x1=Ae,me.y1=Pe}}(pe,be)),de&&we.eachBefore(H),we}return xe.round=function(we){return arguments.length?(de=!!we,xe):de},xe.size=function(we){return arguments.length?(oe=+we[0],pe=+we[1],xe):[oe,pe]},xe.padding=function(we){return arguments.length?(ce=+we,xe):ce},xe},g.stratify=function(){var oe=q,pe=W;function ce(de){var xe,we,be,Ee,fe,me,Te,_e=de.length,Ae=new Array(_e),Pe={};for(we=0;we<_e;++we)xe=de[we],fe=Ae[we]=new d(xe),(me=oe(xe,we,de))!=null&&(me+="")&&(Pe[Te="$"+(fe.id=me)]=Te in Pe?K:fe);for(we=0;we<_e;++we)if(fe=Ae[we],(me=pe(de[we],we,de))!=null&&(me+="")){if(!(Ee=Pe["$"+me]))throw new Error("missing: "+me);if(Ee===K)throw new Error("ambiguous: "+me);Ee.children?Ee.children.push(fe):Ee.children=[fe],fe.parent=Ee}else{if(be)throw new Error("multiple roots");be=fe}if(!be)throw new Error("no root");if(be.parent=Z,be.eachBefore(function(De){De.depth=De.parent.depth+1,--_e}).eachBefore(t),be.parent=null,_e>0)throw new Error("cycle");return be}return ce.id=function(de){return arguments.length?(oe=A(de),ce):oe},ce.parentId=function(de){return arguments.length?(pe=A(de),ce):pe},ce},g.tree=function(){var oe=$,pe=1,ce=1,de=null;function xe(fe){var me=function(Oe){for(var Ue,Ge,Ye,tt,lt,vt=new j(Oe,0),It=[vt];Ue=It.pop();)if(Ye=Ue._.children)for(Ue.children=new Array(lt=Ye.length),tt=lt-1;tt>=0;--tt)It.push(Ge=Ue.children[tt]=new j(Ye[tt],tt)),Ge.parent=Ue;return(vt.parent=new j(null,0)).children=[vt],vt}(fe);if(me.eachAfter(we),me.parent.m=-me.z,me.eachBefore(be),de)fe.eachBefore(Ee);else{var Te=fe,_e=fe,Ae=fe;fe.eachBefore(function(Oe){Oe.x<Te.x&&(Te=Oe),Oe.x>_e.x&&(_e=Oe),Oe.depth>Ae.depth&&(Ae=Oe)});var Pe=Te===_e?1:oe(Te,_e)/2,De=Pe-Te.x,Ve=pe/(_e.x+Pe+De),Qe=ce/(Ae.depth||1);fe.eachBefore(function(Oe){Oe.x=(Oe.x+De)*Ve,Oe.y=Oe.depth*Qe})}return fe}function we(fe){var me=fe.children,Te=fe.parent.children,_e=fe.i?Te[fe.i-1]:null;if(me){(function(Pe){for(var De,Ve=0,Qe=0,Oe=Pe.children,Ue=Oe.length;--Ue>=0;)(De=Oe[Ue]).z+=Ve,De.m+=Ve,Ve+=De.s+(Qe+=De.c)})(fe);var Ae=(me[0].z+me[me.length-1].z)/2;_e?(fe.z=_e.z+oe(fe._,_e._),fe.m=fe.z-Ae):fe.z=Ae}else _e&&(fe.z=_e.z+oe(fe._,_e._));fe.parent.A=function(Pe,De,Ve){if(De){for(var Qe,Oe=Pe,Ue=Pe,Ge=De,Ye=Oe.parent.children[0],tt=Oe.m,lt=Ue.m,vt=Ge.m,It=Ye.m;Ge=N(Ge),Oe=R(Oe),Ge&&Oe;)Ye=R(Ye),(Ue=N(Ue)).a=Pe,(Qe=Ge.z+vt-Oe.z-tt+oe(Ge._,Oe._))>0&&(U(Q(Ge,Pe,Ve),Pe,Qe),tt+=Qe,lt+=Qe),vt+=Ge.m,tt+=Oe.m,It+=Ye.m,lt+=Ue.m;Ge&&!N(Ue)&&(Ue.t=Ge,Ue.m+=vt-lt),Oe&&!R(Ye)&&(Ye.t=Oe,Ye.m+=tt-It,Ve=Pe)}return Ve}(fe,_e,fe.parent.A||Te[0])}function be(fe){fe._.x=fe.z+fe.parent.m,fe.m+=fe.parent.m}function Ee(fe){fe.x*=pe,fe.y=fe.depth*ce}return xe.separation=function(fe){return arguments.length?(oe=fe,xe):oe},xe.size=function(fe){return arguments.length?(de=!1,pe=+fe[0],ce=+fe[1],xe):de?null:[pe,ce]},xe.nodeSize=function(fe){return arguments.length?(de=!0,pe=+fe[0],ce=+fe[1],xe):de?[pe,ce]:null},xe},g.treemap=function(){var oe=ne,pe=!1,ce=1,de=1,xe=[0],we=I,be=I,Ee=I,fe=I,me=I;function Te(Ae){return Ae.x0=Ae.y0=0,Ae.x1=ce,Ae.y1=de,Ae.eachBefore(_e),xe=[0],pe&&Ae.eachBefore(H),Ae}function _e(Ae){var Pe=xe[Ae.depth],De=Ae.x0+Pe,Ve=Ae.y0+Pe,Qe=Ae.x1-Pe,Oe=Ae.y1-Pe;Qe<De&&(De=Qe=(De+Qe)/2),Oe<Ve&&(Ve=Oe=(Ve+Oe)/2),Ae.x0=De,Ae.y0=Ve,Ae.x1=Qe,Ae.y1=Oe,Ae.children&&(Pe=xe[Ae.depth+1]=we(Ae)/2,De+=me(Ae)-Pe,Ve+=be(Ae)-Pe,(Qe-=Ee(Ae)-Pe)<De&&(De=Qe=(De+Qe)/2),(Oe-=fe(Ae)-Pe)<Ve&&(Ve=Oe=(Ve+Oe)/2),oe(Ae,De,Ve,Qe,Oe))}return Te.round=function(Ae){return arguments.length?(pe=!!Ae,Te):pe},Te.size=function(Ae){return arguments.length?(ce=+Ae[0],de=+Ae[1],Te):[ce,de]},Te.tile=function(Ae){return arguments.length?(oe=A(Ae),Te):oe},Te.padding=function(Ae){return arguments.length?Te.paddingInner(Ae).paddingOuter(Ae):Te.paddingInner()},Te.paddingInner=function(Ae){return arguments.length?(we=typeof Ae=="function"?Ae:P(+Ae),Te):we},Te.paddingOuter=function(Ae){return arguments.length?Te.paddingTop(Ae).paddingRight(Ae).paddingBottom(Ae).paddingLeft(Ae):Te.paddingTop()},Te.paddingTop=function(Ae){return arguments.length?(be=typeof Ae=="function"?Ae:P(+Ae),Te):be},Te.paddingRight=function(Ae){return arguments.length?(Ee=typeof Ae=="function"?Ae:P(+Ae),Te):Ee},Te.paddingBottom=function(Ae){return arguments.length?(fe=typeof Ae=="function"?Ae:P(+Ae),Te):fe},Te.paddingLeft=function(Ae){return arguments.length?(me=typeof Ae=="function"?Ae:P(+Ae),Te):me},Te},g.treemapBinary=function(oe,pe,ce,de,xe){var we,be,Ee=oe.children,fe=Ee.length,me=new Array(fe+1);for(me[0]=be=we=0;we<fe;++we)me[we+1]=be+=Ee[we].value;(function Te(_e,Ae,Pe,De,Ve,Qe,Oe){if(_e>=Ae-1){var Ue=Ee[_e];return Ue.x0=De,Ue.y0=Ve,Ue.x1=Qe,void(Ue.y1=Oe)}for(var Ge=me[_e],Ye=Pe/2+Ge,tt=_e+1,lt=Ae-1;tt<lt;){var vt=tt+lt>>>1;me[vt]<Ye?tt=vt+1:lt=vt}Ye-me[tt-1]<me[tt]-Ye&&_e+1<tt&&--tt;var It=me[tt]-Ge,St=Pe-It;if(Qe-De>Oe-Ve){var rt=(De*St+Qe*It)/Pe;Te(_e,tt,It,De,Ve,rt,Oe),Te(tt,Ae,St,rt,Ve,Qe,Oe)}else{var et=(Ve*St+Oe*It)/Pe;Te(_e,tt,It,De,Ve,Qe,et),Te(tt,Ae,St,De,et,Qe,Oe)}})(0,fe,oe.value,pe,ce,de,xe)},g.treemapDice=V,g.treemapResquarify=se,g.treemapSlice=X,g.treemapSliceDice=function(oe,pe,ce,de,xe){(1&oe.depth?X:V)(oe,pe,ce,de,xe)},g.treemapSquarify=ne,Object.defineProperty(g,"__esModule",{value:!0})})},{}],116:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-color")):m((g=g||self).d3=g.d3||{},g.d3)})(this,function(g,m){function b(J,re,ne,se,oe){var pe=J*J,ce=pe*J;return((1-3*J+3*pe-ce)*re+(4-6*pe+3*ce)*ne+(1+3*J+3*pe-3*ce)*se+ce*oe)/6}function v(J){var re=J.length-1;return function(ne){var se=ne<=0?ne=0:ne>=1?(ne=1,re-1):Math.floor(ne*re),oe=J[se],pe=J[se+1],ce=se>0?J[se-1]:2*oe-pe,de=se<re-1?J[se+2]:2*pe-oe;return b((ne-se/re)*re,ce,oe,pe,de)}}function e(J){var re=J.length;return function(ne){var se=Math.floor(((ne%=1)<0?++ne:ne)*re),oe=J[(se+re-1)%re],pe=J[se%re],ce=J[(se+1)%re],de=J[(se+2)%re];return b((ne-se/re)*re,oe,pe,ce,de)}}function n(J){return function(){return J}}function r(J,re){return function(ne){return J+ne*re}}function o(J,re){var ne=re-J;return ne?r(J,ne>180||ne<-180?ne-360*Math.round(ne/360):ne):n(isNaN(J)?re:J)}function t(J){return(J=+J)==1?d:function(re,ne){return ne-re?function(se,oe,pe){return se=Math.pow(se,pe),oe=Math.pow(oe,pe)-se,pe=1/pe,function(ce){return Math.pow(se+ce*oe,pe)}}(re,ne,J):n(isNaN(re)?ne:re)}}function d(J,re){var ne=re-J;return ne?r(J,ne):n(isNaN(J)?re:J)}var c=function J(re){var ne=t(re);function se(oe,pe){var ce=ne((oe=m.rgb(oe)).r,(pe=m.rgb(pe)).r),de=ne(oe.g,pe.g),xe=ne(oe.b,pe.b),we=d(oe.opacity,pe.opacity);return function(be){return oe.r=ce(be),oe.g=de(be),oe.b=xe(be),oe.opacity=we(be),oe+""}}return se.gamma=J,se}(1);function i(J){return function(re){var ne,se,oe=re.length,pe=new Array(oe),ce=new Array(oe),de=new Array(oe);for(ne=0;ne<oe;++ne)se=m.rgb(re[ne]),pe[ne]=se.r||0,ce[ne]=se.g||0,de[ne]=se.b||0;return pe=J(pe),ce=J(ce),de=J(de),se.opacity=1,function(xe){return se.r=pe(xe),se.g=ce(xe),se.b=de(xe),se+""}}}var u=i(v),f=i(e);function s(J,re){re||(re=[]);var ne,se=J?Math.min(re.length,J.length):0,oe=re.slice();return function(pe){for(ne=0;ne<se;++ne)oe[ne]=J[ne]*(1-pe)+re[ne]*pe;return oe}}function h(J){return ArrayBuffer.isView(J)&&!(J instanceof DataView)}function p(J,re){var ne,se=re?re.length:0,oe=J?Math.min(se,J.length):0,pe=new Array(oe),ce=new Array(se);for(ne=0;ne<oe;++ne)pe[ne]=k(J[ne],re[ne]);for(;ne<se;++ne)ce[ne]=re[ne];return function(de){for(ne=0;ne<oe;++ne)ce[ne]=pe[ne](de);return ce}}function a(J,re){var ne=new Date;return J=+J,re=+re,function(se){return ne.setTime(J*(1-se)+re*se),ne}}function x(J,re){return J=+J,re=+re,function(ne){return J*(1-ne)+re*ne}}function l(J,re){var ne,se={},oe={};for(ne in J!==null&&typeof J=="object"||(J={}),re!==null&&typeof re=="object"||(re={}),re)ne in J?se[ne]=k(J[ne],re[ne]):oe[ne]=re[ne];return function(pe){for(ne in se)oe[ne]=se[ne](pe);return oe}}var w=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_=new RegExp(w.source,"g");function T(J,re){var ne,se,oe,pe=w.lastIndex=_.lastIndex=0,ce=-1,de=[],xe=[];for(J+="",re+="";(ne=w.exec(J))&&(se=_.exec(re));)(oe=se.index)>pe&&(oe=re.slice(pe,oe),de[ce]?de[ce]+=oe:de[++ce]=oe),(ne=ne[0])===(se=se[0])?de[ce]?de[ce]+=se:de[++ce]=se:(de[++ce]=null,xe.push({i:ce,x:x(ne,se)})),pe=_.lastIndex;return pe<re.length&&(oe=re.slice(pe),de[ce]?de[ce]+=oe:de[++ce]=oe),de.length<2?xe[0]?function(we){return function(be){return we(be)+""}}(xe[0].x):function(we){return function(){return we}}(re):(re=xe.length,function(we){for(var be,Ee=0;Ee<re;++Ee)de[(be=xe[Ee]).i]=be.x(we);return de.join("")})}function k(J,re){var ne,se=typeof re;return re==null||se==="boolean"?n(re):(se==="number"?x:se==="string"?(ne=m.color(re))?(re=ne,c):T:re instanceof m.color?c:re instanceof Date?a:h(re)?s:Array.isArray(re)?p:typeof re.valueOf!="function"&&typeof re.toString!="function"||isNaN(re)?l:x)(J,re)}var L,A,I,P,S=180/Math.PI,E={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function D(J,re,ne,se,oe,pe){var ce,de,xe;return(ce=Math.sqrt(J*J+re*re))&&(J/=ce,re/=ce),(xe=J*ne+re*se)&&(ne-=J*xe,se-=re*xe),(de=Math.sqrt(ne*ne+se*se))&&(ne/=de,se/=de,xe/=de),J*se<re*ne&&(J=-J,re=-re,xe=-xe,ce=-ce),{translateX:oe,translateY:pe,rotate:Math.atan2(re,J)*S,skewX:Math.atan(xe)*S,scaleX:ce,scaleY:de}}function F(J,re,ne,se){function oe(pe){return pe.length?pe.pop()+" ":""}return function(pe,ce){var de=[],xe=[];return pe=J(pe),ce=J(ce),function(we,be,Ee,fe,me,Te){if(we!==Ee||be!==fe){var _e=me.push("translate(",null,re,null,ne);Te.push({i:_e-4,x:x(we,Ee)},{i:_e-2,x:x(be,fe)})}else(Ee||fe)&&me.push("translate("+Ee+re+fe+ne)}(pe.translateX,pe.translateY,ce.translateX,ce.translateY,de,xe),function(we,be,Ee,fe){we!==be?(we-be>180?be+=360:be-we>180&&(we+=360),fe.push({i:Ee.push(oe(Ee)+"rotate(",null,se)-2,x:x(we,be)})):be&&Ee.push(oe(Ee)+"rotate("+be+se)}(pe.rotate,ce.rotate,de,xe),function(we,be,Ee,fe){we!==be?fe.push({i:Ee.push(oe(Ee)+"skewX(",null,se)-2,x:x(we,be)}):be&&Ee.push(oe(Ee)+"skewX("+be+se)}(pe.skewX,ce.skewX,de,xe),function(we,be,Ee,fe,me,Te){if(we!==Ee||be!==fe){var _e=me.push(oe(me)+"scale(",null,",",null,")");Te.push({i:_e-4,x:x(we,Ee)},{i:_e-2,x:x(be,fe)})}else Ee===1&&fe===1||me.push(oe(me)+"scale("+Ee+","+fe+")")}(pe.scaleX,pe.scaleY,ce.scaleX,ce.scaleY,de,xe),pe=ce=null,function(we){for(var be,Ee=-1,fe=xe.length;++Ee<fe;)de[(be=xe[Ee]).i]=be.x(we);return de.join("")}}}var H=F(function(J){return J==="none"?E:(L||(L=document.createElement("DIV"),A=document.documentElement,I=document.defaultView),L.style.transform=J,J=I.getComputedStyle(A.appendChild(L),null).getPropertyValue("transform"),A.removeChild(L),D(+(J=J.slice(7,-1).split(","))[0],+J[1],+J[2],+J[3],+J[4],+J[5]))},"px, ","px)","deg)"),V=F(function(J){return J==null?E:(P||(P=document.createElementNS("http://www.w3.org/2000/svg","g")),P.setAttribute("transform",J),(J=P.transform.baseVal.consolidate())?D((J=J.matrix).a,J.b,J.c,J.d,J.e,J.f):E)},", ",")",")"),Z=Math.SQRT2;function K(J){return((J=Math.exp(J))+1/J)/2}function q(J){return function(re,ne){var se=J((re=m.hsl(re)).h,(ne=m.hsl(ne)).h),oe=d(re.s,ne.s),pe=d(re.l,ne.l),ce=d(re.opacity,ne.opacity);return function(de){return re.h=se(de),re.s=oe(de),re.l=pe(de),re.opacity=ce(de),re+""}}}var W=q(o),$=q(d);function R(J){return function(re,ne){var se=J((re=m.hcl(re)).h,(ne=m.hcl(ne)).h),oe=d(re.c,ne.c),pe=d(re.l,ne.l),ce=d(re.opacity,ne.opacity);return function(de){return re.h=se(de),re.c=oe(de),re.l=pe(de),re.opacity=ce(de),re+""}}}var N=R(o),U=R(d);function Q(J){return function re(ne){function se(oe,pe){var ce=J((oe=m.cubehelix(oe)).h,(pe=m.cubehelix(pe)).h),de=d(oe.s,pe.s),xe=d(oe.l,pe.l),we=d(oe.opacity,pe.opacity);return function(be){return oe.h=ce(be),oe.s=de(be),oe.l=xe(Math.pow(be,ne)),oe.opacity=we(be),oe+""}}return ne=+ne,se.gamma=re,se}(1)}var j=Q(o),X=Q(d);g.interpolate=k,g.interpolateArray=function(J,re){return(h(re)?s:p)(J,re)},g.interpolateBasis=v,g.interpolateBasisClosed=e,g.interpolateCubehelix=j,g.interpolateCubehelixLong=X,g.interpolateDate=a,g.interpolateDiscrete=function(J){var re=J.length;return function(ne){return J[Math.max(0,Math.min(re-1,Math.floor(ne*re)))]}},g.interpolateHcl=N,g.interpolateHclLong=U,g.interpolateHsl=W,g.interpolateHslLong=$,g.interpolateHue=function(J,re){var ne=o(+J,+re);return function(se){var oe=ne(se);return oe-360*Math.floor(oe/360)}},g.interpolateLab=function(J,re){var ne=d((J=m.lab(J)).l,(re=m.lab(re)).l),se=d(J.a,re.a),oe=d(J.b,re.b),pe=d(J.opacity,re.opacity);return function(ce){return J.l=ne(ce),J.a=se(ce),J.b=oe(ce),J.opacity=pe(ce),J+""}},g.interpolateNumber=x,g.interpolateNumberArray=s,g.interpolateObject=l,g.interpolateRgb=c,g.interpolateRgbBasis=u,g.interpolateRgbBasisClosed=f,g.interpolateRound=function(J,re){return J=+J,re=+re,function(ne){return Math.round(J*(1-ne)+re*ne)}},g.interpolateString=T,g.interpolateTransformCss=H,g.interpolateTransformSvg=V,g.interpolateZoom=function(J,re){var ne,se,oe=J[0],pe=J[1],ce=J[2],de=re[0],xe=re[1],we=re[2],be=de-oe,Ee=xe-pe,fe=be*be+Ee*Ee;if(fe<1e-12)se=Math.log(we/ce)/Z,ne=function(De){return[oe+De*be,pe+De*Ee,ce*Math.exp(Z*De*se)]};else{var me=Math.sqrt(fe),Te=(we*we-ce*ce+4*fe)/(2*ce*2*me),_e=(we*we-ce*ce-4*fe)/(2*we*2*me),Ae=Math.log(Math.sqrt(Te*Te+1)-Te),Pe=Math.log(Math.sqrt(_e*_e+1)-_e);se=(Pe-Ae)/Z,ne=function(De){var Ve,Qe=De*se,Oe=K(Ae),Ue=ce/(2*me)*(Oe*(Ve=Z*Qe+Ae,((Ve=Math.exp(2*Ve))-1)/(Ve+1))-function(Ge){return((Ge=Math.exp(Ge))-1/Ge)/2}(Ae));return[oe+Ue*be,pe+Ue*Ee,ce*Oe/K(Z*Qe+Ae)]}}return ne.duration=1e3*se,ne},g.piecewise=function(J,re){for(var ne=0,se=re.length-1,oe=re[0],pe=new Array(se<0?0:se);ne<se;)pe[ne]=J(oe,oe=re[++ne]);return function(ce){var de=Math.max(0,Math.min(se-1,Math.floor(ce*=se)));return pe[de](ce-de)}},g.quantize=function(J,re){for(var ne=new Array(re),se=0;se<re;++se)ne[se]=J(se/(re-1));return ne},Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-color":109}],117:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){var m=Math.PI,b=2*m,v=b-1e-6;function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}e.prototype=n.prototype={constructor:e,moveTo:function(r,o){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+o)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,o){this._+="L"+(this._x1=+r)+","+(this._y1=+o)},quadraticCurveTo:function(r,o,t,d){this._+="Q"+ +r+","+ +o+","+(this._x1=+t)+","+(this._y1=+d)},bezierCurveTo:function(r,o,t,d,c,i){this._+="C"+ +r+","+ +o+","+ +t+","+ +d+","+(this._x1=+c)+","+(this._y1=+i)},arcTo:function(r,o,t,d,c){r=+r,o=+o,t=+t,d=+d,c=+c;var i=this._x1,u=this._y1,f=t-r,s=d-o,h=i-r,p=u-o,a=h*h+p*p;if(c<0)throw new Error("negative radius: "+c);if(this._x1===null)this._+="M"+(this._x1=r)+","+(this._y1=o);else if(a>1e-6)if(Math.abs(p*f-s*h)>1e-6&&c){var x=t-i,l=d-u,w=f*f+s*s,_=x*x+l*l,T=Math.sqrt(w),k=Math.sqrt(a),L=c*Math.tan((m-Math.acos((w+a-_)/(2*T*k)))/2),A=L/k,I=L/T;Math.abs(A-1)>1e-6&&(this._+="L"+(r+A*h)+","+(o+A*p)),this._+="A"+c+","+c+",0,0,"+ +(p*x>h*l)+","+(this._x1=r+I*f)+","+(this._y1=o+I*s)}else this._+="L"+(this._x1=r)+","+(this._y1=o)},arc:function(r,o,t,d,c,i){r=+r,o=+o,i=!!i;var u=(t=+t)*Math.cos(d),f=t*Math.sin(d),s=r+u,h=o+f,p=1^i,a=i?d-c:c-d;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+s+","+h:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-h)>1e-6)&&(this._+="L"+s+","+h),t&&(a<0&&(a=a%b+b),a>v?this._+="A"+t+","+t+",0,1,"+p+","+(r-u)+","+(o-f)+"A"+t+","+t+",0,1,"+p+","+(this._x1=s)+","+(this._y1=h):a>1e-6&&(this._+="A"+t+","+t+",0,"+ +(a>=m)+","+p+","+(this._x1=r+t*Math.cos(c))+","+(this._y1=o+t*Math.sin(c))))},rect:function(r,o,t,d){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+o)+"h"+ +t+"v"+ +d+"h"+-t+"Z"},toString:function(){return this._}},g.path=n,Object.defineProperty(g,"__esModule",{value:!0})})},{}],118:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){function m(d,c,i,u){if(isNaN(c)||isNaN(i))return d;var f,s,h,p,a,x,l,w,_,T=d._root,k={data:u},L=d._x0,A=d._y0,I=d._x1,P=d._y1;if(!T)return d._root=k,d;for(;T.length;)if((x=c>=(s=(L+I)/2))?L=s:I=s,(l=i>=(h=(A+P)/2))?A=h:P=h,f=T,!(T=T[w=l<<1|x]))return f[w]=k,d;if(p=+d._x.call(null,T.data),a=+d._y.call(null,T.data),c===p&&i===a)return k.next=T,f?f[w]=k:d._root=k,d;do f=f?f[w]=new Array(4):d._root=new Array(4),(x=c>=(s=(L+I)/2))?L=s:I=s,(l=i>=(h=(A+P)/2))?A=h:P=h;while((w=l<<1|x)==(_=(a>=h)<<1|p>=s));return f[_]=T,f[w]=k,d}function b(d,c,i,u,f){this.node=d,this.x0=c,this.y0=i,this.x1=u,this.y1=f}function v(d){return d[0]}function e(d){return d[1]}function n(d,c,i){var u=new r(c??v,i??e,NaN,NaN,NaN,NaN);return d==null?u:u.addAll(d)}function r(d,c,i,u,f,s){this._x=d,this._y=c,this._x0=i,this._y0=u,this._x1=f,this._y1=s,this._root=void 0}function o(d){for(var c={data:d.data},i=c;d=d.next;)i=i.next={data:d.data};return c}var t=n.prototype=r.prototype;t.copy=function(){var d,c,i=new r(this._x,this._y,this._x0,this._y0,this._x1,this._y1),u=this._root;if(!u)return i;if(!u.length)return i._root=o(u),i;for(d=[{source:u,target:i._root=new Array(4)}];u=d.pop();)for(var f=0;f<4;++f)(c=u.source[f])&&(c.length?d.push({source:c,target:u.target[f]=new Array(4)}):u.target[f]=o(c));return i},t.add=function(d){var c=+this._x.call(null,d),i=+this._y.call(null,d);return m(this.cover(c,i),c,i,d)},t.addAll=function(d){var c,i,u,f,s=d.length,h=new Array(s),p=new Array(s),a=1/0,x=1/0,l=-1/0,w=-1/0;for(i=0;i<s;++i)isNaN(u=+this._x.call(null,c=d[i]))||isNaN(f=+this._y.call(null,c))||(h[i]=u,p[i]=f,u<a&&(a=u),u>l&&(l=u),f<x&&(x=f),f>w&&(w=f));if(a>l||x>w)return this;for(this.cover(a,x).cover(l,w),i=0;i<s;++i)m(this,h[i],p[i],d[i]);return this},t.cover=function(d,c){if(isNaN(d=+d)||isNaN(c=+c))return this;var i=this._x0,u=this._y0,f=this._x1,s=this._y1;if(isNaN(i))f=(i=Math.floor(d))+1,s=(u=Math.floor(c))+1;else{for(var h,p,a=f-i,x=this._root;i>d||d>=f||u>c||c>=s;)switch(p=(c<u)<<1|d<i,(h=new Array(4))[p]=x,x=h,a*=2,p){case 0:f=i+a,s=u+a;break;case 1:i=f-a,s=u+a;break;case 2:f=i+a,u=s-a;break;case 3:i=f-a,u=s-a}this._root&&this._root.length&&(this._root=x)}return this._x0=i,this._y0=u,this._x1=f,this._y1=s,this},t.data=function(){var d=[];return this.visit(function(c){if(!c.length)do d.push(c.data);while(c=c.next)}),d},t.extent=function(d){return arguments.length?this.cover(+d[0][0],+d[0][1]).cover(+d[1][0],+d[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},t.find=function(d,c,i){var u,f,s,h,p,a,x,l=this._x0,w=this._y0,_=this._x1,T=this._y1,k=[],L=this._root;for(L&&k.push(new b(L,l,w,_,T)),i==null?i=1/0:(l=d-i,w=c-i,_=d+i,T=c+i,i*=i);a=k.pop();)if(!(!(L=a.node)||(f=a.x0)>_||(s=a.y0)>T||(h=a.x1)<l||(p=a.y1)<w))if(L.length){var A=(f+h)/2,I=(s+p)/2;k.push(new b(L[3],A,I,h,p),new b(L[2],f,I,A,p),new b(L[1],A,s,h,I),new b(L[0],f,s,A,I)),(x=(c>=I)<<1|d>=A)&&(a=k[k.length-1],k[k.length-1]=k[k.length-1-x],k[k.length-1-x]=a)}else{var P=d-+this._x.call(null,L.data),S=c-+this._y.call(null,L.data),E=P*P+S*S;if(E<i){var D=Math.sqrt(i=E);l=d-D,w=c-D,_=d+D,T=c+D,u=L.data}}return u},t.remove=function(d){if(isNaN(s=+this._x.call(null,d))||isNaN(h=+this._y.call(null,d)))return this;var c,i,u,f,s,h,p,a,x,l,w,_,T=this._root,k=this._x0,L=this._y0,A=this._x1,I=this._y1;if(!T)return this;if(T.length)for(;;){if((x=s>=(p=(k+A)/2))?k=p:A=p,(l=h>=(a=(L+I)/2))?L=a:I=a,c=T,!(T=T[w=l<<1|x]))return this;if(!T.length)break;(c[w+1&3]||c[w+2&3]||c[w+3&3])&&(i=c,_=w)}for(;T.data!==d;)if(u=T,!(T=T.next))return this;return(f=T.next)&&delete T.next,u?(f?u.next=f:delete u.next,this):c?(f?c[w]=f:delete c[w],(T=c[0]||c[1]||c[2]||c[3])&&T===(c[3]||c[2]||c[1]||c[0])&&!T.length&&(i?i[_]=T:this._root=T),this):(this._root=f,this)},t.removeAll=function(d){for(var c=0,i=d.length;c<i;++c)this.remove(d[c]);return this},t.root=function(){return this._root},t.size=function(){var d=0;return this.visit(function(c){if(!c.length)do++d;while(c=c.next)}),d},t.visit=function(d){var c,i,u,f,s,h,p=[],a=this._root;for(a&&p.push(new b(a,this._x0,this._y0,this._x1,this._y1));c=p.pop();)if(!d(a=c.node,u=c.x0,f=c.y0,s=c.x1,h=c.y1)&&a.length){var x=(u+s)/2,l=(f+h)/2;(i=a[3])&&p.push(new b(i,x,l,s,h)),(i=a[2])&&p.push(new b(i,u,l,x,h)),(i=a[1])&&p.push(new b(i,x,f,s,l)),(i=a[0])&&p.push(new b(i,u,f,x,l))}return this},t.visitAfter=function(d){var c,i=[],u=[];for(this._root&&i.push(new b(this._root,this._x0,this._y0,this._x1,this._y1));c=i.pop();){var f=c.node;if(f.length){var s,h=c.x0,p=c.y0,a=c.x1,x=c.y1,l=(h+a)/2,w=(p+x)/2;(s=f[0])&&i.push(new b(s,h,p,l,w)),(s=f[1])&&i.push(new b(s,l,p,a,w)),(s=f[2])&&i.push(new b(s,h,w,l,x)),(s=f[3])&&i.push(new b(s,l,w,a,x))}u.push(c)}for(;c=u.pop();)d(c.node,c.x0,c.y0,c.x1,c.y1);return this},t.x=function(d){return arguments.length?(this._x=d,this):this._x},t.y=function(d){return arguments.length?(this._y=d,this):this._y},g.quadtree=n,Object.defineProperty(g,"__esModule",{value:!0})})},{}],119:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-path")):m((g=g||self).d3=g.d3||{},g.d3)})(this,function(g,m){function b(ze){return function(){return ze}}var v=Math.abs,e=Math.atan2,n=Math.cos,r=Math.max,o=Math.min,t=Math.sin,d=Math.sqrt,c=Math.PI,i=c/2,u=2*c;function f(ze){return ze>1?0:ze<-1?c:Math.acos(ze)}function s(ze){return ze>=1?i:ze<=-1?-i:Math.asin(ze)}function h(ze){return ze.innerRadius}function p(ze){return ze.outerRadius}function a(ze){return ze.startAngle}function x(ze){return ze.endAngle}function l(ze){return ze&&ze.padAngle}function w(ze,st,yt,Dt,jt,or,Ut,Xt){var sr=yt-ze,vr=Dt-st,pr=Ut-jt,ar=Xt-or,lr=ar*sr-pr*vr;if(!(lr*lr<1e-12))return[ze+(lr=(pr*(st-or)-ar*(ze-jt))/lr)*sr,st+lr*vr]}function _(ze,st,yt,Dt,jt,or,Ut){var Xt=ze-yt,sr=st-Dt,vr=(Ut?or:-or)/d(Xt*Xt+sr*sr),pr=vr*sr,ar=-vr*Xt,lr=ze+pr,hr=st+ar,Or=yt+pr,dr=Dt+ar,Fr=(lr+Or)/2,tn=(hr+dr)/2,rn=Or-lr,An=dr-hr,Ln=rn*rn+An*An,_n=jt-or,Vr=lr*dr-Or*hr,Ir=(An<0?-1:1)*d(r(0,_n*_n*Ln-Vr*Vr)),xr=(Vr*An-rn*Ir)/Ln,Nr=(-Vr*rn-An*Ir)/Ln,en=(Vr*An+rn*Ir)/Ln,Qr=(-Vr*rn+An*Ir)/Ln,yn=xr-Fr,un=Nr-tn,$r=en-Fr,In=Qr-tn;return yn*yn+un*un>$r*$r+In*In&&(xr=en,Nr=Qr),{cx:xr,cy:Nr,x01:-pr,y01:-ar,x11:xr*(jt/_n-1),y11:Nr*(jt/_n-1)}}function T(ze){this._context=ze}function k(ze){return new T(ze)}function L(ze){return ze[0]}function A(ze){return ze[1]}function I(){var ze=L,st=A,yt=b(!0),Dt=null,jt=k,or=null;function Ut(Xt){var sr,vr,pr,ar=Xt.length,lr=!1;for(Dt==null&&(or=jt(pr=m.path())),sr=0;sr<=ar;++sr)!(sr<ar&&yt(vr=Xt[sr],sr,Xt))===lr&&((lr=!lr)?or.lineStart():or.lineEnd()),lr&&or.point(+ze(vr,sr,Xt),+st(vr,sr,Xt));if(pr)return or=null,pr+""||null}return Ut.x=function(Xt){return arguments.length?(ze=typeof Xt=="function"?Xt:b(+Xt),Ut):ze},Ut.y=function(Xt){return arguments.length?(st=typeof Xt=="function"?Xt:b(+Xt),Ut):st},Ut.defined=function(Xt){return arguments.length?(yt=typeof Xt=="function"?Xt:b(!!Xt),Ut):yt},Ut.curve=function(Xt){return arguments.length?(jt=Xt,Dt!=null&&(or=jt(Dt)),Ut):jt},Ut.context=function(Xt){return arguments.length?(Xt==null?Dt=or=null:or=jt(Dt=Xt),Ut):Dt},Ut}function P(){var ze=L,st=null,yt=b(0),Dt=A,jt=b(!0),or=null,Ut=k,Xt=null;function sr(pr){var ar,lr,hr,Or,dr,Fr=pr.length,tn=!1,rn=new Array(Fr),An=new Array(Fr);for(or==null&&(Xt=Ut(dr=m.path())),ar=0;ar<=Fr;++ar){if(!(ar<Fr&&jt(Or=pr[ar],ar,pr))===tn)if(tn=!tn)lr=ar,Xt.areaStart(),Xt.lineStart();else{for(Xt.lineEnd(),Xt.lineStart(),hr=ar-1;hr>=lr;--hr)Xt.point(rn[hr],An[hr]);Xt.lineEnd(),Xt.areaEnd()}tn&&(rn[ar]=+ze(Or,ar,pr),An[ar]=+yt(Or,ar,pr),Xt.point(st?+st(Or,ar,pr):rn[ar],Dt?+Dt(Or,ar,pr):An[ar]))}if(dr)return Xt=null,dr+""||null}function vr(){return I().defined(jt).curve(Ut).context(or)}return sr.x=function(pr){return arguments.length?(ze=typeof pr=="function"?pr:b(+pr),st=null,sr):ze},sr.x0=function(pr){return arguments.length?(ze=typeof pr=="function"?pr:b(+pr),sr):ze},sr.x1=function(pr){return arguments.length?(st=pr==null?null:typeof pr=="function"?pr:b(+pr),sr):st},sr.y=function(pr){return arguments.length?(yt=typeof pr=="function"?pr:b(+pr),Dt=null,sr):yt},sr.y0=function(pr){return arguments.length?(yt=typeof pr=="function"?pr:b(+pr),sr):yt},sr.y1=function(pr){return arguments.length?(Dt=pr==null?null:typeof pr=="function"?pr:b(+pr),sr):Dt},sr.lineX0=sr.lineY0=function(){return vr().x(ze).y(yt)},sr.lineY1=function(){return vr().x(ze).y(Dt)},sr.lineX1=function(){return vr().x(st).y(yt)},sr.defined=function(pr){return arguments.length?(jt=typeof pr=="function"?pr:b(!!pr),sr):jt},sr.curve=function(pr){return arguments.length?(Ut=pr,or!=null&&(Xt=Ut(or)),sr):Ut},sr.context=function(pr){return arguments.length?(pr==null?or=Xt=null:Xt=Ut(or=pr),sr):or},sr}function S(ze,st){return st<ze?-1:st>ze?1:st>=ze?0:NaN}function E(ze){return ze}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(ze,st):this._context.moveTo(ze,st);break;case 1:this._point=2;default:this._context.lineTo(ze,st)}}};var D=H(k);function F(ze){this._curve=ze}function H(ze){function st(yt){return new F(ze(yt))}return st._curve=ze,st}function V(ze){var st=ze.curve;return ze.angle=ze.x,delete ze.x,ze.radius=ze.y,delete ze.y,ze.curve=function(yt){return arguments.length?st(H(yt)):st()._curve},ze}function Z(){return V(I().curve(D))}function K(){var ze=P().curve(D),st=ze.curve,yt=ze.lineX0,Dt=ze.lineX1,jt=ze.lineY0,or=ze.lineY1;return ze.angle=ze.x,delete ze.x,ze.startAngle=ze.x0,delete ze.x0,ze.endAngle=ze.x1,delete ze.x1,ze.radius=ze.y,delete ze.y,ze.innerRadius=ze.y0,delete ze.y0,ze.outerRadius=ze.y1,delete ze.y1,ze.lineStartAngle=function(){return V(yt())},delete ze.lineX0,ze.lineEndAngle=function(){return V(Dt())},delete ze.lineX1,ze.lineInnerRadius=function(){return V(jt())},delete ze.lineY0,ze.lineOuterRadius=function(){return V(or())},delete ze.lineY1,ze.curve=function(Ut){return arguments.length?st(H(Ut)):st()._curve},ze}function q(ze,st){return[(st=+st)*Math.cos(ze-=Math.PI/2),st*Math.sin(ze)]}F.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(ze,st){this._curve.point(st*Math.sin(ze),st*-Math.cos(ze))}};var W=Array.prototype.slice;function $(ze){return ze.source}function R(ze){return ze.target}function N(ze){var st=$,yt=R,Dt=L,jt=A,or=null;function Ut(){var Xt,sr=W.call(arguments),vr=st.apply(this,sr),pr=yt.apply(this,sr);if(or||(or=Xt=m.path()),ze(or,+Dt.apply(this,(sr[0]=vr,sr)),+jt.apply(this,sr),+Dt.apply(this,(sr[0]=pr,sr)),+jt.apply(this,sr)),Xt)return or=null,Xt+""||null}return Ut.source=function(Xt){return arguments.length?(st=Xt,Ut):st},Ut.target=function(Xt){return arguments.length?(yt=Xt,Ut):yt},Ut.x=function(Xt){return arguments.length?(Dt=typeof Xt=="function"?Xt:b(+Xt),Ut):Dt},Ut.y=function(Xt){return arguments.length?(jt=typeof Xt=="function"?Xt:b(+Xt),Ut):jt},Ut.context=function(Xt){return arguments.length?(or=Xt??null,Ut):or},Ut}function U(ze,st,yt,Dt,jt){ze.moveTo(st,yt),ze.bezierCurveTo(st=(st+Dt)/2,yt,st,jt,Dt,jt)}function Q(ze,st,yt,Dt,jt){ze.moveTo(st,yt),ze.bezierCurveTo(st,yt=(yt+jt)/2,Dt,yt,Dt,jt)}function j(ze,st,yt,Dt,jt){var or=q(st,yt),Ut=q(st,yt=(yt+jt)/2),Xt=q(Dt,yt),sr=q(Dt,jt);ze.moveTo(or[0],or[1]),ze.bezierCurveTo(Ut[0],Ut[1],Xt[0],Xt[1],sr[0],sr[1])}var X={draw:function(ze,st){var yt=Math.sqrt(st/c);ze.moveTo(yt,0),ze.arc(0,0,yt,0,u)}},J={draw:function(ze,st){var yt=Math.sqrt(st/5)/2;ze.moveTo(-3*yt,-yt),ze.lineTo(-yt,-yt),ze.lineTo(-yt,-3*yt),ze.lineTo(yt,-3*yt),ze.lineTo(yt,-yt),ze.lineTo(3*yt,-yt),ze.lineTo(3*yt,yt),ze.lineTo(yt,yt),ze.lineTo(yt,3*yt),ze.lineTo(-yt,3*yt),ze.lineTo(-yt,yt),ze.lineTo(-3*yt,yt),ze.closePath()}},re=Math.sqrt(1/3),ne=2*re,se={draw:function(ze,st){var yt=Math.sqrt(st/ne),Dt=yt*re;ze.moveTo(0,-yt),ze.lineTo(Dt,0),ze.lineTo(0,yt),ze.lineTo(-Dt,0),ze.closePath()}},oe=Math.sin(c/10)/Math.sin(7*c/10),pe=Math.sin(u/10)*oe,ce=-Math.cos(u/10)*oe,de={draw:function(ze,st){var yt=Math.sqrt(.8908130915292852*st),Dt=pe*yt,jt=ce*yt;ze.moveTo(0,-yt),ze.lineTo(Dt,jt);for(var or=1;or<5;++or){var Ut=u*or/5,Xt=Math.cos(Ut),sr=Math.sin(Ut);ze.lineTo(sr*yt,-Xt*yt),ze.lineTo(Xt*Dt-sr*jt,sr*Dt+Xt*jt)}ze.closePath()}},xe={draw:function(ze,st){var yt=Math.sqrt(st),Dt=-yt/2;ze.rect(Dt,Dt,yt,yt)}},we=Math.sqrt(3),be={draw:function(ze,st){var yt=-Math.sqrt(st/(3*we));ze.moveTo(0,2*yt),ze.lineTo(-we*yt,-yt),ze.lineTo(we*yt,-yt),ze.closePath()}},Ee=-.5,fe=Math.sqrt(3)/2,me=1/Math.sqrt(12),Te=3*(me/2+1),_e={draw:function(ze,st){var yt=Math.sqrt(st/Te),Dt=yt/2,jt=yt*me,or=Dt,Ut=yt*me+yt,Xt=-or,sr=Ut;ze.moveTo(Dt,jt),ze.lineTo(or,Ut),ze.lineTo(Xt,sr),ze.lineTo(Ee*Dt-fe*jt,fe*Dt+Ee*jt),ze.lineTo(Ee*or-fe*Ut,fe*or+Ee*Ut),ze.lineTo(Ee*Xt-fe*sr,fe*Xt+Ee*sr),ze.lineTo(Ee*Dt+fe*jt,Ee*jt-fe*Dt),ze.lineTo(Ee*or+fe*Ut,Ee*Ut-fe*or),ze.lineTo(Ee*Xt+fe*sr,Ee*sr-fe*Xt),ze.closePath()}},Ae=[X,J,se,xe,de,be,_e];function Pe(){}function De(ze,st,yt){ze._context.bezierCurveTo((2*ze._x0+ze._x1)/3,(2*ze._y0+ze._y1)/3,(ze._x0+2*ze._x1)/3,(ze._y0+2*ze._y1)/3,(ze._x0+4*ze._x1+st)/6,(ze._y0+4*ze._y1+yt)/6)}function Ve(ze){this._context=ze}function Qe(ze){this._context=ze}function Oe(ze){this._context=ze}function Ue(ze,st){this._basis=new Ve(ze),this._beta=st}Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:De(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(ze,st):this._context.moveTo(ze,st);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:De(this,ze,st)}this._x0=this._x1,this._x1=ze,this._y0=this._y1,this._y1=st}},Qe.prototype={areaStart:Pe,areaEnd:Pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1,this._x2=ze,this._y2=st;break;case 1:this._point=2,this._x3=ze,this._y3=st;break;case 2:this._point=3,this._x4=ze,this._y4=st,this._context.moveTo((this._x0+4*this._x1+ze)/6,(this._y0+4*this._y1+st)/6);break;default:De(this,ze,st)}this._x0=this._x1,this._x1=ze,this._y0=this._y1,this._y1=st}},Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var yt=(this._x0+4*this._x1+ze)/6,Dt=(this._y0+4*this._y1+st)/6;this._line?this._context.lineTo(yt,Dt):this._context.moveTo(yt,Dt);break;case 3:this._point=4;default:De(this,ze,st)}this._x0=this._x1,this._x1=ze,this._y0=this._y1,this._y1=st}},Ue.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var ze=this._x,st=this._y,yt=ze.length-1;if(yt>0)for(var Dt,jt=ze[0],or=st[0],Ut=ze[yt]-jt,Xt=st[yt]-or,sr=-1;++sr<=yt;)Dt=sr/yt,this._basis.point(this._beta*ze[sr]+(1-this._beta)*(jt+Dt*Ut),this._beta*st[sr]+(1-this._beta)*(or+Dt*Xt));this._x=this._y=null,this._basis.lineEnd()},point:function(ze,st){this._x.push(+ze),this._y.push(+st)}};var Ge=function ze(st){function yt(Dt){return st===1?new Ve(Dt):new Ue(Dt,st)}return yt.beta=function(Dt){return ze(+Dt)},yt}(.85);function Ye(ze,st,yt){ze._context.bezierCurveTo(ze._x1+ze._k*(ze._x2-ze._x0),ze._y1+ze._k*(ze._y2-ze._y0),ze._x2+ze._k*(ze._x1-st),ze._y2+ze._k*(ze._y1-yt),ze._x2,ze._y2)}function tt(ze,st){this._context=ze,this._k=(1-st)/6}tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ye(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(ze,st):this._context.moveTo(ze,st);break;case 1:this._point=2,this._x1=ze,this._y1=st;break;case 2:this._point=3;default:Ye(this,ze,st)}this._x0=this._x1,this._x1=this._x2,this._x2=ze,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var lt=function ze(st){function yt(Dt){return new tt(Dt,st)}return yt.tension=function(Dt){return ze(+Dt)},yt}(0);function vt(ze,st){this._context=ze,this._k=(1-st)/6}vt.prototype={areaStart:Pe,areaEnd:Pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1,this._x3=ze,this._y3=st;break;case 1:this._point=2,this._context.moveTo(this._x4=ze,this._y4=st);break;case 2:this._point=3,this._x5=ze,this._y5=st;break;default:Ye(this,ze,st)}this._x0=this._x1,this._x1=this._x2,this._x2=ze,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var It=function ze(st){function yt(Dt){return new vt(Dt,st)}return yt.tension=function(Dt){return ze(+Dt)},yt}(0);function St(ze,st){this._context=ze,this._k=(1-st)/6}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ye(this,ze,st)}this._x0=this._x1,this._x1=this._x2,this._x2=ze,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var rt=function ze(st){function yt(Dt){return new St(Dt,st)}return yt.tension=function(Dt){return ze(+Dt)},yt}(0);function et(ze,st,yt){var Dt=ze._x1,jt=ze._y1,or=ze._x2,Ut=ze._y2;if(ze._l01_a>1e-12){var Xt=2*ze._l01_2a+3*ze._l01_a*ze._l12_a+ze._l12_2a,sr=3*ze._l01_a*(ze._l01_a+ze._l12_a);Dt=(Dt*Xt-ze._x0*ze._l12_2a+ze._x2*ze._l01_2a)/sr,jt=(jt*Xt-ze._y0*ze._l12_2a+ze._y2*ze._l01_2a)/sr}if(ze._l23_a>1e-12){var vr=2*ze._l23_2a+3*ze._l23_a*ze._l12_a+ze._l12_2a,pr=3*ze._l23_a*(ze._l23_a+ze._l12_a);or=(or*vr+ze._x1*ze._l23_2a-st*ze._l12_2a)/pr,Ut=(Ut*vr+ze._y1*ze._l23_2a-yt*ze._l12_2a)/pr}ze._context.bezierCurveTo(Dt,jt,or,Ut,ze._x2,ze._y2)}function Tt(ze,st){this._context=ze,this._alpha=st}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){if(ze=+ze,st=+st,this._point){var yt=this._x2-ze,Dt=this._y2-st;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(yt*yt+Dt*Dt,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ze,st):this._context.moveTo(ze,st);break;case 1:this._point=2;break;case 2:this._point=3;default:et(this,ze,st)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ze,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Vt=function ze(st){function yt(Dt){return st?new Tt(Dt,st):new tt(Dt,0)}return yt.alpha=function(Dt){return ze(+Dt)},yt}(.5);function Kt(ze,st){this._context=ze,this._alpha=st}Kt.prototype={areaStart:Pe,areaEnd:Pe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(ze,st){if(ze=+ze,st=+st,this._point){var yt=this._x2-ze,Dt=this._y2-st;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(yt*yt+Dt*Dt,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=ze,this._y3=st;break;case 1:this._point=2,this._context.moveTo(this._x4=ze,this._y4=st);break;case 2:this._point=3,this._x5=ze,this._y5=st;break;default:et(this,ze,st)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ze,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Be=function ze(st){function yt(Dt){return st?new Kt(Dt,st):new vt(Dt,0)}return yt.alpha=function(Dt){return ze(+Dt)},yt}(.5);function qe(ze,st){this._context=ze,this._alpha=st}qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){if(ze=+ze,st=+st,this._point){var yt=this._x2-ze,Dt=this._y2-st;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(yt*yt+Dt*Dt,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:et(this,ze,st)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=ze,this._y0=this._y1,this._y1=this._y2,this._y2=st}};var Re=function ze(st){function yt(Dt){return st?new qe(Dt,st):new St(Dt,0)}return yt.alpha=function(Dt){return ze(+Dt)},yt}(.5);function Xe(ze){this._context=ze}function ke(ze){return ze<0?-1:1}function Le(ze,st,yt){var Dt=ze._x1-ze._x0,jt=st-ze._x1,or=(ze._y1-ze._y0)/(Dt||jt<0&&-0),Ut=(yt-ze._y1)/(jt||Dt<0&&-0),Xt=(or*jt+Ut*Dt)/(Dt+jt);return(ke(or)+ke(Ut))*Math.min(Math.abs(or),Math.abs(Ut),.5*Math.abs(Xt))||0}function Ie(ze,st){var yt=ze._x1-ze._x0;return yt?(3*(ze._y1-ze._y0)/yt-st)/2:st}function Ce(ze,st,yt){var Dt=ze._x0,jt=ze._y0,or=ze._x1,Ut=ze._y1,Xt=(or-Dt)/3;ze._context.bezierCurveTo(Dt+Xt,jt+Xt*st,or-Xt,Ut-Xt*yt,or,Ut)}function Je(ze){this._context=ze}function it(ze){this._context=new ht(ze)}function ht(ze){this._context=ze}function ut(ze){this._context=ze}function kt(ze){var st,yt,Dt=ze.length-1,jt=new Array(Dt),or=new Array(Dt),Ut=new Array(Dt);for(jt[0]=0,or[0]=2,Ut[0]=ze[0]+2*ze[1],st=1;st<Dt-1;++st)jt[st]=1,or[st]=4,Ut[st]=4*ze[st]+2*ze[st+1];for(jt[Dt-1]=2,or[Dt-1]=7,Ut[Dt-1]=8*ze[Dt-1]+ze[Dt],st=1;st<Dt;++st)yt=jt[st]/or[st-1],or[st]-=yt,Ut[st]-=yt*Ut[st-1];for(jt[Dt-1]=Ut[Dt-1]/or[Dt-1],st=Dt-2;st>=0;--st)jt[st]=(Ut[st]-jt[st+1])/or[st];for(or[Dt-1]=(ze[Dt]+jt[Dt-1])/2,st=0;st<Dt-1;++st)or[st]=2*ze[st+1]-jt[st+1];return[jt,or]}function ot(ze,st){this._context=ze,this._t=st}function Lt(ze,st){if((jt=ze.length)>1)for(var yt,Dt,jt,or=1,Ut=ze[st[0]],Xt=Ut.length;or<jt;++or)for(Dt=Ut,Ut=ze[st[or]],yt=0;yt<Xt;++yt)Ut[yt][1]+=Ut[yt][0]=isNaN(Dt[yt][1])?Dt[yt][0]:Dt[yt][1]}function Et(ze){for(var st=ze.length,yt=new Array(st);--st>=0;)yt[st]=st;return yt}function Ze(ze,st){return ze[st]}function pt(ze){var st=ze.map(Ct);return Et(ze).sort(function(yt,Dt){return st[yt]-st[Dt]})}function Ct(ze){for(var st,yt=-1,Dt=0,jt=ze.length,or=-1/0;++yt<jt;)(st=+ze[yt][1])>or&&(or=st,Dt=yt);return Dt}function zt(ze){var st=ze.map(Gt);return Et(ze).sort(function(yt,Dt){return st[yt]-st[Dt]})}function Gt(ze){for(var st,yt=0,Dt=-1,jt=ze.length;++Dt<jt;)(st=+ze[Dt][1])&&(yt+=st);return yt}Xe.prototype={areaStart:Pe,areaEnd:Pe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(ze,st){ze=+ze,st=+st,this._point?this._context.lineTo(ze,st):(this._point=1,this._context.moveTo(ze,st))}},Je.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ce(this,this._t0,Ie(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(ze,st){var yt=NaN;if(st=+st,(ze=+ze)!==this._x1||st!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(ze,st):this._context.moveTo(ze,st);break;case 1:this._point=2;break;case 2:this._point=3,Ce(this,Ie(this,yt=Le(this,ze,st)),yt);break;default:Ce(this,this._t0,yt=Le(this,ze,st))}this._x0=this._x1,this._x1=ze,this._y0=this._y1,this._y1=st,this._t0=yt}}},(it.prototype=Object.create(Je.prototype)).point=function(ze,st){Je.prototype.point.call(this,st,ze)},ht.prototype={moveTo:function(ze,st){this._context.moveTo(st,ze)},closePath:function(){this._context.closePath()},lineTo:function(ze,st){this._context.lineTo(st,ze)},bezierCurveTo:function(ze,st,yt,Dt,jt,or){this._context.bezierCurveTo(st,ze,Dt,yt,or,jt)}},ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var ze=this._x,st=this._y,yt=ze.length;if(yt)if(this._line?this._context.lineTo(ze[0],st[0]):this._context.moveTo(ze[0],st[0]),yt===2)this._context.lineTo(ze[1],st[1]);else for(var Dt=kt(ze),jt=kt(st),or=0,Ut=1;Ut<yt;++or,++Ut)this._context.bezierCurveTo(Dt[0][or],jt[0][or],Dt[1][or],jt[1][or],ze[Ut],st[Ut]);(this._line||this._line!==0&&yt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(ze,st){this._x.push(+ze),this._y.push(+st)}},ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(ze,st){switch(ze=+ze,st=+st,this._point){case 0:this._point=1,this._line?this._context.lineTo(ze,st):this._context.moveTo(ze,st);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,st),this._context.lineTo(ze,st);else{var yt=this._x*(1-this._t)+ze*this._t;this._context.lineTo(yt,this._y),this._context.lineTo(yt,st)}}this._x=ze,this._y=st}},g.arc=function(){var ze=h,st=p,yt=b(0),Dt=null,jt=a,or=x,Ut=l,Xt=null;function sr(){var vr,pr,ar=+ze.apply(this,arguments),lr=+st.apply(this,arguments),hr=jt.apply(this,arguments)-i,Or=or.apply(this,arguments)-i,dr=v(Or-hr),Fr=Or>hr;if(Xt||(Xt=vr=m.path()),lr<ar&&(pr=lr,lr=ar,ar=pr),lr>1e-12)if(dr>u-1e-12)Xt.moveTo(lr*n(hr),lr*t(hr)),Xt.arc(0,0,lr,hr,Or,!Fr),ar>1e-12&&(Xt.moveTo(ar*n(Or),ar*t(Or)),Xt.arc(0,0,ar,Or,hr,Fr));else{var tn,rn,An=hr,Ln=Or,_n=hr,Vr=Or,Ir=dr,xr=dr,Nr=Ut.apply(this,arguments)/2,en=Nr>1e-12&&(Dt?+Dt.apply(this,arguments):d(ar*ar+lr*lr)),Qr=o(v(lr-ar)/2,+yt.apply(this,arguments)),yn=Qr,un=Qr;if(en>1e-12){var $r=s(en/ar*t(Nr)),In=s(en/lr*t(Nr));(Ir-=2*$r)>1e-12?(_n+=$r*=Fr?1:-1,Vr-=$r):(Ir=0,_n=Vr=(hr+Or)/2),(xr-=2*In)>1e-12?(An+=In*=Fr?1:-1,Ln-=In):(xr=0,An=Ln=(hr+Or)/2)}var Qt=lr*n(An),Pt=lr*t(An),Yt=ar*n(Vr),cr=ar*t(Vr);if(Qr>1e-12){var wr,qr=lr*n(Ln),Ur=lr*t(Ln),br=ar*n(_n),_r=ar*t(_n);if(dr<c&&(wr=w(Qt,Pt,br,_r,qr,Ur,Yt,cr))){var Ar=Qt-wr[0],Mr=Pt-wr[1],Cr=qr-wr[0],Gr=Ur-wr[1],cn=1/t(f((Ar*Cr+Mr*Gr)/(d(Ar*Ar+Mr*Mr)*d(Cr*Cr+Gr*Gr)))/2),wn=d(wr[0]*wr[0]+wr[1]*wr[1]);yn=o(Qr,(ar-wn)/(cn-1)),un=o(Qr,(lr-wn)/(cn+1))}}xr>1e-12?un>1e-12?(tn=_(br,_r,Qt,Pt,lr,un,Fr),rn=_(qr,Ur,Yt,cr,lr,un,Fr),Xt.moveTo(tn.cx+tn.x01,tn.cy+tn.y01),un<Qr?Xt.arc(tn.cx,tn.cy,un,e(tn.y01,tn.x01),e(rn.y01,rn.x01),!Fr):(Xt.arc(tn.cx,tn.cy,un,e(tn.y01,tn.x01),e(tn.y11,tn.x11),!Fr),Xt.arc(0,0,lr,e(tn.cy+tn.y11,tn.cx+tn.x11),e(rn.cy+rn.y11,rn.cx+rn.x11),!Fr),Xt.arc(rn.cx,rn.cy,un,e(rn.y11,rn.x11),e(rn.y01,rn.x01),!Fr))):(Xt.moveTo(Qt,Pt),Xt.arc(0,0,lr,An,Ln,!Fr)):Xt.moveTo(Qt,Pt),ar>1e-12&&Ir>1e-12?yn>1e-12?(tn=_(Yt,cr,qr,Ur,ar,-yn,Fr),rn=_(Qt,Pt,br,_r,ar,-yn,Fr),Xt.lineTo(tn.cx+tn.x01,tn.cy+tn.y01),yn<Qr?Xt.arc(tn.cx,tn.cy,yn,e(tn.y01,tn.x01),e(rn.y01,rn.x01),!Fr):(Xt.arc(tn.cx,tn.cy,yn,e(tn.y01,tn.x01),e(tn.y11,tn.x11),!Fr),Xt.arc(0,0,ar,e(tn.cy+tn.y11,tn.cx+tn.x11),e(rn.cy+rn.y11,rn.cx+rn.x11),Fr),Xt.arc(rn.cx,rn.cy,yn,e(rn.y11,rn.x11),e(rn.y01,rn.x01),!Fr))):Xt.arc(0,0,ar,Vr,_n,Fr):Xt.lineTo(Yt,cr)}else Xt.moveTo(0,0);if(Xt.closePath(),vr)return Xt=null,vr+""||null}return sr.centroid=function(){var vr=(+ze.apply(this,arguments)+ +st.apply(this,arguments))/2,pr=(+jt.apply(this,arguments)+ +or.apply(this,arguments))/2-c/2;return[n(pr)*vr,t(pr)*vr]},sr.innerRadius=function(vr){return arguments.length?(ze=typeof vr=="function"?vr:b(+vr),sr):ze},sr.outerRadius=function(vr){return arguments.length?(st=typeof vr=="function"?vr:b(+vr),sr):st},sr.cornerRadius=function(vr){return arguments.length?(yt=typeof vr=="function"?vr:b(+vr),sr):yt},sr.padRadius=function(vr){return arguments.length?(Dt=vr==null?null:typeof vr=="function"?vr:b(+vr),sr):Dt},sr.startAngle=function(vr){return arguments.length?(jt=typeof vr=="function"?vr:b(+vr),sr):jt},sr.endAngle=function(vr){return arguments.length?(or=typeof vr=="function"?vr:b(+vr),sr):or},sr.padAngle=function(vr){return arguments.length?(Ut=typeof vr=="function"?vr:b(+vr),sr):Ut},sr.context=function(vr){return arguments.length?(Xt=vr??null,sr):Xt},sr},g.area=P,g.areaRadial=K,g.curveBasis=function(ze){return new Ve(ze)},g.curveBasisClosed=function(ze){return new Qe(ze)},g.curveBasisOpen=function(ze){return new Oe(ze)},g.curveBundle=Ge,g.curveCardinal=lt,g.curveCardinalClosed=It,g.curveCardinalOpen=rt,g.curveCatmullRom=Vt,g.curveCatmullRomClosed=Be,g.curveCatmullRomOpen=Re,g.curveLinear=k,g.curveLinearClosed=function(ze){return new Xe(ze)},g.curveMonotoneX=function(ze){return new Je(ze)},g.curveMonotoneY=function(ze){return new it(ze)},g.curveNatural=function(ze){return new ut(ze)},g.curveStep=function(ze){return new ot(ze,.5)},g.curveStepAfter=function(ze){return new ot(ze,1)},g.curveStepBefore=function(ze){return new ot(ze,0)},g.line=I,g.lineRadial=Z,g.linkHorizontal=function(){return N(U)},g.linkRadial=function(){var ze=N(j);return ze.angle=ze.x,delete ze.x,ze.radius=ze.y,delete ze.y,ze},g.linkVertical=function(){return N(Q)},g.pie=function(){var ze=E,st=S,yt=null,Dt=b(0),jt=b(u),or=b(0);function Ut(Xt){var sr,vr,pr,ar,lr,hr=Xt.length,Or=0,dr=new Array(hr),Fr=new Array(hr),tn=+Dt.apply(this,arguments),rn=Math.min(u,Math.max(-u,jt.apply(this,arguments)-tn)),An=Math.min(Math.abs(rn)/hr,or.apply(this,arguments)),Ln=An*(rn<0?-1:1);for(sr=0;sr<hr;++sr)(lr=Fr[dr[sr]=sr]=+ze(Xt[sr],sr,Xt))>0&&(Or+=lr);for(st!=null?dr.sort(function(_n,Vr){return st(Fr[_n],Fr[Vr])}):yt!=null&&dr.sort(function(_n,Vr){return yt(Xt[_n],Xt[Vr])}),sr=0,pr=Or?(rn-hr*Ln)/Or:0;sr<hr;++sr,tn=ar)vr=dr[sr],ar=tn+((lr=Fr[vr])>0?lr*pr:0)+Ln,Fr[vr]={data:Xt[vr],index:sr,value:lr,startAngle:tn,endAngle:ar,padAngle:An};return Fr}return Ut.value=function(Xt){return arguments.length?(ze=typeof Xt=="function"?Xt:b(+Xt),Ut):ze},Ut.sortValues=function(Xt){return arguments.length?(st=Xt,yt=null,Ut):st},Ut.sort=function(Xt){return arguments.length?(yt=Xt,st=null,Ut):yt},Ut.startAngle=function(Xt){return arguments.length?(Dt=typeof Xt=="function"?Xt:b(+Xt),Ut):Dt},Ut.endAngle=function(Xt){return arguments.length?(jt=typeof Xt=="function"?Xt:b(+Xt),Ut):jt},Ut.padAngle=function(Xt){return arguments.length?(or=typeof Xt=="function"?Xt:b(+Xt),Ut):or},Ut},g.pointRadial=q,g.radialArea=K,g.radialLine=Z,g.stack=function(){var ze=b([]),st=Et,yt=Lt,Dt=Ze;function jt(or){var Ut,Xt,sr=ze.apply(this,arguments),vr=or.length,pr=sr.length,ar=new Array(pr);for(Ut=0;Ut<pr;++Ut){for(var lr,hr=sr[Ut],Or=ar[Ut]=new Array(vr),dr=0;dr<vr;++dr)Or[dr]=lr=[0,+Dt(or[dr],hr,dr,or)],lr.data=or[dr];Or.key=hr}for(Ut=0,Xt=st(ar);Ut<pr;++Ut)ar[Xt[Ut]].index=Ut;return yt(ar,Xt),ar}return jt.keys=function(or){return arguments.length?(ze=typeof or=="function"?or:b(W.call(or)),jt):ze},jt.value=function(or){return arguments.length?(Dt=typeof or=="function"?or:b(+or),jt):Dt},jt.order=function(or){return arguments.length?(st=or==null?Et:typeof or=="function"?or:b(W.call(or)),jt):st},jt.offset=function(or){return arguments.length?(yt=or??Lt,jt):yt},jt},g.stackOffsetDiverging=function(ze,st){if((Xt=ze.length)>0)for(var yt,Dt,jt,or,Ut,Xt,sr=0,vr=ze[st[0]].length;sr<vr;++sr)for(or=Ut=0,yt=0;yt<Xt;++yt)(jt=(Dt=ze[st[yt]][sr])[1]-Dt[0])>0?(Dt[0]=or,Dt[1]=or+=jt):jt<0?(Dt[1]=Ut,Dt[0]=Ut+=jt):(Dt[0]=0,Dt[1]=jt)},g.stackOffsetExpand=function(ze,st){if((Dt=ze.length)>0){for(var yt,Dt,jt,or=0,Ut=ze[0].length;or<Ut;++or){for(jt=yt=0;yt<Dt;++yt)jt+=ze[yt][or][1]||0;if(jt)for(yt=0;yt<Dt;++yt)ze[yt][or][1]/=jt}Lt(ze,st)}},g.stackOffsetNone=Lt,g.stackOffsetSilhouette=function(ze,st){if((yt=ze.length)>0){for(var yt,Dt=0,jt=ze[st[0]],or=jt.length;Dt<or;++Dt){for(var Ut=0,Xt=0;Ut<yt;++Ut)Xt+=ze[Ut][Dt][1]||0;jt[Dt][1]+=jt[Dt][0]=-Xt/2}Lt(ze,st)}},g.stackOffsetWiggle=function(ze,st){if((jt=ze.length)>0&&(Dt=(yt=ze[st[0]]).length)>0){for(var yt,Dt,jt,or=0,Ut=1;Ut<Dt;++Ut){for(var Xt=0,sr=0,vr=0;Xt<jt;++Xt){for(var pr=ze[st[Xt]],ar=pr[Ut][1]||0,lr=(ar-(pr[Ut-1][1]||0))/2,hr=0;hr<Xt;++hr){var Or=ze[st[hr]];lr+=(Or[Ut][1]||0)-(Or[Ut-1][1]||0)}sr+=ar,vr+=lr*ar}yt[Ut-1][1]+=yt[Ut-1][0]=or,sr&&(or-=vr/sr)}yt[Ut-1][1]+=yt[Ut-1][0]=or,Lt(ze,st)}},g.stackOrderAppearance=pt,g.stackOrderAscending=zt,g.stackOrderDescending=function(ze){return zt(ze).reverse()},g.stackOrderInsideOut=function(ze){var st,yt,Dt=ze.length,jt=ze.map(Gt),or=pt(ze),Ut=0,Xt=0,sr=[],vr=[];for(st=0;st<Dt;++st)yt=or[st],Ut<Xt?(Ut+=jt[yt],sr.push(yt)):(Xt+=jt[yt],vr.push(yt));return vr.reverse().concat(sr)},g.stackOrderNone=Et,g.stackOrderReverse=function(ze){return Et(ze).reverse()},g.symbol=function(){var ze=b(X),st=b(64),yt=null;function Dt(){var jt;if(yt||(yt=jt=m.path()),ze.apply(this,arguments).draw(yt,+st.apply(this,arguments)),jt)return yt=null,jt+""||null}return Dt.type=function(jt){return arguments.length?(ze=typeof jt=="function"?jt:b(jt),Dt):ze},Dt.size=function(jt){return arguments.length?(st=typeof jt=="function"?jt:b(+jt),Dt):st},Dt.context=function(jt){return arguments.length?(yt=jt??null,Dt):yt},Dt},g.symbolCircle=X,g.symbolCross=J,g.symbolDiamond=se,g.symbolSquare=xe,g.symbolStar=de,g.symbolTriangle=be,g.symbolWye=_e,g.symbols=Ae,Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-path":117}],120:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?m(te,y("d3-time")):m((g=g||self).d3=g.d3||{},g.d3)})(this,function(g,m){function b(rt){if(0<=rt.y&&rt.y<100){var et=new Date(-1,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L);return et.setFullYear(rt.y),et}return new Date(rt.y,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L)}function v(rt){if(0<=rt.y&&rt.y<100){var et=new Date(Date.UTC(-1,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L));return et.setUTCFullYear(rt.y),et}return new Date(Date.UTC(rt.y,rt.m,rt.d,rt.H,rt.M,rt.S,rt.L))}function e(rt,et,Tt){return{y:rt,m:et,d:Tt,H:0,M:0,S:0,L:0}}function n(rt){var et=rt.dateTime,Tt=rt.date,Vt=rt.time,Kt=rt.periods,Be=rt.days,qe=rt.shortDays,Re=rt.months,Xe=rt.shortMonths,ke=f(Kt),Le=s(Kt),Ie=f(Be),Ce=s(Be),Je=f(qe),it=s(qe),ht=f(Re),ut=s(Re),kt=f(Xe),ot=s(Xe),Lt={a:function(Gt){return qe[Gt.getDay()]},A:function(Gt){return Be[Gt.getDay()]},b:function(Gt){return Xe[Gt.getMonth()]},B:function(Gt){return Re[Gt.getMonth()]},c:null,d:K,e:K,f:N,H:q,I:W,j:$,L:R,m:U,M:Q,p:function(Gt){return Kt[+(Gt.getHours()>=12)]},q:function(Gt){return 1+~~(Gt.getMonth()/3)},Q:tt,s:lt,S:j,u:X,U:J,V:re,w:ne,W:se,x:null,X:null,y:oe,Y:pe,Z:ce,"%":Ye},Et={a:function(Gt){return qe[Gt.getUTCDay()]},A:function(Gt){return Be[Gt.getUTCDay()]},b:function(Gt){return Xe[Gt.getUTCMonth()]},B:function(Gt){return Re[Gt.getUTCMonth()]},c:null,d:de,e:de,f:fe,H:xe,I:we,j:be,L:Ee,m:me,M:Te,p:function(Gt){return Kt[+(Gt.getUTCHours()>=12)]},q:function(Gt){return 1+~~(Gt.getUTCMonth()/3)},Q:tt,s:lt,S:_e,u:Ae,U:Pe,V:De,w:Ve,W:Qe,x:null,X:null,y:Oe,Y:Ue,Z:Ge,"%":Ye},Ze={a:function(Gt,ze,st){var yt=Je.exec(ze.slice(st));return yt?(Gt.w=it[yt[0].toLowerCase()],st+yt[0].length):-1},A:function(Gt,ze,st){var yt=Ie.exec(ze.slice(st));return yt?(Gt.w=Ce[yt[0].toLowerCase()],st+yt[0].length):-1},b:function(Gt,ze,st){var yt=kt.exec(ze.slice(st));return yt?(Gt.m=ot[yt[0].toLowerCase()],st+yt[0].length):-1},B:function(Gt,ze,st){var yt=ht.exec(ze.slice(st));return yt?(Gt.m=ut[yt[0].toLowerCase()],st+yt[0].length):-1},c:function(Gt,ze,st){return zt(Gt,et,ze,st)},d:A,e:A,f:F,H:P,I:P,j:I,L:D,m:L,M:S,p:function(Gt,ze,st){var yt=ke.exec(ze.slice(st));return yt?(Gt.p=Le[yt[0].toLowerCase()],st+yt[0].length):-1},q:k,Q:V,s:Z,S:E,u:p,U:a,V:x,w:h,W:l,x:function(Gt,ze,st){return zt(Gt,Tt,ze,st)},X:function(Gt,ze,st){return zt(Gt,Vt,ze,st)},y:_,Y:w,Z:T,"%":H};function pt(Gt,ze){return function(st){var yt,Dt,jt,or=[],Ut=-1,Xt=0,sr=Gt.length;for(st instanceof Date||(st=new Date(+st));++Ut<sr;)Gt.charCodeAt(Ut)===37&&(or.push(Gt.slice(Xt,Ut)),(Dt=o[yt=Gt.charAt(++Ut)])!=null?yt=Gt.charAt(++Ut):Dt=yt==="e"?" ":"0",(jt=ze[yt])&&(yt=jt(st,Dt)),or.push(yt),Xt=Ut+1);return or.push(Gt.slice(Xt,Ut)),or.join("")}}function Ct(Gt,ze){return function(st){var yt,Dt,jt=e(1900,void 0,1);if(zt(jt,Gt,st+="",0)!=st.length)return null;if("Q"in jt)return new Date(jt.Q);if("s"in jt)return new Date(1e3*jt.s+("L"in jt?jt.L:0));if(ze&&!("Z"in jt)&&(jt.Z=0),"p"in jt&&(jt.H=jt.H%12+12*jt.p),jt.m===void 0&&(jt.m="q"in jt?jt.q:0),"V"in jt){if(jt.V<1||jt.V>53)return null;"w"in jt||(jt.w=1),"Z"in jt?(Dt=(yt=v(e(jt.y,0,1))).getUTCDay(),yt=Dt>4||Dt===0?m.utcMonday.ceil(yt):m.utcMonday(yt),yt=m.utcDay.offset(yt,7*(jt.V-1)),jt.y=yt.getUTCFullYear(),jt.m=yt.getUTCMonth(),jt.d=yt.getUTCDate()+(jt.w+6)%7):(Dt=(yt=b(e(jt.y,0,1))).getDay(),yt=Dt>4||Dt===0?m.timeMonday.ceil(yt):m.timeMonday(yt),yt=m.timeDay.offset(yt,7*(jt.V-1)),jt.y=yt.getFullYear(),jt.m=yt.getMonth(),jt.d=yt.getDate()+(jt.w+6)%7)}else("W"in jt||"U"in jt)&&("w"in jt||(jt.w="u"in jt?jt.u%7:"W"in jt?1:0),Dt="Z"in jt?v(e(jt.y,0,1)).getUTCDay():b(e(jt.y,0,1)).getDay(),jt.m=0,jt.d="W"in jt?(jt.w+6)%7+7*jt.W-(Dt+5)%7:jt.w+7*jt.U-(Dt+6)%7);return"Z"in jt?(jt.H+=jt.Z/100|0,jt.M+=jt.Z%100,v(jt)):b(jt)}}function zt(Gt,ze,st,yt){for(var Dt,jt,or=0,Ut=ze.length,Xt=st.length;or<Ut;){if(yt>=Xt)return-1;if((Dt=ze.charCodeAt(or++))===37){if(Dt=ze.charAt(or++),!(jt=Ze[Dt in o?ze.charAt(or++):Dt])||(yt=jt(Gt,st,yt))<0)return-1}else if(Dt!=st.charCodeAt(yt++))return-1}return yt}return Lt.x=pt(Tt,Lt),Lt.X=pt(Vt,Lt),Lt.c=pt(et,Lt),Et.x=pt(Tt,Et),Et.X=pt(Vt,Et),Et.c=pt(et,Et),{format:function(Gt){var ze=pt(Gt+="",Lt);return ze.toString=function(){return Gt},ze},parse:function(Gt){var ze=Ct(Gt+="",!1);return ze.toString=function(){return Gt},ze},utcFormat:function(Gt){var ze=pt(Gt+="",Et);return ze.toString=function(){return Gt},ze},utcParse:function(Gt){var ze=Ct(Gt+="",!0);return ze.toString=function(){return Gt},ze}}}var r,o={"-":"",_:" ",0:"0"},t=/^\s*\d+/,d=/^%/,c=/[\\^$*+?|[\]().{}]/g;function i(rt,et,Tt){var Vt=rt<0?"-":"",Kt=(Vt?-rt:rt)+"",Be=Kt.length;return Vt+(Be<Tt?new Array(Tt-Be+1).join(et)+Kt:Kt)}function u(rt){return rt.replace(c,"\\$&")}function f(rt){return new RegExp("^(?:"+rt.map(u).join("|")+")","i")}function s(rt){for(var et={},Tt=-1,Vt=rt.length;++Tt<Vt;)et[rt[Tt].toLowerCase()]=Tt;return et}function h(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+1));return Vt?(rt.w=+Vt[0],Tt+Vt[0].length):-1}function p(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+1));return Vt?(rt.u=+Vt[0],Tt+Vt[0].length):-1}function a(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.U=+Vt[0],Tt+Vt[0].length):-1}function x(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.V=+Vt[0],Tt+Vt[0].length):-1}function l(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.W=+Vt[0],Tt+Vt[0].length):-1}function w(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+4));return Vt?(rt.y=+Vt[0],Tt+Vt[0].length):-1}function _(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.y=+Vt[0]+(+Vt[0]>68?1900:2e3),Tt+Vt[0].length):-1}function T(rt,et,Tt){var Vt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(et.slice(Tt,Tt+6));return Vt?(rt.Z=Vt[1]?0:-(Vt[2]+(Vt[3]||"00")),Tt+Vt[0].length):-1}function k(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+1));return Vt?(rt.q=3*Vt[0]-3,Tt+Vt[0].length):-1}function L(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.m=Vt[0]-1,Tt+Vt[0].length):-1}function A(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.d=+Vt[0],Tt+Vt[0].length):-1}function I(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+3));return Vt?(rt.m=0,rt.d=+Vt[0],Tt+Vt[0].length):-1}function P(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.H=+Vt[0],Tt+Vt[0].length):-1}function S(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.M=+Vt[0],Tt+Vt[0].length):-1}function E(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+2));return Vt?(rt.S=+Vt[0],Tt+Vt[0].length):-1}function D(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+3));return Vt?(rt.L=+Vt[0],Tt+Vt[0].length):-1}function F(rt,et,Tt){var Vt=t.exec(et.slice(Tt,Tt+6));return Vt?(rt.L=Math.floor(Vt[0]/1e3),Tt+Vt[0].length):-1}function H(rt,et,Tt){var Vt=d.exec(et.slice(Tt,Tt+1));return Vt?Tt+Vt[0].length:-1}function V(rt,et,Tt){var Vt=t.exec(et.slice(Tt));return Vt?(rt.Q=+Vt[0],Tt+Vt[0].length):-1}function Z(rt,et,Tt){var Vt=t.exec(et.slice(Tt));return Vt?(rt.s=+Vt[0],Tt+Vt[0].length):-1}function K(rt,et){return i(rt.getDate(),et,2)}function q(rt,et){return i(rt.getHours(),et,2)}function W(rt,et){return i(rt.getHours()%12||12,et,2)}function $(rt,et){return i(1+m.timeDay.count(m.timeYear(rt),rt),et,3)}function R(rt,et){return i(rt.getMilliseconds(),et,3)}function N(rt,et){return R(rt,et)+"000"}function U(rt,et){return i(rt.getMonth()+1,et,2)}function Q(rt,et){return i(rt.getMinutes(),et,2)}function j(rt,et){return i(rt.getSeconds(),et,2)}function X(rt){var et=rt.getDay();return et===0?7:et}function J(rt,et){return i(m.timeSunday.count(m.timeYear(rt)-1,rt),et,2)}function re(rt,et){var Tt=rt.getDay();return rt=Tt>=4||Tt===0?m.timeThursday(rt):m.timeThursday.ceil(rt),i(m.timeThursday.count(m.timeYear(rt),rt)+(m.timeYear(rt).getDay()===4),et,2)}function ne(rt){return rt.getDay()}function se(rt,et){return i(m.timeMonday.count(m.timeYear(rt)-1,rt),et,2)}function oe(rt,et){return i(rt.getFullYear()%100,et,2)}function pe(rt,et){return i(rt.getFullYear()%1e4,et,4)}function ce(rt){var et=rt.getTimezoneOffset();return(et>0?"-":(et*=-1,"+"))+i(et/60|0,"0",2)+i(et%60,"0",2)}function de(rt,et){return i(rt.getUTCDate(),et,2)}function xe(rt,et){return i(rt.getUTCHours(),et,2)}function we(rt,et){return i(rt.getUTCHours()%12||12,et,2)}function be(rt,et){return i(1+m.utcDay.count(m.utcYear(rt),rt),et,3)}function Ee(rt,et){return i(rt.getUTCMilliseconds(),et,3)}function fe(rt,et){return Ee(rt,et)+"000"}function me(rt,et){return i(rt.getUTCMonth()+1,et,2)}function Te(rt,et){return i(rt.getUTCMinutes(),et,2)}function _e(rt,et){return i(rt.getUTCSeconds(),et,2)}function Ae(rt){var et=rt.getUTCDay();return et===0?7:et}function Pe(rt,et){return i(m.utcSunday.count(m.utcYear(rt)-1,rt),et,2)}function De(rt,et){var Tt=rt.getUTCDay();return rt=Tt>=4||Tt===0?m.utcThursday(rt):m.utcThursday.ceil(rt),i(m.utcThursday.count(m.utcYear(rt),rt)+(m.utcYear(rt).getUTCDay()===4),et,2)}function Ve(rt){return rt.getUTCDay()}function Qe(rt,et){return i(m.utcMonday.count(m.utcYear(rt)-1,rt),et,2)}function Oe(rt,et){return i(rt.getUTCFullYear()%100,et,2)}function Ue(rt,et){return i(rt.getUTCFullYear()%1e4,et,4)}function Ge(){return"+0000"}function Ye(){return"%"}function tt(rt){return+rt}function lt(rt){return Math.floor(+rt/1e3)}function vt(rt){return r=n(rt),g.timeFormat=r.format,g.timeParse=r.parse,g.utcFormat=r.utcFormat,g.utcParse=r.utcParse,r}vt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var It=Date.prototype.toISOString?function(rt){return rt.toISOString()}:g.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),St=+new Date("2000-01-01T00:00:00.000Z")?function(rt){var et=new Date(rt);return isNaN(et)?null:et}:g.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");g.isoFormat=It,g.isoParse=St,g.timeFormatDefaultLocale=vt,g.timeFormatLocale=n,Object.defineProperty(g,"__esModule",{value:!0})})},{"d3-time":121}],121:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){var m=new Date,b=new Date;function v(me,Te,_e,Ae){function Pe(De){return me(De=arguments.length===0?new Date:new Date(+De)),De}return Pe.floor=function(De){return me(De=new Date(+De)),De},Pe.ceil=function(De){return me(De=new Date(De-1)),Te(De,1),me(De),De},Pe.round=function(De){var Ve=Pe(De),Qe=Pe.ceil(De);return De-Ve<Qe-De?Ve:Qe},Pe.offset=function(De,Ve){return Te(De=new Date(+De),Ve==null?1:Math.floor(Ve)),De},Pe.range=function(De,Ve,Qe){var Oe,Ue=[];if(De=Pe.ceil(De),Qe=Qe==null?1:Math.floor(Qe),!(De<Ve&&Qe>0))return Ue;do Ue.push(Oe=new Date(+De)),Te(De,Qe),me(De);while(Oe<De&&De<Ve);return Ue},Pe.filter=function(De){return v(function(Ve){if(Ve>=Ve)for(;me(Ve),!De(Ve);)Ve.setTime(Ve-1)},function(Ve,Qe){if(Ve>=Ve)if(Qe<0)for(;++Qe<=0;)for(;Te(Ve,-1),!De(Ve););else for(;--Qe>=0;)for(;Te(Ve,1),!De(Ve););})},_e&&(Pe.count=function(De,Ve){return m.setTime(+De),b.setTime(+Ve),me(m),me(b),Math.floor(_e(m,b))},Pe.every=function(De){return De=Math.floor(De),isFinite(De)&&De>0?De>1?Pe.filter(Ae?function(Ve){return Ae(Ve)%De==0}:function(Ve){return Pe.count(0,Ve)%De==0}):Pe:null}),Pe}var e=v(function(){},function(me,Te){me.setTime(+me+Te)},function(me,Te){return Te-me});e.every=function(me){return me=Math.floor(me),isFinite(me)&&me>0?me>1?v(function(Te){Te.setTime(Math.floor(Te/me)*me)},function(Te,_e){Te.setTime(+Te+_e*me)},function(Te,_e){return(_e-Te)/me}):e:null};var n=e.range,r=v(function(me){me.setTime(me-me.getMilliseconds())},function(me,Te){me.setTime(+me+1e3*Te)},function(me,Te){return(Te-me)/1e3},function(me){return me.getUTCSeconds()}),o=r.range,t=v(function(me){me.setTime(me-me.getMilliseconds()-1e3*me.getSeconds())},function(me,Te){me.setTime(+me+6e4*Te)},function(me,Te){return(Te-me)/6e4},function(me){return me.getMinutes()}),d=t.range,c=v(function(me){me.setTime(me-me.getMilliseconds()-1e3*me.getSeconds()-6e4*me.getMinutes())},function(me,Te){me.setTime(+me+36e5*Te)},function(me,Te){return(Te-me)/36e5},function(me){return me.getHours()}),i=c.range,u=v(function(me){me.setHours(0,0,0,0)},function(me,Te){me.setDate(me.getDate()+Te)},function(me,Te){return(Te-me-6e4*(Te.getTimezoneOffset()-me.getTimezoneOffset()))/864e5},function(me){return me.getDate()-1}),f=u.range;function s(me){return v(function(Te){Te.setDate(Te.getDate()-(Te.getDay()+7-me)%7),Te.setHours(0,0,0,0)},function(Te,_e){Te.setDate(Te.getDate()+7*_e)},function(Te,_e){return(_e-Te-6e4*(_e.getTimezoneOffset()-Te.getTimezoneOffset()))/6048e5})}var h=s(0),p=s(1),a=s(2),x=s(3),l=s(4),w=s(5),_=s(6),T=h.range,k=p.range,L=a.range,A=x.range,I=l.range,P=w.range,S=_.range,E=v(function(me){me.setDate(1),me.setHours(0,0,0,0)},function(me,Te){me.setMonth(me.getMonth()+Te)},function(me,Te){return Te.getMonth()-me.getMonth()+12*(Te.getFullYear()-me.getFullYear())},function(me){return me.getMonth()}),D=E.range,F=v(function(me){me.setMonth(0,1),me.setHours(0,0,0,0)},function(me,Te){me.setFullYear(me.getFullYear()+Te)},function(me,Te){return Te.getFullYear()-me.getFullYear()},function(me){return me.getFullYear()});F.every=function(me){return isFinite(me=Math.floor(me))&&me>0?v(function(Te){Te.setFullYear(Math.floor(Te.getFullYear()/me)*me),Te.setMonth(0,1),Te.setHours(0,0,0,0)},function(Te,_e){Te.setFullYear(Te.getFullYear()+_e*me)}):null};var H=F.range,V=v(function(me){me.setUTCSeconds(0,0)},function(me,Te){me.setTime(+me+6e4*Te)},function(me,Te){return(Te-me)/6e4},function(me){return me.getUTCMinutes()}),Z=V.range,K=v(function(me){me.setUTCMinutes(0,0,0)},function(me,Te){me.setTime(+me+36e5*Te)},function(me,Te){return(Te-me)/36e5},function(me){return me.getUTCHours()}),q=K.range,W=v(function(me){me.setUTCHours(0,0,0,0)},function(me,Te){me.setUTCDate(me.getUTCDate()+Te)},function(me,Te){return(Te-me)/864e5},function(me){return me.getUTCDate()-1}),$=W.range;function R(me){return v(function(Te){Te.setUTCDate(Te.getUTCDate()-(Te.getUTCDay()+7-me)%7),Te.setUTCHours(0,0,0,0)},function(Te,_e){Te.setUTCDate(Te.getUTCDate()+7*_e)},function(Te,_e){return(_e-Te)/6048e5})}var N=R(0),U=R(1),Q=R(2),j=R(3),X=R(4),J=R(5),re=R(6),ne=N.range,se=U.range,oe=Q.range,pe=j.range,ce=X.range,de=J.range,xe=re.range,we=v(function(me){me.setUTCDate(1),me.setUTCHours(0,0,0,0)},function(me,Te){me.setUTCMonth(me.getUTCMonth()+Te)},function(me,Te){return Te.getUTCMonth()-me.getUTCMonth()+12*(Te.getUTCFullYear()-me.getUTCFullYear())},function(me){return me.getUTCMonth()}),be=we.range,Ee=v(function(me){me.setUTCMonth(0,1),me.setUTCHours(0,0,0,0)},function(me,Te){me.setUTCFullYear(me.getUTCFullYear()+Te)},function(me,Te){return Te.getUTCFullYear()-me.getUTCFullYear()},function(me){return me.getUTCFullYear()});Ee.every=function(me){return isFinite(me=Math.floor(me))&&me>0?v(function(Te){Te.setUTCFullYear(Math.floor(Te.getUTCFullYear()/me)*me),Te.setUTCMonth(0,1),Te.setUTCHours(0,0,0,0)},function(Te,_e){Te.setUTCFullYear(Te.getUTCFullYear()+_e*me)}):null};var fe=Ee.range;g.timeDay=u,g.timeDays=f,g.timeFriday=w,g.timeFridays=P,g.timeHour=c,g.timeHours=i,g.timeInterval=v,g.timeMillisecond=e,g.timeMilliseconds=n,g.timeMinute=t,g.timeMinutes=d,g.timeMonday=p,g.timeMondays=k,g.timeMonth=E,g.timeMonths=D,g.timeSaturday=_,g.timeSaturdays=S,g.timeSecond=r,g.timeSeconds=o,g.timeSunday=h,g.timeSundays=T,g.timeThursday=l,g.timeThursdays=I,g.timeTuesday=a,g.timeTuesdays=L,g.timeWednesday=x,g.timeWednesdays=A,g.timeWeek=h,g.timeWeeks=T,g.timeYear=F,g.timeYears=H,g.utcDay=W,g.utcDays=$,g.utcFriday=J,g.utcFridays=de,g.utcHour=K,g.utcHours=q,g.utcMillisecond=e,g.utcMilliseconds=n,g.utcMinute=V,g.utcMinutes=Z,g.utcMonday=U,g.utcMondays=se,g.utcMonth=we,g.utcMonths=be,g.utcSaturday=re,g.utcSaturdays=xe,g.utcSecond=r,g.utcSeconds=o,g.utcSunday=N,g.utcSundays=ne,g.utcThursday=X,g.utcThursdays=ce,g.utcTuesday=Q,g.utcTuesdays=oe,g.utcWednesday=j,g.utcWednesdays=pe,g.utcWeek=N,g.utcWeeks=ne,g.utcYear=Ee,g.utcYears=fe,Object.defineProperty(g,"__esModule",{value:!0})})},{}],122:[function(y,ee,te){arguments[4][121][0].apply(te,arguments)},{dup:121}],123:[function(y,ee,te){(function(g,m){m(typeof te=="object"&&ee!==void 0?te:(g=g||self).d3=g.d3||{})})(this,function(g){var m,b,v=0,e=0,n=0,r=0,o=0,t=0,d=typeof performance=="object"&&performance.now?performance:Date,c=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(l){setTimeout(l,17)};function i(){return o||(c(u),o=d.now()+t)}function u(){o=0}function f(){this._call=this._time=this._next=null}function s(l,w,_){var T=new f;return T.restart(l,w,_),T}function h(){i(),++v;for(var l,w=m;w;)(l=o-w._time)>=0&&w._call.call(null,l),w=w._next;--v}function p(){o=(r=d.now())+t,v=e=0;try{h()}finally{v=0,function(){for(var l,w,_=m,T=1/0;_;)_._call?(T>_._time&&(T=_._time),l=_,_=_._next):(w=_._next,_._next=null,_=l?l._next=w:m=w);b=l,x(T)}(),o=0}}function a(){var l=d.now(),w=l-r;w>1e3&&(t-=w,r=l)}function x(l){v||(e&&(e=clearTimeout(e)),l-o>24?(l<1/0&&(e=setTimeout(p,l-d.now()-t)),n&&(n=clearInterval(n))):(n||(r=d.now(),n=setInterval(a,1e3)),v=1,c(p)))}f.prototype=s.prototype={constructor:f,restart:function(l,w,_){if(typeof l!="function")throw new TypeError("callback is not a function");_=(_==null?i():+_)+(w==null?0:+w),this._next||b===this||(b?b._next=this:m=this,b=this),this._call=l,this._time=_,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}},g.interval=function(l,w,_){var T=new f,k=w;return w==null?(T.restart(l,w,_),T):(w=+w,_=_==null?i():+_,T.restart(function L(A){A+=k,T.restart(L,k+=w,_),l(A)},w,_),T)},g.now=i,g.timeout=function(l,w,_){var T=new f;return w=w==null?0:+w,T.restart(function(k){T.stop(),l(k+w)},w,_),T},g.timer=s,g.timerFlush=h,Object.defineProperty(g,"__esModule",{value:!0})})},{}],124:[function(y,ee,te){ee.exports=function(){for(var g=0;g<arguments.length;g++)if(arguments[g]!==void 0)return arguments[g]}},{}],125:[function(y,ee,te){ee.exports=b;var g=(b.canvas=document.createElement("canvas")).getContext("2d"),m=v([32,126]);function b(e,n){Array.isArray(e)&&(e=e.join(", "));var r,o={},t=16,d=.05;n&&(n.length===2&&typeof n[0]=="number"?r=v(n):Array.isArray(n)?r=n:(n.o?r=v(n.o):n.pairs&&(r=n.pairs),n.fontSize&&(t=n.fontSize),n.threshold!=null&&(d=n.threshold))),r||(r=m),g.font=t+"px "+e;for(var c=0;c<r.length;c++){var i=r[c],u=g.measureText(i[0]).width+g.measureText(i[1]).width,f=g.measureText(i).width;if(Math.abs(u-f)>t*d){var s=(f-u)/t;o[i]=1e3*s}}return o}function v(e){for(var n=[],r=e[0];r<=e[1];r++)for(var o=String.fromCharCode(r),t=e[0];t<e[1];t++){var d=o+String.fromCharCode(t);n.push(d)}return n}b.createPairs=v,b.ascii=m},{}],126:[function(y,ee,te){var g=y("abs-svg-path"),m=y("normalize-svg-path"),b={M:"moveTo",C:"bezierCurveTo"};ee.exports=function(v,e){v.beginPath(),m(g(e)).forEach(function(n){var r=n[0],o=n.slice(1);v[b[r]].apply(v,o)}),v.closePath()}},{"abs-svg-path":70,"normalize-svg-path":246}],127:[function(y,ee,te){ee.exports=function(g){switch(g){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},{}],128:[function(y,ee,te){ee.exports=function(g,m){switch(m===void 0&&(m=0),typeof g){case"number":if(g>0)return function(b,v){var e,n;for(e=new Array(b),n=0;n<b;++n)e[n]=v;return e}(0|g,m);break;case"object":if(typeof g.length=="number")return function b(v,e,n){var r=0|v[n];if(r<=0)return[];var o,t=new Array(r);if(n===v.length-1)for(o=0;o<r;++o)t[o]=e;else for(o=0;o<r;++o)t[o]=b(v,e,n+1);return t}(g,m,0)}return[]}},{}],129:[function(y,ee,te){function g(I,P,S){S=S||2;var E,D,F,H,V,Z,K,q=P&&P.length,W=q?P[0]*S:I.length,$=m(I,0,W,S,!0),R=[];if(!$||$.next===$.prev)return R;if(q&&($=function(U,Q,j,X){var J,re,ne,se,oe,pe=[];for(J=0,re=Q.length;J<re;J++)ne=Q[J]*X,se=J<re-1?Q[J+1]*X:U.length,(oe=m(U,ne,se,X,!1))===oe.next&&(oe.steiner=!0),pe.push(u(oe));for(pe.sort(t),J=0;J<pe.length;J++)d(pe[J],j),j=b(j,j.next);return j}(I,P,$,S)),I.length>80*S){E=F=I[0],D=H=I[1];for(var N=S;N<W;N+=S)(V=I[N])<E&&(E=V),(Z=I[N+1])<D&&(D=Z),V>F&&(F=V),Z>H&&(H=Z);K=(K=Math.max(F-E,H-D))!==0?1/K:0}return v($,R,S,E,D,K),R}function m(I,P,S,E,D){var F,H;if(D===A(I,P,S,E)>0)for(F=P;F<S;F+=E)H=T(F,I[F],I[F+1],H);else for(F=S-E;F>=P;F-=E)H=T(F,I[F],I[F+1],H);return H&&p(H,H.next)&&(k(H),H=H.next),H}function b(I,P){if(!I)return I;P||(P=I);var S,E=I;do if(S=!1,E.steiner||!p(E,E.next)&&h(E.prev,E,E.next)!==0)E=E.next;else{if(k(E),(E=P=E.prev)===E.next)break;S=!0}while(S||E!==P);return P}function v(I,P,S,E,D,F,H){if(I){!H&&F&&function(q,W,$,R){var N=q;do N.z===null&&(N.z=i(N.x,N.y,W,$,R)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==q);N.prevZ.nextZ=null,N.prevZ=null,function(U){var Q,j,X,J,re,ne,se,oe,pe=1;do{for(j=U,U=null,re=null,ne=0;j;){for(ne++,X=j,se=0,Q=0;Q<pe&&(se++,X=X.nextZ);Q++);for(oe=pe;se>0||oe>0&&X;)se!==0&&(oe===0||!X||j.z<=X.z)?(J=j,j=j.nextZ,se--):(J=X,X=X.nextZ,oe--),re?re.nextZ=J:U=J,J.prevZ=re,re=J;j=X}re.nextZ=null,pe*=2}while(ne>1)}(N)}(I,E,D,F);for(var V,Z,K=I;I.prev!==I.next;)if(V=I.prev,Z=I.next,F?n(I,E,D,F):e(I))P.push(V.i/S),P.push(I.i/S),P.push(Z.i/S),k(I),I=Z.next,K=Z.next;else if((I=Z)===K){H?H===1?v(I=r(b(I),P,S),P,S,E,D,F,2):H===2&&o(I,P,S,E,D,F):v(b(I),P,S,E,D,F,1);break}}}function e(I){var P=I.prev,S=I,E=I.next;if(h(P,S,E)>=0)return!1;for(var D=I.next.next;D!==I.prev;){if(f(P.x,P.y,S.x,S.y,E.x,E.y,D.x,D.y)&&h(D.prev,D,D.next)>=0)return!1;D=D.next}return!0}function n(I,P,S,E){var D=I.prev,F=I,H=I.next;if(h(D,F,H)>=0)return!1;for(var V=D.x<F.x?D.x<H.x?D.x:H.x:F.x<H.x?F.x:H.x,Z=D.y<F.y?D.y<H.y?D.y:H.y:F.y<H.y?F.y:H.y,K=D.x>F.x?D.x>H.x?D.x:H.x:F.x>H.x?F.x:H.x,q=D.y>F.y?D.y>H.y?D.y:H.y:F.y>H.y?F.y:H.y,W=i(V,Z,P,S,E),$=i(K,q,P,S,E),R=I.prevZ,N=I.nextZ;R&&R.z>=W&&N&&N.z<=$;){if(R!==I.prev&&R!==I.next&&f(D.x,D.y,F.x,F.y,H.x,H.y,R.x,R.y)&&h(R.prev,R,R.next)>=0||(R=R.prevZ,N!==I.prev&&N!==I.next&&f(D.x,D.y,F.x,F.y,H.x,H.y,N.x,N.y)&&h(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;R&&R.z>=W;){if(R!==I.prev&&R!==I.next&&f(D.x,D.y,F.x,F.y,H.x,H.y,R.x,R.y)&&h(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;N&&N.z<=$;){if(N!==I.prev&&N!==I.next&&f(D.x,D.y,F.x,F.y,H.x,H.y,N.x,N.y)&&h(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function r(I,P,S){var E=I;do{var D=E.prev,F=E.next.next;!p(D,F)&&a(D,E,E.next,F)&&w(D,F)&&w(F,D)&&(P.push(D.i/S),P.push(E.i/S),P.push(F.i/S),k(E),k(E.next),E=I=F),E=E.next}while(E!==I);return b(E)}function o(I,P,S,E,D,F){var H=I;do{for(var V=H.next.next;V!==H.prev;){if(H.i!==V.i&&s(H,V)){var Z=_(H,V);return H=b(H,H.next),Z=b(Z,Z.next),v(H,P,S,E,D,F),void v(Z,P,S,E,D,F)}V=V.next}H=H.next}while(H!==I)}function t(I,P){return I.x-P.x}function d(I,P){if(P=function(E,D){var F,H=D,V=E.x,Z=E.y,K=-1/0;do{if(Z<=H.y&&Z>=H.next.y&&H.next.y!==H.y){var q=H.x+(Z-H.y)*(H.next.x-H.x)/(H.next.y-H.y);if(q<=V&&q>K){if(K=q,q===V){if(Z===H.y)return H;if(Z===H.next.y)return H.next}F=H.x<H.next.x?H:H.next}}H=H.next}while(H!==D);if(!F)return null;if(V===K)return F;var W,$=F,R=F.x,N=F.y,U=1/0;H=F;do V>=H.x&&H.x>=R&&V!==H.x&&f(Z<N?V:K,Z,R,N,Z<N?K:V,Z,H.x,H.y)&&(W=Math.abs(Z-H.y)/(V-H.x),w(H,E)&&(W<U||W===U&&(H.x>F.x||H.x===F.x&&c(F,H)))&&(F=H,U=W)),H=H.next;while(H!==$);return F}(I,P)){var S=_(P,I);b(P,P.next),b(S,S.next)}}function c(I,P){return h(I.prev,I,P.prev)<0&&h(P.next,I,I.next)<0}function i(I,P,S,E,D){return(I=1431655765&((I=858993459&((I=252645135&((I=16711935&((I=32767*(I-S)*D)|I<<8))|I<<4))|I<<2))|I<<1))|(P=1431655765&((P=858993459&((P=252645135&((P=16711935&((P=32767*(P-E)*D)|P<<8))|P<<4))|P<<2))|P<<1))<<1}function u(I){var P=I,S=I;do(P.x<S.x||P.x===S.x&&P.y<S.y)&&(S=P),P=P.next;while(P!==I);return S}function f(I,P,S,E,D,F,H,V){return(D-H)*(P-V)-(I-H)*(F-V)>=0&&(I-H)*(E-V)-(S-H)*(P-V)>=0&&(S-H)*(F-V)-(D-H)*(E-V)>=0}function s(I,P){return I.next.i!==P.i&&I.prev.i!==P.i&&!function(S,E){var D=S;do{if(D.i!==S.i&&D.next.i!==S.i&&D.i!==E.i&&D.next.i!==E.i&&a(D,D.next,S,E))return!0;D=D.next}while(D!==S);return!1}(I,P)&&(w(I,P)&&w(P,I)&&function(S,E){var D=S,F=!1,H=(S.x+E.x)/2,V=(S.y+E.y)/2;do D.y>V!=D.next.y>V&&D.next.y!==D.y&&H<(D.next.x-D.x)*(V-D.y)/(D.next.y-D.y)+D.x&&(F=!F),D=D.next;while(D!==S);return F}(I,P)&&(h(I.prev,I,P.prev)||h(I,P.prev,P))||p(I,P)&&h(I.prev,I,I.next)>0&&h(P.prev,P,P.next)>0)}function h(I,P,S){return(P.y-I.y)*(S.x-P.x)-(P.x-I.x)*(S.y-P.y)}function p(I,P){return I.x===P.x&&I.y===P.y}function a(I,P,S,E){var D=l(h(I,P,S)),F=l(h(I,P,E)),H=l(h(S,E,I)),V=l(h(S,E,P));return D!==F&&H!==V||!(D!==0||!x(I,S,P))||!(F!==0||!x(I,E,P))||!(H!==0||!x(S,I,E))||!(V!==0||!x(S,P,E))}function x(I,P,S){return P.x<=Math.max(I.x,S.x)&&P.x>=Math.min(I.x,S.x)&&P.y<=Math.max(I.y,S.y)&&P.y>=Math.min(I.y,S.y)}function l(I){return I>0?1:I<0?-1:0}function w(I,P){return h(I.prev,I,I.next)<0?h(I,P,I.next)>=0&&h(I,I.prev,P)>=0:h(I,P,I.prev)<0||h(I,I.next,P)<0}function _(I,P){var S=new L(I.i,I.x,I.y),E=new L(P.i,P.x,P.y),D=I.next,F=P.prev;return I.next=P,P.prev=I,S.next=D,D.prev=S,E.next=S,S.prev=E,F.next=E,E.prev=F,E}function T(I,P,S,E){var D=new L(I,P,S);return E?(D.next=E.next,D.prev=E,E.next.prev=D,E.next=D):(D.prev=D,D.next=D),D}function k(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function L(I,P,S){this.i=I,this.x=P,this.y=S,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(I,P,S,E){for(var D=0,F=P,H=S-E;F<S;F+=E)D+=(I[H]-I[F])*(I[F+1]+I[H+1]),H=F;return D}ee.exports=g,ee.exports.default=g,g.deviation=function(I,P,S,E){var D=P&&P.length,F=D?P[0]*S:I.length,H=Math.abs(A(I,0,F,S));if(D)for(var V=0,Z=P.length;V<Z;V++){var K=P[V]*S,q=V<Z-1?P[V+1]*S:I.length;H-=Math.abs(A(I,K,q,S))}var W=0;for(V=0;V<E.length;V+=3){var $=E[V]*S,R=E[V+1]*S,N=E[V+2]*S;W+=Math.abs((I[$]-I[N])*(I[R+1]-I[$+1])-(I[$]-I[R])*(I[N+1]-I[$+1]))}return H===0&&W===0?0:Math.abs((W-H)/H)},g.flatten=function(I){for(var P=I[0][0].length,S={vertices:[],holes:[],dimensions:P},E=0,D=0;D<I.length;D++){for(var F=0;F<I[D].length;F++)for(var H=0;H<P;H++)S.vertices.push(I[D][F][H]);D>0&&(E+=I[D-1].length,S.holes.push(E))}return S}},{}],130:[function(y,ee,te){var g=y("strongly-connected-components");ee.exports=function(m,b){var v,e=[],n=[],r=[],o={},t=[];function d(a){var x,l,w=!1;for(n.push(a),r[a]=!0,x=0;x<t[a].length;x++)(l=t[a][x])===v?(c(v,n),w=!0):r[l]||(w=d(l));if(w)(function T(k){r[k]=!1,o.hasOwnProperty(k)&&Object.keys(o[k]).forEach(function(L){delete o[k][L],r[L]&&T(L)})})(a);else for(x=0;x<t[a].length;x++){l=t[a][x];var _=o[l];_||(_={},o[l]=_),_[l]=!0}return n.pop(),w}function c(a,x){var l=[].concat(x).concat(a);b?b(d):e.push(l)}function i(a){(function(L){for(var A=0;A<m.length;A++)A<L&&(m[A]=[]),m[A]=m[A].filter(function(I){return I>=L})})(a);for(var x,l=g(m).components.filter(function(L){return L.length>1}),w=1/0,_=0;_<l.length;_++)for(var T=0;T<l[_].length;T++)l[_][T]<w&&(w=l[_][T],x=_);var k=l[x];return!!k&&{leastVertex:w,adjList:m.map(function(L,A){return k.indexOf(A)===-1?[]:L.filter(function(I){return k.indexOf(I)!==-1})})}}v=0;for(var u=m.length;v<u;){var f=i(v);if(v=f.leastVertex,t=f.adjList){for(var s=0;s<t.length;s++)for(var h=0;h<t[s].length;h++){var p=t[s][h];r[+p]=!1,o[p]={}}d(v),v+=1}else v=u}return b?void 0:e}},{"strongly-connected-components":306}],131:[function(y,ee,te){var g=y("../../object/valid-value");ee.exports=function(){return g(this).length=0,this}},{"../../object/valid-value":162}],132:[function(y,ee,te){ee.exports=y("./is-implemented")()?Array.from:y("./shim")},{"./is-implemented":133,"./shim":134}],133:[function(y,ee,te){ee.exports=function(){var g,m,b=Array.from;return typeof b=="function"&&(m=b(g=["raz","dwa"]),!!(m&&m!==g&&m[1]==="dwa"))}},{}],134:[function(y,ee,te){var g=y("es6-symbol").iterator,m=y("../../function/is-arguments"),b=y("../../function/is-function"),v=y("../../number/to-pos-integer"),e=y("../../object/valid-callable"),n=y("../../object/valid-value"),r=y("../../object/is-value"),o=y("../../string/is-string"),t=Array.isArray,d=Function.prototype.call,c={configurable:!0,enumerable:!0,writable:!0,value:null},i=Object.defineProperty;ee.exports=function(u){var f,s,h,p,a,x,l,w,_,T,k=arguments[1],L=arguments[2];if(u=Object(n(u)),r(k)&&e(k),this&&this!==Array&&b(this))f=this;else{if(!k){if(m(u))return(a=u.length)!==1?Array.apply(null,u):((p=new Array(1))[0]=u[0],p);if(t(u)){for(p=new Array(a=u.length),s=0;s<a;++s)p[s]=u[s];return p}}p=[]}if(!t(u)){if((_=u[g])!==void 0){for(l=e(_).call(u),f&&(p=new f),w=l.next(),s=0;!w.done;)T=k?d.call(k,L,w.value,s):w.value,f?(c.value=T,i(p,s,c)):p[s]=T,w=l.next(),++s;a=s}else if(o(u)){for(a=u.length,f&&(p=new f),s=0,h=0;s<a;++s)T=u[s],s+1<a&&(x=T.charCodeAt(0))>=55296&&x<=56319&&(T+=u[++s]),T=k?d.call(k,L,T,h):T,f?(c.value=T,i(p,h,c)):p[h]=T,++h;a=h}}if(a===void 0)for(a=v(u.length),f&&(p=new f(a)),s=0;s<a;++s)T=k?d.call(k,L,u[s],s):u[s],f?(c.value=T,i(p,s,c)):p[s]=T;return f&&(c.value=null,p.length=a),p}},{"../../function/is-arguments":135,"../../function/is-function":136,"../../number/to-pos-integer":142,"../../object/is-value":151,"../../object/valid-callable":160,"../../object/valid-value":162,"../../string/is-string":166,"es6-symbol":175}],135:[function(y,ee,te){var g=Object.prototype.toString,m=g.call(function(){return arguments}());ee.exports=function(b){return g.call(b)===m}},{}],136:[function(y,ee,te){var g=Object.prototype.toString,m=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);ee.exports=function(b){return typeof b=="function"&&m(g.call(b))}},{}],137:[function(y,ee,te){ee.exports=function(){}},{}],138:[function(y,ee,te){ee.exports=y("./is-implemented")()?Math.sign:y("./shim")},{"./is-implemented":139,"./shim":140}],139:[function(y,ee,te){ee.exports=function(){var g=Math.sign;return typeof g=="function"&&g(10)===1&&g(-20)===-1}},{}],140:[function(y,ee,te){ee.exports=function(g){return g=Number(g),isNaN(g)||g===0?g:g>0?1:-1}},{}],141:[function(y,ee,te){var g=y("../math/sign"),m=Math.abs,b=Math.floor;ee.exports=function(v){return isNaN(v)?0:(v=Number(v))!==0&&isFinite(v)?g(v)*b(m(v)):v}},{"../math/sign":138}],142:[function(y,ee,te){var g=y("./to-integer"),m=Math.max;ee.exports=function(b){return m(0,g(b))}},{"./to-integer":141}],143:[function(y,ee,te){var g=y("./valid-callable"),m=y("./valid-value"),b=Function.prototype.bind,v=Function.prototype.call,e=Object.keys,n=Object.prototype.propertyIsEnumerable;ee.exports=function(r,o){return function(t,d){var c,i=arguments[2],u=arguments[3];return t=Object(m(t)),g(d),c=e(t),u&&c.sort(typeof u=="function"?b.call(u,t):void 0),typeof r!="function"&&(r=c[r]),v.call(r,c,function(f,s){return n.call(t,f)?v.call(d,i,t[f],f,t,s):o})}}},{"./valid-callable":160,"./valid-value":162}],144:[function(y,ee,te){ee.exports=y("./is-implemented")()?Object.assign:y("./shim")},{"./is-implemented":145,"./shim":146}],145:[function(y,ee,te){ee.exports=function(){var g,m=Object.assign;return typeof m=="function"&&(m(g={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),g.foo+g.bar+g.trzy==="razdwatrzy")}},{}],146:[function(y,ee,te){var g=y("../keys"),m=y("../valid-value"),b=Math.max;ee.exports=function(v,e){var n,r,o,t=b(arguments.length,2);for(v=Object(m(v)),o=function(d){try{v[d]=e[d]}catch(c){n||(n=c)}},r=1;r<t;++r)g(e=arguments[r]).forEach(o);if(n!==void 0)throw n;return v}},{"../keys":152,"../valid-value":162}],147:[function(y,ee,te){var g=y("../array/from"),m=y("./assign"),b=y("./valid-value");ee.exports=function(v){var e=Object(b(v)),n=arguments[1],r=Object(arguments[2]);if(e!==v&&!n)return e;var o={};return n?g(n,function(t){(r.ensure||t in v)&&(o[t]=v[t])}):m(o,v),o}},{"../array/from":132,"./assign":144,"./valid-value":162}],148:[function(y,ee,te){var g,m,b,v,e=Object.create;y("./set-prototype-of/is-implemented")()||(g=y("./set-prototype-of/shim")),ee.exports=g?g.level!==1?e:(m={},b={},v={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(n){b[n]=n!=="__proto__"?v:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(m,b),Object.defineProperty(g,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:m}),function(n,r){return e(n===null?m:n,r)}):e},{"./set-prototype-of/is-implemented":158,"./set-prototype-of/shim":159}],149:[function(y,ee,te){ee.exports=y("./_iterate")("forEach")},{"./_iterate":143}],150:[function(y,ee,te){var g=y("./is-value"),m={function:!0,object:!0};ee.exports=function(b){return g(b)&&m[typeof b]||!1}},{"./is-value":151}],151:[function(y,ee,te){var g=y("../function/noop")();ee.exports=function(m){return m!==g&&m!==null}},{"../function/noop":137}],152:[function(y,ee,te){ee.exports=y("./is-implemented")()?Object.keys:y("./shim")},{"./is-implemented":153,"./shim":154}],153:[function(y,ee,te){ee.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},{}],154:[function(y,ee,te){var g=y("../is-value"),m=Object.keys;ee.exports=function(b){return m(g(b)?Object(b):b)}},{"../is-value":151}],155:[function(y,ee,te){var g=y("./valid-callable"),m=y("./for-each"),b=Function.prototype.call;ee.exports=function(v,e){var n={},r=arguments[2];return g(e),m(v,function(o,t,d,c){n[t]=b.call(e,r,o,t,d,c)}),n}},{"./for-each":149,"./valid-callable":160}],156:[function(y,ee,te){var g=y("./is-value"),m=Array.prototype.forEach,b=Object.create,v=function(e,n){var r;for(r in e)n[r]=e[r]};ee.exports=function(e){var n=b(null);return m.call(arguments,function(r){g(r)&&v(Object(r),n)}),n}},{"./is-value":151}],157:[function(y,ee,te){ee.exports=y("./is-implemented")()?Object.setPrototypeOf:y("./shim")},{"./is-implemented":158,"./shim":159}],158:[function(y,ee,te){var g=Object.create,m=Object.getPrototypeOf,b={};ee.exports=function(){var v=Object.setPrototypeOf,e=arguments[0]||g;return typeof v=="function"&&m(v(e(null),b))===b}},{}],159:[function(y,ee,te){var g,m=y("../is-object"),b=y("../valid-value"),v=Object.prototype.isPrototypeOf,e=Object.defineProperty,n={configurable:!0,enumerable:!1,writable:!0,value:void 0};g=function(r,o){if(b(r),o===null||m(o))return r;throw new TypeError("Prototype must be null or an object")},ee.exports=function(r){var o,t;return r?(r.level===2?r.set?(t=r.set,o=function(d,c){return t.call(g(d,c),c),d}):o=function(d,c){return g(d,c).__proto__=c,d}:o=function d(c,i){var u;return g(c,i),(u=v.call(d.nullPolyfill,c))&&delete d.nullPolyfill.__proto__,i===null&&(i=d.nullPolyfill),c.__proto__=i,u&&e(d.nullPolyfill,"__proto__",n),c},Object.defineProperty(o,"level",{configurable:!1,enumerable:!1,writable:!1,value:r.level})):null}(function(){var r,o=Object.create(null),t={},d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(d){try{(r=d.set).call(o,t)}catch{}if(Object.getPrototypeOf(o)===t)return{set:r,level:2}}return o.__proto__=t,Object.getPrototypeOf(o)===t?{level:2}:((o={}).__proto__=t,Object.getPrototypeOf(o)===t&&{level:1})}()),y("../create")},{"../create":148,"../is-object":150,"../valid-value":162}],160:[function(y,ee,te){ee.exports=function(g){if(typeof g!="function")throw new TypeError(g+" is not a function");return g}},{}],161:[function(y,ee,te){var g=y("./is-object");ee.exports=function(m){if(!g(m))throw new TypeError(m+" is not an Object");return m}},{"./is-object":150}],162:[function(y,ee,te){var g=y("./is-value");ee.exports=function(m){if(!g(m))throw new TypeError("Cannot use null or undefined");return m}},{"./is-value":151}],163:[function(y,ee,te){ee.exports=y("./is-implemented")()?String.prototype.contains:y("./shim")},{"./is-implemented":164,"./shim":165}],164:[function(y,ee,te){var g="razdwatrzy";ee.exports=function(){return typeof g.contains=="function"&&g.contains("dwa")===!0&&g.contains("foo")===!1}},{}],165:[function(y,ee,te){var g=String.prototype.indexOf;ee.exports=function(m){return g.call(this,m,arguments[1])>-1}},{}],166:[function(y,ee,te){var g=Object.prototype.toString,m=g.call("");ee.exports=function(b){return typeof b=="string"||b&&typeof b=="object"&&(b instanceof String||g.call(b)===m)||!1}},{}],167:[function(y,ee,te){var g=Object.create(null),m=Math.random;ee.exports=function(){var b;do b=m().toString(36).slice(2);while(g[b]);return b}},{}],168:[function(y,ee,te){var g,m=y("es5-ext/object/set-prototype-of"),b=y("es5-ext/string/#/contains"),v=y("d"),e=y("es6-symbol"),n=y("./"),r=Object.defineProperty;g=ee.exports=function(o,t){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");n.call(this,o),t=t?b.call(t,"key+value")?"key+value":b.call(t,"key")?"key":"value":"value",r(this,"__kind__",v("",t))},m&&m(g,n),delete g.prototype.constructor,g.prototype=Object.create(n.prototype,{_resolve:v(function(o){return this.__kind__==="value"?this.__list__[o]:this.__kind__==="key+value"?[o,this.__list__[o]]:o})}),r(g.prototype,e.toStringTag,v("c","Array Iterator"))},{"./":171,d:106,"es5-ext/object/set-prototype-of":157,"es5-ext/string/#/contains":163,"es6-symbol":175}],169:[function(y,ee,te){var g=y("es5-ext/function/is-arguments"),m=y("es5-ext/object/valid-callable"),b=y("es5-ext/string/is-string"),v=y("./get"),e=Array.isArray,n=Function.prototype.call,r=Array.prototype.some;ee.exports=function(o,t){var d,c,i,u,f,s,h,p,a=arguments[2];if(e(o)||g(o)?d="array":b(o)?d="string":o=v(o),m(t),i=function(){u=!0},d!=="array")if(d!=="string")for(c=o.next();!c.done;){if(n.call(t,a,c.value,i),u)return;c=o.next()}else for(s=o.length,f=0;f<s&&(h=o[f],f+1<s&&(p=h.charCodeAt(0))>=55296&&p<=56319&&(h+=o[++f]),n.call(t,a,h,i),!u);++f);else r.call(o,function(x){return n.call(t,a,x,i),u})}},{"./get":170,"es5-ext/function/is-arguments":135,"es5-ext/object/valid-callable":160,"es5-ext/string/is-string":166}],170:[function(y,ee,te){var g=y("es5-ext/function/is-arguments"),m=y("es5-ext/string/is-string"),b=y("./array"),v=y("./string"),e=y("./valid-iterable"),n=y("es6-symbol").iterator;ee.exports=function(r){return typeof e(r)[n]=="function"?r[n]():g(r)?new b(r):m(r)?new v(r):new b(r)}},{"./array":168,"./string":173,"./valid-iterable":174,"es5-ext/function/is-arguments":135,"es5-ext/string/is-string":166,"es6-symbol":175}],171:[function(y,ee,te){var g,m=y("es5-ext/array/#/clear"),b=y("es5-ext/object/assign"),v=y("es5-ext/object/valid-callable"),e=y("es5-ext/object/valid-value"),n=y("d"),r=y("d/auto-bind"),o=y("es6-symbol"),t=Object.defineProperty,d=Object.defineProperties;ee.exports=g=function(c,i){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");d(this,{__list__:n("w",e(c)),__context__:n("w",i),__nextIndex__:n("w",0)}),i&&(v(i.on),i.on("_add",this._onAdd),i.on("_delete",this._onDelete),i.on("_clear",this._onClear))},delete g.prototype.constructor,d(g.prototype,b({_next:n(function(){var c;if(this.__list__)return this.__redo__&&(c=this.__redo__.shift())!==void 0?c:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:n(function(){return this._createResult(this._next())}),_createResult:n(function(c){return c===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(c)}}),_resolve:n(function(c){return this.__list__[c]}),_unBind:n(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:n(function(){return"[object "+(this[o.toStringTag]||"Object")+"]"})},r({_onAdd:n(function(c){c>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(i,u){i>=c&&(this.__redo__[u]=++i)},this),this.__redo__.push(c)):t(this,"__redo__",n("c",[c])))}),_onDelete:n(function(c){var i;c>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((i=this.__redo__.indexOf(c))!==-1&&this.__redo__.splice(i,1),this.__redo__.forEach(function(u,f){u>c&&(this.__redo__[f]=--u)},this)))}),_onClear:n(function(){this.__redo__&&m.call(this.__redo__),this.__nextIndex__=0})}))),t(g.prototype,o.iterator,n(function(){return this}))},{d:106,"d/auto-bind":105,"es5-ext/array/#/clear":131,"es5-ext/object/assign":144,"es5-ext/object/valid-callable":160,"es5-ext/object/valid-value":162,"es6-symbol":175}],172:[function(y,ee,te){var g=y("es5-ext/function/is-arguments"),m=y("es5-ext/object/is-value"),b=y("es5-ext/string/is-string"),v=y("es6-symbol").iterator,e=Array.isArray;ee.exports=function(n){return!!m(n)&&(!!e(n)||!!b(n)||!!g(n)||typeof n[v]=="function")}},{"es5-ext/function/is-arguments":135,"es5-ext/object/is-value":151,"es5-ext/string/is-string":166,"es6-symbol":175}],173:[function(y,ee,te){var g,m=y("es5-ext/object/set-prototype-of"),b=y("d"),v=y("es6-symbol"),e=y("./"),n=Object.defineProperty;g=ee.exports=function(r){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");r=String(r),e.call(this,r),n(this,"__length__",b("",r.length))},m&&m(g,e),delete g.prototype.constructor,g.prototype=Object.create(e.prototype,{_next:b(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:b(function(r){var o,t=this.__list__[r];return this.__nextIndex__===this.__length__?t:(o=t.charCodeAt(0))>=55296&&o<=56319?t+this.__list__[this.__nextIndex__++]:t})}),n(g.prototype,v.toStringTag,b("c","String Iterator"))},{"./":171,d:106,"es5-ext/object/set-prototype-of":157,"es6-symbol":175}],174:[function(y,ee,te){var g=y("./is-iterable");ee.exports=function(m){if(!g(m))throw new TypeError(m+" is not iterable");return m}},{"./is-iterable":172}],175:[function(y,ee,te){ee.exports=y("./is-implemented")()?y("ext/global-this").Symbol:y("./polyfill")},{"./is-implemented":176,"./polyfill":181,"ext/global-this":188}],176:[function(y,ee,te){var g=y("ext/global-this"),m={object:!0,symbol:!0};ee.exports=function(){var b,v=g.Symbol;if(typeof v!="function")return!1;b=v("test symbol");try{String(b)}catch{return!1}return!!m[typeof v.iterator]&&!!m[typeof v.toPrimitive]&&!!m[typeof v.toStringTag]}},{"ext/global-this":188}],177:[function(y,ee,te){ee.exports=function(g){return!!g&&(typeof g=="symbol"||!!g.constructor&&g.constructor.name==="Symbol"&&g[g.constructor.toStringTag]==="Symbol")}},{}],178:[function(y,ee,te){var g=y("d"),m=Object.create,b=Object.defineProperty,v=Object.prototype,e=m(null);ee.exports=function(n){for(var r,o,t=0;e[n+(t||"")];)++t;return e[n+=t||""]=!0,b(v,r="@@"+n,g.gs(null,function(d){o||(o=!0,b(this,r,g(d)),o=!1)})),r}},{d:106}],179:[function(y,ee,te){var g=y("d"),m=y("ext/global-this").Symbol;ee.exports=function(b){return Object.defineProperties(b,{hasInstance:g("",m&&m.hasInstance||b("hasInstance")),isConcatSpreadable:g("",m&&m.isConcatSpreadable||b("isConcatSpreadable")),iterator:g("",m&&m.iterator||b("iterator")),match:g("",m&&m.match||b("match")),replace:g("",m&&m.replace||b("replace")),search:g("",m&&m.search||b("search")),species:g("",m&&m.species||b("species")),split:g("",m&&m.split||b("split")),toPrimitive:g("",m&&m.toPrimitive||b("toPrimitive")),toStringTag:g("",m&&m.toStringTag||b("toStringTag")),unscopables:g("",m&&m.unscopables||b("unscopables"))})}},{d:106,"ext/global-this":188}],180:[function(y,ee,te){var g=y("d"),m=y("../../../validate-symbol"),b=Object.create(null);ee.exports=function(v){return Object.defineProperties(v,{for:g(function(e){return b[e]?b[e]:b[e]=v(String(e))}),keyFor:g(function(e){var n;for(n in m(e),b)if(b[n]===e)return n})})}},{"../../../validate-symbol":182,d:106}],181:[function(y,ee,te){var g,m,b,v=y("d"),e=y("./validate-symbol"),n=y("ext/global-this").Symbol,r=y("./lib/private/generate-name"),o=y("./lib/private/setup/standard-symbols"),t=y("./lib/private/setup/symbol-registry"),d=Object.create,c=Object.defineProperties,i=Object.defineProperty;if(typeof n=="function")try{String(n()),b=!0}catch{}else n=null;m=function(u){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return g(u)},ee.exports=g=function u(f){var s;if(this instanceof u)throw new TypeError("Symbol is not a constructor");return b?n(f):(s=d(m.prototype),f=f===void 0?"":String(f),c(s,{__description__:v("",f),__name__:v("",r(f))}))},o(g),t(g),c(m.prototype,{constructor:v(g),toString:v("",function(){return this.__name__})}),c(g.prototype,{toString:v(function(){return"Symbol ("+e(this).__description__+")"}),valueOf:v(function(){return e(this)})}),i(g.prototype,g.toPrimitive,v("",function(){var u=e(this);return typeof u=="symbol"?u:u.toString()})),i(g.prototype,g.toStringTag,v("c","Symbol")),i(m.prototype,g.toStringTag,v("c",g.prototype[g.toStringTag])),i(m.prototype,g.toPrimitive,v("c",g.prototype[g.toPrimitive]))},{"./lib/private/generate-name":178,"./lib/private/setup/standard-symbols":179,"./lib/private/setup/symbol-registry":180,"./validate-symbol":182,d:106,"ext/global-this":188}],182:[function(y,ee,te){var g=y("./is-symbol");ee.exports=function(m){if(!g(m))throw new TypeError(m+" is not a symbol");return m}},{"./is-symbol":177}],183:[function(y,ee,te){ee.exports=y("./is-implemented")()?WeakMap:y("./polyfill")},{"./is-implemented":184,"./polyfill":186}],184:[function(y,ee,te){ee.exports=function(){var g,m;if(typeof WeakMap!="function")return!1;try{g=new WeakMap([[m={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(g)==="[object WeakMap]"&&typeof g.set=="function"&&g.set({},1)===g&&typeof g.delete=="function"&&typeof g.has=="function"&&g.get(m)==="one"}},{}],185:[function(y,ee,te){ee.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},{}],186:[function(y,ee,te){var g,m=y("es5-ext/object/is-value"),b=y("es5-ext/object/set-prototype-of"),v=y("es5-ext/object/valid-object"),e=y("es5-ext/object/valid-value"),n=y("es5-ext/string/random-uniq"),r=y("d"),o=y("es6-iterator/get"),t=y("es6-iterator/for-of"),d=y("es6-symbol").toStringTag,c=y("./is-native-implemented"),i=Array.isArray,u=Object.defineProperty,f=Object.prototype.hasOwnProperty,s=Object.getPrototypeOf;ee.exports=g=function(){var h,p=arguments[0];if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");return h=c&&b&&WeakMap!==g?b(new WeakMap,s(this)):this,m(p)&&(i(p)||(p=o(p))),u(h,"__weakMapData__",r("c","$weakMap$"+n())),p&&t(p,function(a){e(a),h.set(a[0],a[1])}),h},c&&(b&&b(g,WeakMap),g.prototype=Object.create(WeakMap.prototype,{constructor:r(g)})),Object.defineProperties(g.prototype,{delete:r(function(h){return!!f.call(v(h),this.__weakMapData__)&&(delete h[this.__weakMapData__],!0)}),get:r(function(h){if(f.call(v(h),this.__weakMapData__))return h[this.__weakMapData__]}),has:r(function(h){return f.call(v(h),this.__weakMapData__)}),set:r(function(h,p){return u(v(h),this.__weakMapData__,r("c",p)),this}),toString:r(function(){return"[object WeakMap]"})}),u(g.prototype,d,r("c","WeakMap"))},{"./is-native-implemented":185,d:106,"es5-ext/object/is-value":151,"es5-ext/object/set-prototype-of":157,"es5-ext/object/valid-object":161,"es5-ext/object/valid-value":162,"es5-ext/string/random-uniq":167,"es6-iterator/for-of":169,"es6-iterator/get":170,"es6-symbol":175}],187:[function(y,ee,te){var g=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};ee.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return g()}try{return __global__||g()}finally{delete Object.prototype.__global__}}()},{}],188:[function(y,ee,te){ee.exports=y("./is-implemented")()?globalThis:y("./implementation")},{"./implementation":187,"./is-implemented":189}],189:[function(y,ee,te){ee.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},{}],190:[function(y,ee,te){var g=y("is-string-blank");ee.exports=function(m){var b=typeof m;if(b==="string"){var v=m;if((m=+m)==0&&g(v))return!1}else if(b!=="number")return!1;return m-m<1}},{"is-string-blank":237}],191:[function(y,ee,te){var g=y("dtype");ee.exports=function(m,b,v){if(!m)throw new TypeError("must specify data as first parameter");if(v=0|+(v||0),Array.isArray(m)&&m[0]&&typeof m[0][0]=="number"){var e,n,r,o,t=m[0].length,d=m.length*t;b&&typeof b!="string"||(b=new(g(b||"float32"))(d+v));var c=b.length-v;if(d!==c)throw new Error("source length "+d+" ("+t+"x"+m.length+") does not match destination length "+c);for(e=0,r=v;e<m.length;e++)for(n=0;n<t;n++)b[r++]=m[e][n]===null?NaN:m[e][n]}else if(b&&typeof b!="string")b.set(m,v);else{var i=g(b||"float32");if(Array.isArray(m)||b==="array")for(b=new i(m.length+v),e=0,r=v,o=b.length;r<o;r++,e++)b[r]=m[e]===null?NaN:m[e];else v===0?b=new i(m):(b=new i(m.length+v)).set(m,v)}return b}},{dtype:127}],192:[function(y,ee,te){var g=y("css-font/stringify"),m=[32,126];ee.exports=function(b){var v=(b=b||{}).shape?b.shape:b.canvas?[b.canvas.width,b.canvas.height]:[512,512],e=b.canvas||document.createElement("canvas"),n=b.font,r=typeof b.step=="number"?[b.step,b.step]:b.step||[32,32],o=b.chars||m;if(n&&typeof n!="string"&&(n=g(n)),Array.isArray(o)){if(o.length===2&&typeof o[0]=="number"&&typeof o[1]=="number"){for(var t=[],d=o[0],c=0;d<=o[1];d++)t[c++]=String.fromCharCode(d);o=t}}else o=String(o).split("");v=v.slice(),e.width=v[0],e.height=v[1];var i=e.getContext("2d");i.fillStyle="#000",i.fillRect(0,0,e.width,e.height),i.font=n,i.textAlign="center",i.textBaseline="middle",i.fillStyle="#fff";var u=r[0]/2,f=r[1]/2;for(d=0;d<o.length;d++)i.fillText(o[d],u,f),(u+=r[0])>v[0]-r[0]/2&&(u=r[0]/2,f+=r[1]);return e}},{"css-font/stringify":102}],193:[function(y,ee,te){function g(e,n){n||(n={}),(typeof e=="string"||Array.isArray(e))&&(n.family=e);var r=Array.isArray(n.family)?n.family.join(", "):n.family;if(!r)throw Error("`family` must be defined");var o=n.size||n.fontSize||n.em||48,t=n.weight||n.fontWeight||"",d=(e=[n.style||n.fontStyle||"",t,o].join(" ")+"px "+r,n.origin||"top");if(g.cache[r]&&o<=g.cache[r].em)return m(g.cache[r],d);var c=n.canvas||g.canvas,i=c.getContext("2d"),u={upper:n.upper!==void 0?n.upper:"H",lower:n.lower!==void 0?n.lower:"x",descent:n.descent!==void 0?n.descent:"p",ascent:n.ascent!==void 0?n.ascent:"h",tittle:n.tittle!==void 0?n.tittle:"i",overshoot:n.overshoot!==void 0?n.overshoot:"O"},f=Math.ceil(1.5*o);c.height=f,c.width=.5*f,i.font=e;var s={top:0};i.clearRect(0,0,f,f),i.textBaseline="top",i.fillStyle="black",i.fillText("H",0,0);var h=b(i.getImageData(0,0,f,f));i.clearRect(0,0,f,f),i.textBaseline="bottom",i.fillText("H",0,f);var p=b(i.getImageData(0,0,f,f));s.lineHeight=s.bottom=f-p+h,i.clearRect(0,0,f,f),i.textBaseline="alphabetic",i.fillText("H",0,f);var a=f-b(i.getImageData(0,0,f,f))-1+h;s.baseline=s.alphabetic=a,i.clearRect(0,0,f,f),i.textBaseline="middle",i.fillText("H",0,.5*f);var x=b(i.getImageData(0,0,f,f));s.median=s.middle=f-x-1+h-.5*f,i.clearRect(0,0,f,f),i.textBaseline="hanging",i.fillText("H",0,.5*f);var l=b(i.getImageData(0,0,f,f));s.hanging=f-l-1+h-.5*f,i.clearRect(0,0,f,f),i.textBaseline="ideographic",i.fillText("H",0,f);var w=b(i.getImageData(0,0,f,f));if(s.ideographic=f-w-1+h,u.upper&&(i.clearRect(0,0,f,f),i.textBaseline="top",i.fillText(u.upper,0,0),s.upper=b(i.getImageData(0,0,f,f)),s.capHeight=s.baseline-s.upper),u.lower&&(i.clearRect(0,0,f,f),i.textBaseline="top",i.fillText(u.lower,0,0),s.lower=b(i.getImageData(0,0,f,f)),s.xHeight=s.baseline-s.lower),u.tittle&&(i.clearRect(0,0,f,f),i.textBaseline="top",i.fillText(u.tittle,0,0),s.tittle=b(i.getImageData(0,0,f,f))),u.ascent&&(i.clearRect(0,0,f,f),i.textBaseline="top",i.fillText(u.ascent,0,0),s.ascent=b(i.getImageData(0,0,f,f))),u.descent&&(i.clearRect(0,0,f,f),i.textBaseline="top",i.fillText(u.descent,0,0),s.descent=v(i.getImageData(0,0,f,f))),u.overshoot){i.clearRect(0,0,f,f),i.textBaseline="top",i.fillText(u.overshoot,0,0);var _=v(i.getImageData(0,0,f,f));s.overshoot=_-a}for(var T in s)s[T]/=o;return s.em=o,g.cache[r]=s,m(s,d)}function m(e,n){var r={};for(var o in typeof n=="string"&&(n=e[n]),e)o!=="em"&&(r[o]=e[o]-n);return r}function b(e){for(var n=e.height,r=e.data,o=3;o<r.length;o+=4)if(r[o]!==0)return Math.floor(.25*(o-3)/n)}function v(e){for(var n=e.height,r=e.data,o=r.length-1;o>0;o-=4)if(r[o]!==0)return Math.floor(.25*(o-3)/n)}ee.exports=g,g.canvas=document.createElement("canvas"),g.cache={}},{}],194:[function(y,ee,te){ee.exports=function(g,m){if(typeof g!="string")throw new TypeError("must specify type string");if(m=m||{},typeof document>"u"&&!m.canvas)return null;var b=m.canvas||document.createElement("canvas");typeof m.width=="number"&&(b.width=m.width),typeof m.height=="number"&&(b.height=m.height);var v,e=m;try{var n=[g];g.indexOf("webgl")===0&&n.push("experimental-"+g);for(var r=0;r<n.length;r++)if(v=b.getContext(n[r],e))return v}catch{v=null}return v||null}},{}],195:[function(y,ee,te){ee.exports=function(g,m){var b=m[0],v=m[1],e=m[2],n=m[3],r=m[4],o=m[5],t=m[6],d=m[7],c=m[8],i=m[9],u=m[10],f=m[11],s=m[12],h=m[13],p=m[14],a=m[15];return g[0]=o*(u*a-f*p)-i*(t*a-d*p)+h*(t*f-d*u),g[1]=-(v*(u*a-f*p)-i*(e*a-n*p)+h*(e*f-n*u)),g[2]=v*(t*a-d*p)-o*(e*a-n*p)+h*(e*d-n*t),g[3]=-(v*(t*f-d*u)-o*(e*f-n*u)+i*(e*d-n*t)),g[4]=-(r*(u*a-f*p)-c*(t*a-d*p)+s*(t*f-d*u)),g[5]=b*(u*a-f*p)-c*(e*a-n*p)+s*(e*f-n*u),g[6]=-(b*(t*a-d*p)-r*(e*a-n*p)+s*(e*d-n*t)),g[7]=b*(t*f-d*u)-r*(e*f-n*u)+c*(e*d-n*t),g[8]=r*(i*a-f*h)-c*(o*a-d*h)+s*(o*f-d*i),g[9]=-(b*(i*a-f*h)-c*(v*a-n*h)+s*(v*f-n*i)),g[10]=b*(o*a-d*h)-r*(v*a-n*h)+s*(v*d-n*o),g[11]=-(b*(o*f-d*i)-r*(v*f-n*i)+c*(v*d-n*o)),g[12]=-(r*(i*p-u*h)-c*(o*p-t*h)+s*(o*u-t*i)),g[13]=b*(i*p-u*h)-c*(v*p-e*h)+s*(v*u-e*i),g[14]=-(b*(o*p-t*h)-r*(v*p-e*h)+s*(v*t-e*o)),g[15]=b*(o*u-t*i)-r*(v*u-e*i)+c*(v*t-e*o),g}},{}],196:[function(y,ee,te){ee.exports=function(g){var m=new Float32Array(16);return m[0]=g[0],m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=g[6],m[7]=g[7],m[8]=g[8],m[9]=g[9],m[10]=g[10],m[11]=g[11],m[12]=g[12],m[13]=g[13],m[14]=g[14],m[15]=g[15],m}},{}],197:[function(y,ee,te){ee.exports=function(g,m){return g[0]=m[0],g[1]=m[1],g[2]=m[2],g[3]=m[3],g[4]=m[4],g[5]=m[5],g[6]=m[6],g[7]=m[7],g[8]=m[8],g[9]=m[9],g[10]=m[10],g[11]=m[11],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15],g}},{}],198:[function(y,ee,te){ee.exports=function(){var g=new Float32Array(16);return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],199:[function(y,ee,te){ee.exports=function(g){var m=g[0],b=g[1],v=g[2],e=g[3],n=g[4],r=g[5],o=g[6],t=g[7],d=g[8],c=g[9],i=g[10],u=g[11],f=g[12],s=g[13],h=g[14],p=g[15];return(m*r-b*n)*(i*p-u*h)-(m*o-v*n)*(c*p-u*s)+(m*t-e*n)*(c*h-i*s)+(b*o-v*r)*(d*p-u*f)-(b*t-e*r)*(d*h-i*f)+(v*t-e*o)*(d*s-c*f)}},{}],200:[function(y,ee,te){ee.exports=function(g,m){var b=m[0],v=m[1],e=m[2],n=m[3],r=b+b,o=v+v,t=e+e,d=b*r,c=v*r,i=v*o,u=e*r,f=e*o,s=e*t,h=n*r,p=n*o,a=n*t;return g[0]=1-i-s,g[1]=c+a,g[2]=u-p,g[3]=0,g[4]=c-a,g[5]=1-d-s,g[6]=f+h,g[7]=0,g[8]=u+p,g[9]=f-h,g[10]=1-d-i,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],201:[function(y,ee,te){ee.exports=function(g,m,b){var v,e,n,r=b[0],o=b[1],t=b[2],d=Math.sqrt(r*r+o*o+t*t);return Math.abs(d)<1e-6?null:(r*=d=1/d,o*=d,t*=d,v=Math.sin(m),e=Math.cos(m),n=1-e,g[0]=r*r*n+e,g[1]=o*r*n+t*v,g[2]=t*r*n-o*v,g[3]=0,g[4]=r*o*n-t*v,g[5]=o*o*n+e,g[6]=t*o*n+r*v,g[7]=0,g[8]=r*t*n+o*v,g[9]=o*t*n-r*v,g[10]=t*t*n+e,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g)}},{}],202:[function(y,ee,te){ee.exports=function(g,m,b){var v=m[0],e=m[1],n=m[2],r=m[3],o=v+v,t=e+e,d=n+n,c=v*o,i=v*t,u=v*d,f=e*t,s=e*d,h=n*d,p=r*o,a=r*t,x=r*d;return g[0]=1-(f+h),g[1]=i+x,g[2]=u-a,g[3]=0,g[4]=i-x,g[5]=1-(c+h),g[6]=s+p,g[7]=0,g[8]=u+a,g[9]=s-p,g[10]=1-(c+f),g[11]=0,g[12]=b[0],g[13]=b[1],g[14]=b[2],g[15]=1,g}},{}],203:[function(y,ee,te){ee.exports=function(g,m){return g[0]=m[0],g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=m[1],g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=m[2],g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],204:[function(y,ee,te){ee.exports=function(g,m){return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=m[0],g[13]=m[1],g[14]=m[2],g[15]=1,g}},{}],205:[function(y,ee,te){ee.exports=function(g,m){var b=Math.sin(m),v=Math.cos(m);return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=v,g[6]=b,g[7]=0,g[8]=0,g[9]=-b,g[10]=v,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],206:[function(y,ee,te){ee.exports=function(g,m){var b=Math.sin(m),v=Math.cos(m);return g[0]=v,g[1]=0,g[2]=-b,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=b,g[9]=0,g[10]=v,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],207:[function(y,ee,te){ee.exports=function(g,m){var b=Math.sin(m),v=Math.cos(m);return g[0]=v,g[1]=b,g[2]=0,g[3]=0,g[4]=-b,g[5]=v,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],208:[function(y,ee,te){ee.exports=function(g,m,b,v,e,n,r){var o=1/(b-m),t=1/(e-v),d=1/(n-r);return g[0]=2*n*o,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=2*n*t,g[6]=0,g[7]=0,g[8]=(b+m)*o,g[9]=(e+v)*t,g[10]=(r+n)*d,g[11]=-1,g[12]=0,g[13]=0,g[14]=r*n*2*d,g[15]=0,g}},{}],209:[function(y,ee,te){ee.exports=function(g){return g[0]=1,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=1,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=1,g[11]=0,g[12]=0,g[13]=0,g[14]=0,g[15]=1,g}},{}],210:[function(y,ee,te){ee.exports={create:y("./create"),clone:y("./clone"),copy:y("./copy"),identity:y("./identity"),transpose:y("./transpose"),invert:y("./invert"),adjoint:y("./adjoint"),determinant:y("./determinant"),multiply:y("./multiply"),translate:y("./translate"),scale:y("./scale"),rotate:y("./rotate"),rotateX:y("./rotateX"),rotateY:y("./rotateY"),rotateZ:y("./rotateZ"),fromRotation:y("./fromRotation"),fromRotationTranslation:y("./fromRotationTranslation"),fromScaling:y("./fromScaling"),fromTranslation:y("./fromTranslation"),fromXRotation:y("./fromXRotation"),fromYRotation:y("./fromYRotation"),fromZRotation:y("./fromZRotation"),fromQuat:y("./fromQuat"),frustum:y("./frustum"),perspective:y("./perspective"),perspectiveFromFieldOfView:y("./perspectiveFromFieldOfView"),ortho:y("./ortho"),lookAt:y("./lookAt"),str:y("./str")}},{"./adjoint":195,"./clone":196,"./copy":197,"./create":198,"./determinant":199,"./fromQuat":200,"./fromRotation":201,"./fromRotationTranslation":202,"./fromScaling":203,"./fromTranslation":204,"./fromXRotation":205,"./fromYRotation":206,"./fromZRotation":207,"./frustum":208,"./identity":209,"./invert":211,"./lookAt":212,"./multiply":213,"./ortho":214,"./perspective":215,"./perspectiveFromFieldOfView":216,"./rotate":217,"./rotateX":218,"./rotateY":219,"./rotateZ":220,"./scale":221,"./str":222,"./translate":223,"./transpose":224}],211:[function(y,ee,te){ee.exports=function(g,m){var b=m[0],v=m[1],e=m[2],n=m[3],r=m[4],o=m[5],t=m[6],d=m[7],c=m[8],i=m[9],u=m[10],f=m[11],s=m[12],h=m[13],p=m[14],a=m[15],x=b*o-v*r,l=b*t-e*r,w=b*d-n*r,_=v*t-e*o,T=v*d-n*o,k=e*d-n*t,L=c*h-i*s,A=c*p-u*s,I=c*a-f*s,P=i*p-u*h,S=i*a-f*h,E=u*a-f*p,D=x*E-l*S+w*P+_*I-T*A+k*L;return D?(D=1/D,g[0]=(o*E-t*S+d*P)*D,g[1]=(e*S-v*E-n*P)*D,g[2]=(h*k-p*T+a*_)*D,g[3]=(u*T-i*k-f*_)*D,g[4]=(t*I-r*E-d*A)*D,g[5]=(b*E-e*I+n*A)*D,g[6]=(p*w-s*k-a*l)*D,g[7]=(c*k-u*w+f*l)*D,g[8]=(r*S-o*I+d*L)*D,g[9]=(v*I-b*S-n*L)*D,g[10]=(s*T-h*w+a*x)*D,g[11]=(i*w-c*T-f*x)*D,g[12]=(o*A-r*P-t*L)*D,g[13]=(b*P-v*A+e*L)*D,g[14]=(h*l-s*_-p*x)*D,g[15]=(c*_-i*l+u*x)*D,g):null}},{}],212:[function(y,ee,te){var g=y("./identity");ee.exports=function(m,b,v,e){var n,r,o,t,d,c,i,u,f,s,h=b[0],p=b[1],a=b[2],x=e[0],l=e[1],w=e[2],_=v[0],T=v[1],k=v[2];return Math.abs(h-_)<1e-6&&Math.abs(p-T)<1e-6&&Math.abs(a-k)<1e-6?g(m):(i=h-_,u=p-T,f=a-k,s=1/Math.sqrt(i*i+u*u+f*f),n=l*(f*=s)-w*(u*=s),r=w*(i*=s)-x*f,o=x*u-l*i,(s=Math.sqrt(n*n+r*r+o*o))?(n*=s=1/s,r*=s,o*=s):(n=0,r=0,o=0),t=u*o-f*r,d=f*n-i*o,c=i*r-u*n,(s=Math.sqrt(t*t+d*d+c*c))?(t*=s=1/s,d*=s,c*=s):(t=0,d=0,c=0),m[0]=n,m[1]=t,m[2]=i,m[3]=0,m[4]=r,m[5]=d,m[6]=u,m[7]=0,m[8]=o,m[9]=c,m[10]=f,m[11]=0,m[12]=-(n*h+r*p+o*a),m[13]=-(t*h+d*p+c*a),m[14]=-(i*h+u*p+f*a),m[15]=1,m)}},{"./identity":209}],213:[function(y,ee,te){ee.exports=function(g,m,b){var v=m[0],e=m[1],n=m[2],r=m[3],o=m[4],t=m[5],d=m[6],c=m[7],i=m[8],u=m[9],f=m[10],s=m[11],h=m[12],p=m[13],a=m[14],x=m[15],l=b[0],w=b[1],_=b[2],T=b[3];return g[0]=l*v+w*o+_*i+T*h,g[1]=l*e+w*t+_*u+T*p,g[2]=l*n+w*d+_*f+T*a,g[3]=l*r+w*c+_*s+T*x,l=b[4],w=b[5],_=b[6],T=b[7],g[4]=l*v+w*o+_*i+T*h,g[5]=l*e+w*t+_*u+T*p,g[6]=l*n+w*d+_*f+T*a,g[7]=l*r+w*c+_*s+T*x,l=b[8],w=b[9],_=b[10],T=b[11],g[8]=l*v+w*o+_*i+T*h,g[9]=l*e+w*t+_*u+T*p,g[10]=l*n+w*d+_*f+T*a,g[11]=l*r+w*c+_*s+T*x,l=b[12],w=b[13],_=b[14],T=b[15],g[12]=l*v+w*o+_*i+T*h,g[13]=l*e+w*t+_*u+T*p,g[14]=l*n+w*d+_*f+T*a,g[15]=l*r+w*c+_*s+T*x,g}},{}],214:[function(y,ee,te){ee.exports=function(g,m,b,v,e,n,r){var o=1/(m-b),t=1/(v-e),d=1/(n-r);return g[0]=-2*o,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=-2*t,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=2*d,g[11]=0,g[12]=(m+b)*o,g[13]=(e+v)*t,g[14]=(r+n)*d,g[15]=1,g}},{}],215:[function(y,ee,te){ee.exports=function(g,m,b,v,e){var n=1/Math.tan(m/2),r=1/(v-e);return g[0]=n/b,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=n,g[6]=0,g[7]=0,g[8]=0,g[9]=0,g[10]=(e+v)*r,g[11]=-1,g[12]=0,g[13]=0,g[14]=2*e*v*r,g[15]=0,g}},{}],216:[function(y,ee,te){ee.exports=function(g,m,b,v){var e=Math.tan(m.upDegrees*Math.PI/180),n=Math.tan(m.downDegrees*Math.PI/180),r=Math.tan(m.leftDegrees*Math.PI/180),o=Math.tan(m.rightDegrees*Math.PI/180),t=2/(r+o),d=2/(e+n);return g[0]=t,g[1]=0,g[2]=0,g[3]=0,g[4]=0,g[5]=d,g[6]=0,g[7]=0,g[8]=-(r-o)*t*.5,g[9]=(e-n)*d*.5,g[10]=v/(b-v),g[11]=-1,g[12]=0,g[13]=0,g[14]=v*b/(b-v),g[15]=0,g}},{}],217:[function(y,ee,te){ee.exports=function(g,m,b,v){var e,n,r,o,t,d,c,i,u,f,s,h,p,a,x,l,w,_,T,k,L,A,I,P,S=v[0],E=v[1],D=v[2],F=Math.sqrt(S*S+E*E+D*D);return Math.abs(F)<1e-6?null:(S*=F=1/F,E*=F,D*=F,e=Math.sin(b),n=Math.cos(b),r=1-n,o=m[0],t=m[1],d=m[2],c=m[3],i=m[4],u=m[5],f=m[6],s=m[7],h=m[8],p=m[9],a=m[10],x=m[11],l=S*S*r+n,w=E*S*r+D*e,_=D*S*r-E*e,T=S*E*r-D*e,k=E*E*r+n,L=D*E*r+S*e,A=S*D*r+E*e,I=E*D*r-S*e,P=D*D*r+n,g[0]=o*l+i*w+h*_,g[1]=t*l+u*w+p*_,g[2]=d*l+f*w+a*_,g[3]=c*l+s*w+x*_,g[4]=o*T+i*k+h*L,g[5]=t*T+u*k+p*L,g[6]=d*T+f*k+a*L,g[7]=c*T+s*k+x*L,g[8]=o*A+i*I+h*P,g[9]=t*A+u*I+p*P,g[10]=d*A+f*I+a*P,g[11]=c*A+s*I+x*P,m!==g&&(g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]),g)}},{}],218:[function(y,ee,te){ee.exports=function(g,m,b){var v=Math.sin(b),e=Math.cos(b),n=m[4],r=m[5],o=m[6],t=m[7],d=m[8],c=m[9],i=m[10],u=m[11];return m!==g&&(g[0]=m[0],g[1]=m[1],g[2]=m[2],g[3]=m[3],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]),g[4]=n*e+d*v,g[5]=r*e+c*v,g[6]=o*e+i*v,g[7]=t*e+u*v,g[8]=d*e-n*v,g[9]=c*e-r*v,g[10]=i*e-o*v,g[11]=u*e-t*v,g}},{}],219:[function(y,ee,te){ee.exports=function(g,m,b){var v=Math.sin(b),e=Math.cos(b),n=m[0],r=m[1],o=m[2],t=m[3],d=m[8],c=m[9],i=m[10],u=m[11];return m!==g&&(g[4]=m[4],g[5]=m[5],g[6]=m[6],g[7]=m[7],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]),g[0]=n*e-d*v,g[1]=r*e-c*v,g[2]=o*e-i*v,g[3]=t*e-u*v,g[8]=n*v+d*e,g[9]=r*v+c*e,g[10]=o*v+i*e,g[11]=t*v+u*e,g}},{}],220:[function(y,ee,te){ee.exports=function(g,m,b){var v=Math.sin(b),e=Math.cos(b),n=m[0],r=m[1],o=m[2],t=m[3],d=m[4],c=m[5],i=m[6],u=m[7];return m!==g&&(g[8]=m[8],g[9]=m[9],g[10]=m[10],g[11]=m[11],g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15]),g[0]=n*e+d*v,g[1]=r*e+c*v,g[2]=o*e+i*v,g[3]=t*e+u*v,g[4]=d*e-n*v,g[5]=c*e-r*v,g[6]=i*e-o*v,g[7]=u*e-t*v,g}},{}],221:[function(y,ee,te){ee.exports=function(g,m,b){var v=b[0],e=b[1],n=b[2];return g[0]=m[0]*v,g[1]=m[1]*v,g[2]=m[2]*v,g[3]=m[3]*v,g[4]=m[4]*e,g[5]=m[5]*e,g[6]=m[6]*e,g[7]=m[7]*e,g[8]=m[8]*n,g[9]=m[9]*n,g[10]=m[10]*n,g[11]=m[11]*n,g[12]=m[12],g[13]=m[13],g[14]=m[14],g[15]=m[15],g}},{}],222:[function(y,ee,te){ee.exports=function(g){return"mat4("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+", "+g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+")"}},{}],223:[function(y,ee,te){ee.exports=function(g,m,b){var v,e,n,r,o,t,d,c,i,u,f,s,h=b[0],p=b[1],a=b[2];return m===g?(g[12]=m[0]*h+m[4]*p+m[8]*a+m[12],g[13]=m[1]*h+m[5]*p+m[9]*a+m[13],g[14]=m[2]*h+m[6]*p+m[10]*a+m[14],g[15]=m[3]*h+m[7]*p+m[11]*a+m[15]):(v=m[0],e=m[1],n=m[2],r=m[3],o=m[4],t=m[5],d=m[6],c=m[7],i=m[8],u=m[9],f=m[10],s=m[11],g[0]=v,g[1]=e,g[2]=n,g[3]=r,g[4]=o,g[5]=t,g[6]=d,g[7]=c,g[8]=i,g[9]=u,g[10]=f,g[11]=s,g[12]=v*h+o*p+i*a+m[12],g[13]=e*h+t*p+u*a+m[13],g[14]=n*h+d*p+f*a+m[14],g[15]=r*h+c*p+s*a+m[15]),g}},{}],224:[function(y,ee,te){ee.exports=function(g,m){if(g===m){var b=m[1],v=m[2],e=m[3],n=m[6],r=m[7],o=m[11];g[1]=m[4],g[2]=m[8],g[3]=m[12],g[4]=b,g[6]=m[9],g[7]=m[13],g[8]=v,g[9]=n,g[11]=m[14],g[12]=e,g[13]=r,g[14]=o}else g[0]=m[0],g[1]=m[4],g[2]=m[8],g[3]=m[12],g[4]=m[1],g[5]=m[5],g[6]=m[9],g[7]=m[13],g[8]=m[2],g[9]=m[6],g[10]=m[10],g[11]=m[14],g[12]=m[3],g[13]=m[7],g[14]=m[11],g[15]=m[15];return g}},{}],225:[function(y,ee,te){var g=y("css-font"),m=y("pick-by-alias"),b=y("regl"),v=y("gl-util/context"),e=y("es6-weak-map"),n=y("color-normalize"),r=y("font-atlas"),o=y("typedarray-pool"),t=y("parse-rect"),d=y("is-plain-obj"),c=y("parse-unit"),i=y("to-px"),u=y("detect-kerning"),f=y("object-assign"),s=y("font-measure"),h=y("flatten-vertex-data"),p=y("bit-twiddle").nextPow2,a=new e,x=!1;if(document.body){var l=document.body.appendChild(document.createElement("div"));l.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(l).fontStretch&&(x=!0),document.body.removeChild(l)}var w=function(_){(function(T){return typeof T=="function"&&T._gl&&T.prop&&T.texture&&T.buffer})(_)?(_={regl:_},this.gl=_.regl._gl):this.gl=v(_),this.shader=a.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=_.regl||b({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),a.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(d(_)?_:{})};w.prototype.createShader=function(){var _=this.regl,T=_({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:_.prop("count"),offset:_.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:_.this("sizeBuffer")},width:{offset:0,stride:8,buffer:_.this("sizeBuffer")},char:_.this("charBuffer"),position:_.this("position")},uniforms:{atlasSize:function(k,L){return[L.atlas.width,L.atlas.height]},atlasDim:function(k,L){return[L.atlas.cols,L.atlas.rows]},atlas:function(k,L){return L.atlas.texture},charStep:function(k,L){return L.atlas.step},em:function(k,L){return L.atlas.em},color:_.prop("color"),opacity:_.prop("opacity"),viewport:_.this("viewportArray"),scale:_.this("scale"),align:_.prop("align"),baseline:_.prop("baseline"),translate:_.this("translate"),positionOffset:_.prop("positionOffset")},primitive:"points",viewport:_.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:_,draw:T,atlas:{}}},w.prototype.update=function(_){var T=this;if(typeof _=="string")_={text:_};else if(!_)return;(_=m(_,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(_.opacity)?this.opacity=_.opacity.map(function(me){return parseFloat(me)}):this.opacity=parseFloat(_.opacity)),_.viewport!=null&&(this.viewport=t(_.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),_.kerning!=null&&(this.kerning=_.kerning),_.offset!=null&&(typeof _.offset=="number"&&(_.offset=[_.offset,0]),this.positionOffset=h(_.offset)),_.direction&&(this.direction=_.direction),_.range&&(this.range=_.range,this.scale=[1/(_.range[2]-_.range[0]),1/(_.range[3]-_.range[1])],this.translate=[-_.range[0],-_.range[1]]),_.scale&&(this.scale=_.scale),_.translate&&(this.translate=_.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||_.font||(_.font=w.baseFontSize+"px sans-serif");var k,L=!1,A=!1;if(_.font&&(Array.isArray(_.font)?_.font:[_.font]).forEach(function(me,Te){if(typeof me=="string")try{me=g.parse(me)}catch{me=g.parse(w.baseFontSize+"px "+me)}else me=g.parse(g.stringify(me));var _e=g.stringify({size:w.baseFontSize,family:me.family,stretch:x?me.stretch:void 0,variant:me.variant,weight:me.weight,style:me.style}),Ae=c(me.size),Pe=Math.round(Ae[0]*i(Ae[1]));if(Pe!==T.fontSize[Te]&&(A=!0,T.fontSize[Te]=Pe),!(T.font[Te]&&_e==T.font[Te].baseString||(L=!0,T.font[Te]=w.fonts[_e],T.font[Te]))){var De=me.family.join(", "),Ve=[me.style];me.style!=me.variant&&Ve.push(me.variant),me.variant!=me.weight&&Ve.push(me.weight),x&&me.weight!=me.stretch&&Ve.push(me.stretch),T.font[Te]={baseString:_e,family:De,weight:me.weight,stretch:me.stretch,style:me.style,variant:me.variant,width:{},kerning:{},metrics:s(De,{origin:"top",fontSize:w.baseFontSize,fontStyle:Ve.join(" ")})},w.fonts[_e]=T.font[Te]}}),(L||A)&&this.font.forEach(function(me,Te){var _e=g.stringify({size:T.fontSize[Te],family:me.family,stretch:x?me.stretch:void 0,variant:me.variant,weight:me.weight,style:me.style});if(T.fontAtlas[Te]=T.shader.atlas[_e],!T.fontAtlas[Te]){var Ae=me.metrics;T.shader.atlas[_e]=T.fontAtlas[Te]={fontString:_e,step:2*Math.ceil(T.fontSize[Te]*Ae.bottom*.5),em:T.fontSize[Te],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}_.text==null&&(_.text=T.text)}),typeof _.text=="string"&&_.position&&_.position.length>2){for(var I=Array(.5*_.position.length),P=0;P<I.length;P++)I[P]=_.text;_.text=I}if(_.text!=null||L){if(this.textOffsets=[0],Array.isArray(_.text)){this.count=_.text[0].length,this.counts=[this.count];for(var S=1;S<_.text.length;S++)this.textOffsets[S]=this.textOffsets[S-1]+_.text[S-1].length,this.count+=_.text[S].length,this.counts.push(_.text[S].length);this.text=_.text.join("")}else this.text=_.text,this.count=this.text.length,this.counts=[this.count];k=[],this.font.forEach(function(me,Te){w.atlasContext.font=me.baseString;for(var _e=T.fontAtlas[Te],Ae=0;Ae<T.text.length;Ae++){var Pe=T.text.charAt(Ae);if(_e.ids[Pe]==null&&(_e.ids[Pe]=_e.chars.length,_e.chars.push(Pe),k.push(Pe)),me.width[Pe]==null&&(me.width[Pe]=w.atlasContext.measureText(Pe).width/w.baseFontSize,T.kerning)){var De=[];for(var Ve in me.width)De.push(Ve+Pe,Pe+Ve);f(me.kerning,u(me.family,{pairs:De}))}}})}if(_.position)if(_.position.length>2){for(var E=!_.position[0].length,D=o.mallocFloat(2*this.count),F=0,H=0;F<this.counts.length;F++){var V=this.counts[F];if(E)for(var Z=0;Z<V;Z++)D[H++]=_.position[2*F],D[H++]=_.position[2*F+1];else for(var K=0;K<V;K++)D[H++]=_.position[F][0],D[H++]=_.position[F][1]}this.position.call?this.position({type:"float",data:D}):this.position=this.regl.buffer({type:"float",data:D}),o.freeFloat(D)}else this.position.destroy&&this.position.destroy(),this.position={constant:_.position};if(_.text||L){var q=o.mallocUint8(this.count),W=o.mallocFloat(2*this.count);this.textWidth=[];for(var $=0,R=0;$<this.counts.length;$++){for(var N=this.counts[$],U=this.font[$]||this.font[0],Q=this.fontAtlas[$]||this.fontAtlas[0],j=0;j<N;j++){var X=this.text.charAt(R),J=this.text.charAt(R-1);if(q[R]=Q.ids[X],W[2*R]=U.width[X],j){var re=W[2*R-2],ne=W[2*R],se=W[2*R-1]+.5*re+.5*ne;if(this.kerning){var oe=U.kerning[J+X];oe&&(se+=.001*oe)}W[2*R+1]=se}else W[2*R+1]=.5*W[2*R];R++}this.textWidth.push(W.length?.5*W[2*R-2]+W[2*R-1]:0)}_.align||(_.align=this.align),this.charBuffer({data:q,type:"uint8",usage:"stream"}),this.sizeBuffer({data:W,type:"float",usage:"stream"}),o.freeUint8(q),o.freeFloat(W),k.length&&this.font.forEach(function(me,Te){var _e=T.fontAtlas[Te],Ae=_e.step,Pe=Math.floor(w.maxAtlasSize/Ae),De=Math.min(Pe,_e.chars.length),Ve=Math.ceil(_e.chars.length/De),Qe=p(De*Ae),Oe=p(Ve*Ae);_e.width=Qe,_e.height=Oe,_e.rows=Ve,_e.cols=De,_e.em&&_e.texture({data:r({canvas:w.atlasCanvas,font:_e.fontString,chars:_e.chars,shape:[Qe,Oe],step:[Ae,Ae]})})})}if(_.align&&(this.align=_.align,this.alignOffset=this.textWidth.map(function(me,Te){var _e=Array.isArray(T.align)?T.align.length>1?T.align[Te]:T.align[0]:T.align;if(typeof _e=="number")return _e;switch(_e){case"right":case"end":return-me;case"center":case"centre":case"middle":return .5*-me}return 0})),this.baseline==null&&_.baseline==null&&(_.baseline=0),_.baseline!=null&&(this.baseline=_.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(me,Te){var _e=(T.font[Te]||T.font[0]).metrics,Ae=0;return Ae+=.5*_e.bottom,Ae+=typeof me=="number"?me-_e.baseline:-_e[me],Ae*=-1})),_.color!=null)if(_.color||(_.color="transparent"),typeof _.color!="string"&&isNaN(_.color)){var pe;if(typeof _.color[0]=="number"&&_.color.length>this.counts.length){var ce=_.color.length;pe=o.mallocUint8(ce);for(var de=(_.color.subarray||_.color.slice).bind(_.color),xe=0;xe<ce;xe+=4)pe.set(n(de(xe,xe+4),"uint8"),xe)}else{var we=_.color.length;pe=o.mallocUint8(4*we);for(var be=0;be<we;be++)pe.set(n(_.color[be]||0,"uint8"),4*be)}this.color=pe}else this.color=n(_.color,"uint8");if(_.position||_.text||_.color||_.baseline||_.align||_.font||_.offset||_.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Ee=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(Ee);for(var fe=0;fe<this.batch.length;fe++)this.batch[fe]={count:this.counts.length>1?this.counts[fe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[fe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*fe,4*fe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[fe]:this.opacity,baseline:this.baselineOffset[fe]!=null?this.baselineOffset[fe]:this.baselineOffset[0],align:this.align?this.alignOffset[fe]!=null?this.alignOffset[fe]:this.alignOffset[0]:0,atlas:this.fontAtlas[fe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*fe,2*fe+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},w.prototype.destroy=function(){},w.prototype.kerning=!0,w.prototype.position={constant:new Float32Array(2)},w.prototype.translate=null,w.prototype.scale=null,w.prototype.font=null,w.prototype.text="",w.prototype.positionOffset=[0,0],w.prototype.opacity=1,w.prototype.color=new Uint8Array([0,0,0,255]),w.prototype.alignOffset=[0,0],w.maxAtlasSize=1024,w.atlasCanvas=document.createElement("canvas"),w.atlasContext=w.atlasCanvas.getContext("2d",{alpha:!1}),w.baseFontSize=64,w.fonts={},ee.exports=w},{"bit-twiddle":81,"color-normalize":89,"css-font":99,"detect-kerning":125,"es6-weak-map":183,"flatten-vertex-data":191,"font-atlas":192,"font-measure":193,"gl-util/context":226,"is-plain-obj":236,"object-assign":247,"parse-rect":249,"parse-unit":251,"pick-by-alias":253,regl:283,"to-px":314,"typedarray-pool":327}],226:[function(y,ee,te){(function(g){(function(){var m=y("pick-by-alias");function b(n){if(n.container)if(n.container==document.body)document.body.style.width||(n.canvas.width=n.width||n.pixelRatio*g.innerWidth),document.body.style.height||(n.canvas.height=n.height||n.pixelRatio*g.innerHeight);else{var r=n.container.getBoundingClientRect();n.canvas.width=n.width||r.right-r.left,n.canvas.height=n.height||r.bottom-r.top}}function v(n){return typeof n.getContext=="function"&&"width"in n&&"height"in n}function e(){var n=document.createElement("canvas");return n.style.position="absolute",n.style.top=0,n.style.left=0,n}ee.exports=function(n){var r;if(n?typeof n=="string"&&(n={container:n}):n={},v(n)?n={container:n}:n=typeof(r=n).nodeName=="string"&&typeof r.appendChild=="function"&&typeof r.getBoundingClientRect=="function"?{container:n}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(n)?{gl:n}:m(n,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),n.pixelRatio||(n.pixelRatio=g.pixelRatio||1),n.gl)return n.gl;if(n.canvas&&(n.container=n.canvas.parentNode),n.container){if(typeof n.container=="string"){var o=document.querySelector(n.container);if(!o)throw Error("Element "+n.container+" is not found");n.container=o}v(n.container)?(n.canvas=n.container,n.container=n.canvas.parentNode):n.canvas||(n.canvas=e(),n.container.appendChild(n.canvas),b(n))}else if(!n.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");n.container=document.body||document.documentElement,n.canvas=e(),n.container.appendChild(n.canvas),b(n)}return n.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{n.gl=n.canvas.getContext(t,n.attrs)}catch{}return n.gl}),n.gl}}).call(this)}).call(this,typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{"pick-by-alias":253}],227:[function(y,ee,te){ee.exports=function(g){typeof g=="string"&&(g=[g]);for(var m=[].slice.call(arguments,1),b=[],v=0;v<g.length-1;v++)b.push(g[v],m[v]||"");return b.push(g[v]),b.join("")}},{}],228:[function(y,ee,te){(function(g){(function(){var m,b=y("is-browser");m=typeof g.matchMedia=="function"?!g.matchMedia("(hover: none)").matches:b,ee.exports=m}).call(this)}).call(this,typeof Bi<"u"?Bi:typeof self<"u"?self:typeof window<"u"?window:{})},{"is-browser":232}],229:[function(y,ee,te){var g=y("is-browser");ee.exports=g&&function(){var m=!1;try{var b=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch{m=!1}return m}()},{"is-browser":232}],230:[function(y,ee,te){te.read=function(g,m,b,v,e){var n,r,o=8*e-v-1,t=(1<<o)-1,d=t>>1,c=-7,i=b?e-1:0,u=b?-1:1,f=g[m+i];for(i+=u,n=f&(1<<-c)-1,f>>=-c,c+=o;c>0;n=256*n+g[m+i],i+=u,c-=8);for(r=n&(1<<-c)-1,n>>=-c,c+=v;c>0;r=256*r+g[m+i],i+=u,c-=8);if(n===0)n=1-d;else{if(n===t)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,v),n-=d}return(f?-1:1)*r*Math.pow(2,n-v)},te.write=function(g,m,b,v,e,n){var r,o,t,d=8*n-e-1,c=(1<<d)-1,i=c>>1,u=e===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=v?0:n-1,s=v?1:-1,h=m<0||m===0&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(o=isNaN(m)?1:0,r=c):(r=Math.floor(Math.log(m)/Math.LN2),m*(t=Math.pow(2,-r))<1&&(r--,t*=2),(m+=r+i>=1?u/t:u*Math.pow(2,1-i))*t>=2&&(r++,t/=2),r+i>=c?(o=0,r=c):r+i>=1?(o=(m*t-1)*Math.pow(2,e),r+=i):(o=m*Math.pow(2,i-1)*Math.pow(2,e),r=0));e>=8;g[b+f]=255&o,f+=s,o/=256,e-=8);for(r=r<<e|o,d+=e;d>0;g[b+f]=255&r,f+=s,r/=256,d-=8);g[b+f-s]|=128*h}},{}],231:[function(y,ee,te){typeof Object.create=="function"?ee.exports=function(g,m){m&&(g.super_=m,g.prototype=Object.create(m.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}))}:ee.exports=function(g,m){if(m){g.super_=m;var b=function(){};b.prototype=m.prototype,g.prototype=new b,g.prototype.constructor=g}}},{}],232:[function(y,ee,te){ee.exports=!0},{}],233:[function(y,ee,te){ee.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},{}],234:[function(y,ee,te){ee.exports=b,ee.exports.isMobile=b,ee.exports.default=b;var g=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function b(v){v||(v={});var e=v.ua;if(e||typeof navigator>"u"||(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var n=v.tablet?m.test(e):g.test(e);return!n&&v.tablet&&v.featureDetect&&navigator&&navigator.maxTouchPoints>1&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(n=!0),n}},{}],235:[function(y,ee,te){ee.exports=function(g){var m=typeof g;return g!==null&&(m==="object"||m==="function")}},{}],236:[function(y,ee,te){var g=Object.prototype.toString;ee.exports=function(m){var b;return g.call(m)==="[object Object]"&&((b=Object.getPrototypeOf(m))===null||b===Object.getPrototypeOf({}))}},{}],237:[function(y,ee,te){ee.exports=function(g){for(var m,b=g.length,v=0;v<b;v++)if(((m=g.charCodeAt(v))<9||m>13)&&m!==32&&m!==133&&m!==160&&m!==5760&&m!==6158&&(m<8192||m>8205)&&m!==8232&&m!==8233&&m!==8239&&m!==8287&&m!==8288&&m!==12288&&m!==65279)return!1;return!0}},{}],238:[function(y,ee,te){ee.exports=function(g){return typeof g=="string"&&(g=g.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(g)&&/[\dz]$/i.test(g)&&g.length>4))}},{}],239:[function(y,ee,te){(function(g,m){typeof te=="object"&&ee!==void 0?ee.exports=m():(g=g||self).mapboxgl=m()})(this,function(){var g,m,b;function v(e,n){if(g)if(m){var r="var sharedChunk = {}; ("+g+")(sharedChunk); ("+m+")(sharedChunk);",o={};g(o),(b=n(o)).workerUrl=window.URL.createObjectURL(new Blob([r],{type:"text/javascript"}))}else m=n;else g=n}return v(0,function(e){function n(M,O){return M(O={exports:{}},O.exports),O.exports}var r=o;function o(M,O,Y,ae){this.cx=3*M,this.bx=3*(Y-M)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*O,this.by=3*(ae-O)-this.cy,this.ay=1-this.cy-this.by,this.p1x=M,this.p1y=ae,this.p2x=Y,this.p2y=ae}o.prototype.sampleCurveX=function(M){return((this.ax*M+this.bx)*M+this.cx)*M},o.prototype.sampleCurveY=function(M){return((this.ay*M+this.by)*M+this.cy)*M},o.prototype.sampleCurveDerivativeX=function(M){return(3*this.ax*M+2*this.bx)*M+this.cx},o.prototype.solveCurveX=function(M,O){var Y,ae,he,ve,Se;for(O===void 0&&(O=1e-6),he=M,Se=0;Se<8;Se++){if(ve=this.sampleCurveX(he)-M,Math.abs(ve)<O)return he;var Fe=this.sampleCurveDerivativeX(he);if(Math.abs(Fe)<1e-6)break;he-=ve/Fe}if((he=M)<(Y=0))return Y;if(he>(ae=1))return ae;for(;Y<ae;){if(ve=this.sampleCurveX(he),Math.abs(ve-M)<O)return he;M>ve?Y=he:ae=he,he=.5*(ae-Y)+Y}return he},o.prototype.solve=function(M,O){return this.sampleCurveY(this.solveCurveX(M,O))};var t=d;function d(M,O){this.x=M,this.y=O}function c(M,O,Y,ae){var he=new r(M,O,Y,ae);return function(ve){return he.solve(ve)}}d.prototype={clone:function(){return new d(this.x,this.y)},add:function(M){return this.clone()._add(M)},sub:function(M){return this.clone()._sub(M)},multByPoint:function(M){return this.clone()._multByPoint(M)},divByPoint:function(M){return this.clone()._divByPoint(M)},mult:function(M){return this.clone()._mult(M)},div:function(M){return this.clone()._div(M)},rotate:function(M){return this.clone()._rotate(M)},rotateAround:function(M,O){return this.clone()._rotateAround(M,O)},matMult:function(M){return this.clone()._matMult(M)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(M){return this.x===M.x&&this.y===M.y},dist:function(M){return Math.sqrt(this.distSqr(M))},distSqr:function(M){var O=M.x-this.x,Y=M.y-this.y;return O*O+Y*Y},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(M){return Math.atan2(this.y-M.y,this.x-M.x)},angleWith:function(M){return this.angleWithSep(M.x,M.y)},angleWithSep:function(M,O){return Math.atan2(this.x*O-this.y*M,this.x*M+this.y*O)},_matMult:function(M){var O=M[0]*this.x+M[1]*this.y,Y=M[2]*this.x+M[3]*this.y;return this.x=O,this.y=Y,this},_add:function(M){return this.x+=M.x,this.y+=M.y,this},_sub:function(M){return this.x-=M.x,this.y-=M.y,this},_mult:function(M){return this.x*=M,this.y*=M,this},_div:function(M){return this.x/=M,this.y/=M,this},_multByPoint:function(M){return this.x*=M.x,this.y*=M.y,this},_divByPoint:function(M){return this.x/=M.x,this.y/=M.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var M=this.y;return this.y=this.x,this.x=-M,this},_rotate:function(M){var O=Math.cos(M),Y=Math.sin(M),ae=O*this.x-Y*this.y,he=Y*this.x+O*this.y;return this.x=ae,this.y=he,this},_rotateAround:function(M,O){var Y=Math.cos(M),ae=Math.sin(M),he=O.x+Y*(this.x-O.x)-ae*(this.y-O.y),ve=O.y+ae*(this.x-O.x)+Y*(this.y-O.y);return this.x=he,this.y=ve,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},d.convert=function(M){return M instanceof d?M:Array.isArray(M)?new d(M[0],M[1]):M};var i=c(.25,.1,.25,1);function u(M,O,Y){return Math.min(Y,Math.max(O,M))}function f(M,O,Y){var ae=Y-O,he=((M-O)%ae+ae)%ae+O;return he===O?Y:he}function s(M){for(var O=[],Y=arguments.length-1;Y-- >0;)O[Y]=arguments[Y+1];for(var ae=0,he=O;ae<he.length;ae+=1){var ve=he[ae];for(var Se in ve)M[Se]=ve[Se]}return M}var h=1;function p(){return h++}function a(){return function M(O){return O?(O^16*Math.random()>>O/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,M)}()}function x(M){return!!M&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(M)}function l(M,O){M.forEach(function(Y){O[Y]&&(O[Y]=O[Y].bind(O))})}function w(M,O){return M.indexOf(O,M.length-O.length)!==-1}function _(M,O,Y){var ae={};for(var he in M)ae[he]=O.call(Y||this,M[he],he,M);return ae}function T(M,O,Y){var ae={};for(var he in M)O.call(Y||this,M[he],he,M)&&(ae[he]=M[he]);return ae}function k(M){return Array.isArray(M)?M.map(k):typeof M=="object"&&M?_(M,k):M}var L={};function A(M){L[M]||(typeof console<"u"&&console.warn(M),L[M]=!0)}function I(M,O,Y){return(Y.y-M.y)*(O.x-M.x)>(O.y-M.y)*(Y.x-M.x)}function P(M){for(var O=0,Y=0,ae=M.length,he=ae-1,ve=void 0,Se=void 0;Y<ae;he=Y++)ve=M[Y],O+=((Se=M[he]).x-ve.x)*(ve.y+Se.y);return O}function S(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function E(M){var O={};if(M.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(ae,he,ve,Se){var Fe=ve||Se;return O[he]=!Fe||Fe.toLowerCase(),""}),O["max-age"]){var Y=parseInt(O["max-age"],10);isNaN(Y)?delete O["max-age"]:O["max-age"]=Y}return O}var D=null;function F(M){if(D==null){var O=M.navigator?M.navigator.userAgent:null;D=!!M.safari||!(!O||!(/\b(iPad|iPhone|iPod)\b/.test(O)||O.match("Safari")&&!O.match("Chrome")))}return D}function H(M){try{var O=self[M];return O.setItem("_mapbox_test_",1),O.removeItem("_mapbox_test_"),!0}catch{return!1}}var V,Z,K,q,W=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),$=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,R=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,N={now:W,frame:function(M){var O=$(M);return{cancel:function(){return R(O)}}},getImageData:function(M,O){O===void 0&&(O=0);var Y=self.document.createElement("canvas"),ae=Y.getContext("2d");if(!ae)throw new Error("failed to create canvas 2d context");return Y.width=M.width,Y.height=M.height,ae.drawImage(M,0,0,M.width,M.height),ae.getImageData(-O,-O,M.width+2*O,M.height+2*O)},resolveURL:function(M){return V||(V=self.document.createElement("a")),V.href=M,V.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(Z==null&&(Z=self.matchMedia("(prefers-reduced-motion: reduce)")),Z.matches)}},U={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Q={supported:!1,testSupport:function(M){j||!q||(X?J(M):K=M)}},j=!1,X=!1;function J(M){var O=M.createTexture();M.bindTexture(M.TEXTURE_2D,O);try{if(M.texImage2D(M.TEXTURE_2D,0,M.RGBA,M.RGBA,M.UNSIGNED_BYTE,q),M.isContextLost())return;Q.supported=!0}catch{}M.deleteTexture(O),j=!0}self.document&&((q=self.document.createElement("img")).onload=function(){K&&J(K),K=null,X=!0},q.onerror=function(){j=!0,K=null},q.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var re="01",ne=function(M,O){this._transformRequestFn=M,this._customAccessToken=O,this._createSkuToken()};function se(M){return M.indexOf("mapbox:")===0}ne.prototype._createSkuToken=function(){var M=function(){for(var O="",Y=0;Y<10;Y++)O+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",re,O].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=M.token,this._skuTokenExpiresAt=M.tokenExpiresAt},ne.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},ne.prototype.transformRequest=function(M,O){return this._transformRequestFn&&this._transformRequestFn(M,O)||{url:M}},ne.prototype.normalizeStyleURL=function(M,O){if(!se(M))return M;var Y=de(M);return Y.path="/styles/v1"+Y.path,this._makeAPIURL(Y,this._customAccessToken||O)},ne.prototype.normalizeGlyphsURL=function(M,O){if(!se(M))return M;var Y=de(M);return Y.path="/fonts/v1"+Y.path,this._makeAPIURL(Y,this._customAccessToken||O)},ne.prototype.normalizeSourceURL=function(M,O){if(!se(M))return M;var Y=de(M);return Y.path="/v4/"+Y.authority+".json",Y.params.push("secure"),this._makeAPIURL(Y,this._customAccessToken||O)},ne.prototype.normalizeSpriteURL=function(M,O,Y,ae){var he=de(M);return se(M)?(he.path="/styles/v1"+he.path+"/sprite"+O+Y,this._makeAPIURL(he,this._customAccessToken||ae)):(he.path+=""+O+Y,xe(he))},ne.prototype.normalizeTileURL=function(M,O){if(this._isSkuTokenExpired()&&this._createSkuToken(),M&&!se(M))return M;var Y=de(M),ae=N.devicePixelRatio>=2||O===512?"@2x":"",he=Q.supported?".webp":"$1";Y.path=Y.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+ae+he),Y.path=Y.path.replace(/^.+\/v4\//,"/"),Y.path="/v4"+Y.path;var ve=this._customAccessToken||function(Se){for(var Fe=0,Ke=Se;Fe<Ke.length;Fe+=1){var ct=Ke[Fe].match(/^access_token=(.*)$/);if(ct)return ct[1]}return null}(Y.params)||U.ACCESS_TOKEN;return U.REQUIRE_ACCESS_TOKEN&&ve&&this._skuToken&&Y.params.push("sku="+this._skuToken),this._makeAPIURL(Y,ve)},ne.prototype.canonicalizeTileURL=function(M,O){var Y=de(M);if(!Y.path.match(/(^\/v4\/)/)||!Y.path.match(/\.[\w]+$/))return M;var ae="mapbox://tiles/";ae+=Y.path.replace("/v4/","");var he=Y.params;return O&&(he=he.filter(function(ve){return!ve.match(/^access_token=/)})),he.length&&(ae+="?"+he.join("&")),ae},ne.prototype.canonicalizeTileset=function(M,O){for(var Y=!!O&&se(O),ae=[],he=0,ve=M.tiles||[];he<ve.length;he+=1){var Se=ve[he];pe(Se)?ae.push(this.canonicalizeTileURL(Se,Y)):ae.push(Se)}return ae},ne.prototype._makeAPIURL=function(M,O){var Y="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",ae=de(U.API_URL);if(M.protocol=ae.protocol,M.authority=ae.authority,ae.path!=="/"&&(M.path=""+ae.path+M.path),!U.REQUIRE_ACCESS_TOKEN)return xe(M);if(!(O=O||U.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+Y);if(O[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+Y);return M.params=M.params.filter(function(he){return he.indexOf("access_token")===-1}),M.params.push("access_token="+O),xe(M)};var oe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function pe(M){return oe.test(M)}var ce=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function de(M){var O=M.match(ce);if(!O)throw new Error("Unable to parse URL object");return{protocol:O[1],authority:O[2],path:O[3]||"/",params:O[4]?O[4].split("&"):[]}}function xe(M){var O=M.params.length?"?"+M.params.join("&"):"";return M.protocol+"://"+M.authority+M.path+O}function we(M){if(!M)return null;var O,Y=M.split(".");if(!Y||Y.length!==3)return null;try{return JSON.parse((O=Y[1],decodeURIComponent(self.atob(O).split("").map(function(ae){return"%"+("00"+ae.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var be=function(M){this.type=M,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};be.prototype.getStorageKey=function(M){var O,Y=we(U.ACCESS_TOKEN),ae="";return Y&&Y.u?(O=Y.u,ae=self.btoa(encodeURIComponent(O).replace(/%([0-9A-F]{2})/g,function(he,ve){return String.fromCharCode(+("0x"+ve))}))):ae=U.ACCESS_TOKEN||"",M?"mapbox.eventData."+M+":"+ae:"mapbox.eventData:"+ae},be.prototype.fetchEventData=function(){var M=H("localStorage"),O=this.getStorageKey(),Y=this.getStorageKey("uuid");if(M)try{var ae=self.localStorage.getItem(O);ae&&(this.eventData=JSON.parse(ae));var he=self.localStorage.getItem(Y);he&&(this.anonId=he)}catch{A("Unable to read from LocalStorage")}},be.prototype.saveEventData=function(){var M=H("localStorage"),O=this.getStorageKey(),Y=this.getStorageKey("uuid");if(M)try{self.localStorage.setItem(Y,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(O,JSON.stringify(this.eventData))}catch{A("Unable to write to LocalStorage")}},be.prototype.processRequests=function(M){},be.prototype.postEvent=function(M,O,Y,ae){var he=this;if(U.EVENTS_URL){var ve=de(U.EVENTS_URL);ve.params.push("access_token="+(ae||U.ACCESS_TOKEN||""));var Se={event:this.type,created:new Date(M).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.10.1",skuId:re,userId:this.anonId},Fe=O?s(Se,O):Se,Ke={url:xe(ve),headers:{"Content-Type":"text/plain"},body:JSON.stringify([Fe])};this.pendingRequest=Vt(Ke,function(ct){he.pendingRequest=null,Y(ct),he.saveEventData(),he.processRequests(ae)})}},be.prototype.queueRequest=function(M,O){this.queue.push(M),this.processRequests(O)};var Ee,fe,me=function(M){function O(){M.call(this,"map.load"),this.success={},this.skuToken=""}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.postMapLoadEvent=function(Y,ae,he,ve){this.skuToken=he,(U.EVENTS_URL&&ve||U.ACCESS_TOKEN&&Array.isArray(Y)&&Y.some(function(Se){return se(Se)||pe(Se)}))&&this.queueRequest({id:ae,timestamp:Date.now()},ve)},O.prototype.processRequests=function(Y){var ae=this;if(!this.pendingRequest&&this.queue.length!==0){var he=this.queue.shift(),ve=he.id,Se=he.timestamp;ve&&this.success[ve]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=a()),this.postEvent(Se,{skuToken:this.skuToken},function(Fe){Fe||ve&&(ae.success[ve]=!0)},Y))}},O}(be),Te=new(function(M){function O(Y){M.call(this,"appUserTurnstile"),this._customAccessToken=Y}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.postTurnstileEvent=function(Y,ae){U.EVENTS_URL&&U.ACCESS_TOKEN&&Array.isArray(Y)&&Y.some(function(he){return se(he)||pe(he)})&&this.queueRequest(Date.now(),ae)},O.prototype.processRequests=function(Y){var ae=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var he=we(U.ACCESS_TOKEN),ve=he?he.u:U.ACCESS_TOKEN,Se=ve!==this.eventData.tokenU;x(this.anonId)||(this.anonId=a(),Se=!0);var Fe=this.queue.shift();if(this.eventData.lastSuccess){var Ke=new Date(this.eventData.lastSuccess),ct=new Date(Fe),gt=(Fe-this.eventData.lastSuccess)/864e5;Se=Se||gt>=1||gt<-1||Ke.getDate()!==ct.getDate()}else Se=!0;if(!Se)return this.processRequests();this.postEvent(Fe,{"enabled.telemetry":!1},function(Bt){Bt||(ae.eventData.lastSuccess=Fe,ae.eventData.tokenU=ve)},Y)}},O}(be)),_e=Te.postTurnstileEvent.bind(Te),Ae=new me,Pe=Ae.postMapLoadEvent.bind(Ae),De=500,Ve=50;function Qe(){self.caches&&!Ee&&(Ee=self.caches.open("mapbox-tiles"))}function Oe(M,O,Y){if(Qe(),Ee){var ae={status:O.status,statusText:O.statusText,headers:new self.Headers};O.headers.forEach(function(ve,Se){return ae.headers.set(Se,ve)});var he=E(O.headers.get("Cache-Control")||"");he["no-store"]||(he["max-age"]&&ae.headers.set("Expires",new Date(Y+1e3*he["max-age"]).toUTCString()),new Date(ae.headers.get("Expires")).getTime()-Y<42e4||function(ve,Se){if(fe===void 0)try{new Response(new ReadableStream),fe=!0}catch{fe=!1}fe?Se(ve.body):ve.blob().then(Se)}(O,function(ve){var Se=new self.Response(ve,ae);Qe(),Ee&&Ee.then(function(Fe){return Fe.put(Ue(M.url),Se)}).catch(function(Fe){return A(Fe.message)})}))}}function Ue(M){var O=M.indexOf("?");return O<0?M:M.slice(0,O)}function Ge(M,O){if(Qe(),!Ee)return O(null);var Y=Ue(M.url);Ee.then(function(ae){ae.match(Y).then(function(he){var ve=function(Se){if(!Se)return!1;var Fe=new Date(Se.headers.get("Expires")||0),Ke=E(Se.headers.get("Cache-Control")||"");return Fe>Date.now()&&!Ke["no-cache"]}(he);ae.delete(Y),ve&&ae.put(Y,he.clone()),O(null,he,ve)}).catch(O)}).catch(O)}var Ye,tt=1/0;function lt(){return Ye==null&&(Ye=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Ye}var vt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(vt);var It=function(M){function O(Y,ae,he){ae===401&&pe(he)&&(Y+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),M.call(this,Y),this.status=ae,this.url=he,this.name=this.constructor.name,this.message=Y}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},O}(Error),St=S()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href};function rt(M,O){var Y,ae=new self.AbortController,he=new self.Request(M.url,{method:M.method||"GET",body:M.body,credentials:M.credentials,headers:M.headers,referrer:St(),signal:ae.signal}),ve=!1,Se=!1,Fe=(Y=he.url).indexOf("sku=")>0&&pe(Y);M.type==="json"&&he.headers.set("Accept","application/json");var Ke=function(gt,Bt,Zt){if(!Se){if(gt&&gt.message!=="SecurityError"&&A(gt),Bt&&Zt)return ct(Bt);var qt=Date.now();self.fetch(he).then(function(rr){if(rr.ok){var gr=Fe?rr.clone():null;return ct(rr,gr,qt)}return O(new It(rr.statusText,rr.status,M.url))}).catch(function(rr){rr.code!==20&&O(new Error(rr.message))})}},ct=function(gt,Bt,Zt){(M.type==="arrayBuffer"?gt.arrayBuffer():M.type==="json"?gt.json():gt.text()).then(function(qt){Se||(Bt&&Zt&&Oe(he,Bt,Zt),ve=!0,O(null,qt,gt.headers.get("Cache-Control"),gt.headers.get("Expires")))}).catch(function(qt){Se||O(new Error(qt.message))})};return Fe?Ge(he,Ke):Ke(null,null),{cancel:function(){Se=!0,ve||ae.abort()}}}var et=function(M,O){if(Y=M.url,!(/^file:/.test(Y)||/^file:/.test(St())&&!/^\w+:/.test(Y))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return rt(M,O);if(S()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",M,O,void 0,!0)}var Y;return function(ae,he){var ve=new self.XMLHttpRequest;for(var Se in ve.open(ae.method||"GET",ae.url,!0),ae.type==="arrayBuffer"&&(ve.responseType="arraybuffer"),ae.headers)ve.setRequestHeader(Se,ae.headers[Se]);return ae.type==="json"&&(ve.responseType="text",ve.setRequestHeader("Accept","application/json")),ve.withCredentials=ae.credentials==="include",ve.onerror=function(){he(new Error(ve.statusText))},ve.onload=function(){if((ve.status>=200&&ve.status<300||ve.status===0)&&ve.response!==null){var Fe=ve.response;if(ae.type==="json")try{Fe=JSON.parse(ve.response)}catch(Ke){return he(Ke)}he(null,Fe,ve.getResponseHeader("Cache-Control"),ve.getResponseHeader("Expires"))}else he(new It(ve.statusText,ve.status,ae.url))},ve.send(ae.body),{cancel:function(){return ve.abort()}}}(M,O)},Tt=function(M,O){return et(s(M,{type:"arrayBuffer"}),O)},Vt=function(M,O){return et(s(M,{method:"POST"}),O)},Kt,Be;Kt=[],Be=0;var qe=function(M,O){if(Q.supported&&(M.headers||(M.headers={}),M.headers.accept="image/webp,*/*"),Be>=U.MAX_PARALLEL_IMAGE_REQUESTS){var Y={requestParameters:M,callback:O,cancelled:!1,cancel:function(){this.cancelled=!0}};return Kt.push(Y),Y}Be++;var ae=!1,he=function(){if(!ae)for(ae=!0,Be--;Kt.length&&Be<U.MAX_PARALLEL_IMAGE_REQUESTS;){var Se=Kt.shift(),Fe=Se.requestParameters,Ke=Se.callback;Se.cancelled||(Se.cancel=qe(Fe,Ke).cancel)}},ve=Tt(M,function(Se,Fe,Ke,ct){he(),Se?O(Se):Fe&&(lt()?function(gt,Bt){var Zt=new self.Blob([new Uint8Array(gt)],{type:"image/png"});self.createImageBitmap(Zt).then(function(qt){Bt(null,qt)}).catch(function(qt){Bt(new Error("Could not load image because of "+qt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(Fe,O):function(gt,Bt,Zt,qt){var rr=new self.Image,gr=self.URL;rr.onload=function(){Bt(null,rr),gr.revokeObjectURL(rr.src)},rr.onerror=function(){return Bt(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Er=new self.Blob([new Uint8Array(gt)],{type:"image/png"});rr.cacheControl=Zt,rr.expires=qt,rr.src=gt.byteLength?gr.createObjectURL(Er):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(Fe,O,Ke,ct))});return{cancel:function(){ve.cancel(),he()}}};function Re(M,O,Y){Y[M]&&Y[M].indexOf(O)!==-1||(Y[M]=Y[M]||[],Y[M].push(O))}function Xe(M,O,Y){if(Y&&Y[M]){var ae=Y[M].indexOf(O);ae!==-1&&Y[M].splice(ae,1)}}var ke=function(M,O){O===void 0&&(O={}),s(this,O),this.type=M},Le=function(M){function O(Y,ae){ae===void 0&&(ae={}),M.call(this,"error",s({error:Y},ae))}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O}(ke),Ie=function(){};Ie.prototype.on=function(M,O){return this._listeners=this._listeners||{},Re(M,O,this._listeners),this},Ie.prototype.off=function(M,O){return Xe(M,O,this._listeners),Xe(M,O,this._oneTimeListeners),this},Ie.prototype.once=function(M,O){return this._oneTimeListeners=this._oneTimeListeners||{},Re(M,O,this._oneTimeListeners),this},Ie.prototype.fire=function(M,O){typeof M=="string"&&(M=new ke(M,O||{}));var Y=M.type;if(this.listens(Y)){M.target=this;for(var ae=0,he=this._listeners&&this._listeners[Y]?this._listeners[Y].slice():[];ae<he.length;ae+=1)he[ae].call(this,M);for(var ve=0,Se=this._oneTimeListeners&&this._oneTimeListeners[Y]?this._oneTimeListeners[Y].slice():[];ve<Se.length;ve+=1){var Fe=Se[ve];Xe(Y,Fe,this._oneTimeListeners),Fe.call(this,M)}var Ke=this._eventedParent;Ke&&(s(M,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),Ke.fire(M))}else M instanceof Le&&console.error(M.error);return this},Ie.prototype.listens=function(M){return this._listeners&&this._listeners[M]&&this._listeners[M].length>0||this._oneTimeListeners&&this._oneTimeListeners[M]&&this._oneTimeListeners[M].length>0||this._eventedParent&&this._eventedParent.listens(M)},Ie.prototype.setEventedParent=function(M,O){return this._eventedParent=M,this._eventedParentData=O,this};var Ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Je=function(M,O,Y,ae){this.message=(M?M+": ":"")+Y,ae&&(this.identifier=ae),O!=null&&O.__line__&&(this.line=O.__line__)};function it(M){var O=M.key,Y=M.value;return Y?[new Je(O,Y,"constants have been deprecated as of v8")]:[]}function ht(M){for(var O=[],Y=arguments.length-1;Y-- >0;)O[Y]=arguments[Y+1];for(var ae=0,he=O;ae<he.length;ae+=1){var ve=he[ae];for(var Se in ve)M[Se]=ve[Se]}return M}function ut(M){return M instanceof Number||M instanceof String||M instanceof Boolean?M.valueOf():M}function kt(M){if(Array.isArray(M))return M.map(kt);if(M instanceof Object&&!(M instanceof Number||M instanceof String||M instanceof Boolean)){var O={};for(var Y in M)O[Y]=kt(M[Y]);return O}return ut(M)}var ot=function(M){function O(Y,ae){M.call(this,ae),this.message=ae,this.key=Y}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O}(Error),Lt=function(M,O){O===void 0&&(O=[]),this.parent=M,this.bindings={};for(var Y=0,ae=O;Y<ae.length;Y+=1){var he=ae[Y],ve=he[0],Se=he[1];this.bindings[ve]=Se}};Lt.prototype.concat=function(M){return new Lt(this,M)},Lt.prototype.get=function(M){if(this.bindings[M])return this.bindings[M];if(this.parent)return this.parent.get(M);throw new Error(M+" not found in scope.")},Lt.prototype.has=function(M){return!!this.bindings[M]||!!this.parent&&this.parent.has(M)};var Et={kind:"null"},Ze={kind:"number"},pt={kind:"string"},Ct={kind:"boolean"},zt={kind:"color"},Gt={kind:"object"},ze={kind:"value"},st={kind:"collator"},yt={kind:"formatted"},Dt={kind:"resolvedImage"};function jt(M,O){return{kind:"array",itemType:M,N:O}}function or(M){if(M.kind==="array"){var O=or(M.itemType);return typeof M.N=="number"?"array<"+O+", "+M.N+">":M.itemType.kind==="value"?"array":"array<"+O+">"}return M.kind}var Ut=[Et,Ze,pt,Ct,zt,yt,Gt,jt(ze),Dt];function Xt(M,O){if(O.kind==="error")return null;if(M.kind==="array"){if(O.kind==="array"&&(O.N===0&&O.itemType.kind==="value"||!Xt(M.itemType,O.itemType))&&(typeof M.N!="number"||M.N===O.N))return null}else{if(M.kind===O.kind)return null;if(M.kind==="value"){for(var Y=0,ae=Ut;Y<ae.length;Y+=1)if(!Xt(ae[Y],O))return null}}return"Expected "+or(M)+" but found "+or(O)+" instead."}function sr(M,O){return O.some(function(Y){return Y.kind===M.kind})}function vr(M,O){return O.some(function(Y){return Y==="null"?M===null:Y==="array"?Array.isArray(M):Y==="object"?M&&!Array.isArray(M)&&typeof M=="object":Y===typeof M})}var pr=n(function(M,O){var Y={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ae(Ke){return(Ke=Math.round(Ke))<0?0:Ke>255?255:Ke}function he(Ke){return Ke<0?0:Ke>1?1:Ke}function ve(Ke){return Ke[Ke.length-1]==="%"?ae(parseFloat(Ke)/100*255):ae(parseInt(Ke))}function Se(Ke){return Ke[Ke.length-1]==="%"?he(parseFloat(Ke)/100):he(parseFloat(Ke))}function Fe(Ke,ct,gt){return gt<0?gt+=1:gt>1&&(gt-=1),6*gt<1?Ke+(ct-Ke)*gt*6:2*gt<1?ct:3*gt<2?Ke+(ct-Ke)*(2/3-gt)*6:Ke}try{O.parseCSSColor=function(Ke){var ct,gt=Ke.replace(/ /g,"").toLowerCase();if(gt in Y)return Y[gt].slice();if(gt[0]==="#")return gt.length===4?(ct=parseInt(gt.substr(1),16))>=0&&ct<=4095?[(3840&ct)>>4|(3840&ct)>>8,240&ct|(240&ct)>>4,15&ct|(15&ct)<<4,1]:null:gt.length===7&&(ct=parseInt(gt.substr(1),16))>=0&&ct<=16777215?[(16711680&ct)>>16,(65280&ct)>>8,255&ct,1]:null;var Bt=gt.indexOf("("),Zt=gt.indexOf(")");if(Bt!==-1&&Zt+1===gt.length){var qt=gt.substr(0,Bt),rr=gt.substr(Bt+1,Zt-(Bt+1)).split(","),gr=1;switch(qt){case"rgba":if(rr.length!==4)return null;gr=Se(rr.pop());case"rgb":return rr.length!==3?null:[ve(rr[0]),ve(rr[1]),ve(rr[2]),gr];case"hsla":if(rr.length!==4)return null;gr=Se(rr.pop());case"hsl":if(rr.length!==3)return null;var Er=(parseFloat(rr[0])%360+360)%360/360,Sr=Se(rr[1]),Rr=Se(rr[2]),Br=Rr<=.5?Rr*(Sr+1):Rr+Sr-Rr*Sr,Hr=2*Rr-Br;return[ae(255*Fe(Hr,Br,Er+1/3)),ae(255*Fe(Hr,Br,Er)),ae(255*Fe(Hr,Br,Er-1/3)),gr];default:return null}}return null}}catch{}}).parseCSSColor,ar=function(M,O,Y,ae){ae===void 0&&(ae=1),this.r=M,this.g=O,this.b=Y,this.a=ae};ar.parse=function(M){if(M){if(M instanceof ar)return M;if(typeof M=="string"){var O=pr(M);if(O)return new ar(O[0]/255*O[3],O[1]/255*O[3],O[2]/255*O[3],O[3])}}},ar.prototype.toString=function(){var M=this.toArray(),O=M[0],Y=M[1],ae=M[2],he=M[3];return"rgba("+Math.round(O)+","+Math.round(Y)+","+Math.round(ae)+","+he+")"},ar.prototype.toArray=function(){var M=this.r,O=this.g,Y=this.b,ae=this.a;return ae===0?[0,0,0,0]:[255*M/ae,255*O/ae,255*Y/ae,ae]},ar.black=new ar(0,0,0,1),ar.white=new ar(1,1,1,1),ar.transparent=new ar(0,0,0,0),ar.red=new ar(1,0,0,1);var lr=function(M,O,Y){this.sensitivity=M?O?"variant":"case":O?"accent":"base",this.locale=Y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};lr.prototype.compare=function(M,O){return this.collator.compare(M,O)},lr.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var hr=function(M,O,Y,ae,he){this.text=M,this.image=O,this.scale=Y,this.fontStack=ae,this.textColor=he},Or=function(M){this.sections=M};Or.fromString=function(M){return new Or([new hr(M,null,null,null,null)])},Or.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(M){return M.text.length!==0||M.image&&M.image.name.length!==0})},Or.factory=function(M){return M instanceof Or?M:Or.fromString(M)},Or.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(M){return M.text}).join("")},Or.prototype.serialize=function(){for(var M=["format"],O=0,Y=this.sections;O<Y.length;O+=1){var ae=Y[O];if(ae.image)M.push(["image",ae.image.name]);else{M.push(ae.text);var he={};ae.fontStack&&(he["text-font"]=["literal",ae.fontStack.split(",")]),ae.scale&&(he["font-scale"]=ae.scale),ae.textColor&&(he["text-color"]=["rgba"].concat(ae.textColor.toArray())),M.push(he)}}return M};var dr=function(M){this.name=M.name,this.available=M.available};function Fr(M,O,Y,ae){return typeof M=="number"&&M>=0&&M<=255&&typeof O=="number"&&O>=0&&O<=255&&typeof Y=="number"&&Y>=0&&Y<=255?ae===void 0||typeof ae=="number"&&ae>=0&&ae<=1?null:"Invalid rgba value ["+[M,O,Y,ae].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof ae=="number"?[M,O,Y,ae]:[M,O,Y]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function tn(M){if(M===null||typeof M=="string"||typeof M=="boolean"||typeof M=="number"||M instanceof ar||M instanceof lr||M instanceof Or||M instanceof dr)return!0;if(Array.isArray(M)){for(var O=0,Y=M;O<Y.length;O+=1)if(!tn(Y[O]))return!1;return!0}if(typeof M=="object"){for(var ae in M)if(!tn(M[ae]))return!1;return!0}return!1}function rn(M){if(M===null)return Et;if(typeof M=="string")return pt;if(typeof M=="boolean")return Ct;if(typeof M=="number")return Ze;if(M instanceof ar)return zt;if(M instanceof lr)return st;if(M instanceof Or)return yt;if(M instanceof dr)return Dt;if(Array.isArray(M)){for(var O,Y=M.length,ae=0,he=M;ae<he.length;ae+=1){var ve=rn(he[ae]);if(O){if(O===ve)continue;O=ze;break}O=ve}return jt(O||ze,Y)}return Gt}function An(M){var O=typeof M;return M===null?"":O==="string"||O==="number"||O==="boolean"?String(M):M instanceof ar||M instanceof Or||M instanceof dr?M.toString():JSON.stringify(M)}dr.prototype.toString=function(){return this.name},dr.fromString=function(M){return M?new dr({name:M,available:!1}):null},dr.prototype.serialize=function(){return["image",this.name]};var Ln=function(M,O){this.type=M,this.value=O};Ln.parse=function(M,O){if(M.length!==2)return O.error("'literal' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(!tn(M[1]))return O.error("invalid value");var Y=M[1],ae=rn(Y),he=O.expectedType;return ae.kind!=="array"||ae.N!==0||!he||he.kind!=="array"||typeof he.N=="number"&&he.N!==0||(ae=he),new Ln(ae,Y)},Ln.prototype.evaluate=function(){return this.value},Ln.prototype.eachChild=function(){},Ln.prototype.outputDefined=function(){return!0},Ln.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ar?["rgba"].concat(this.value.toArray()):this.value instanceof Or?this.value.serialize():this.value};var _n=function(M){this.name="ExpressionEvaluationError",this.message=M};_n.prototype.toJSON=function(){return this.message};var Vr={string:pt,number:Ze,boolean:Ct,object:Gt},Ir=function(M,O){this.type=M,this.args=O};Ir.parse=function(M,O){if(M.length<2)return O.error("Expected at least one argument.");var Y,ae=1,he=M[0];if(he==="array"){var ve,Se;if(M.length>2){var Fe=M[1];if(typeof Fe!="string"||!(Fe in Vr)||Fe==="object")return O.error('The item type argument of "array" must be one of string, number, boolean',1);ve=Vr[Fe],ae++}else ve=ze;if(M.length>3){if(M[2]!==null&&(typeof M[2]!="number"||M[2]<0||M[2]!==Math.floor(M[2])))return O.error('The length argument to "array" must be a positive integer literal',2);Se=M[2],ae++}Y=jt(ve,Se)}else Y=Vr[he];for(var Ke=[];ae<M.length;ae++){var ct=O.parse(M[ae],ae,ze);if(!ct)return null;Ke.push(ct)}return new Ir(Y,Ke)},Ir.prototype.evaluate=function(M){for(var O=0;O<this.args.length;O++){var Y=this.args[O].evaluate(M);if(!Xt(this.type,rn(Y)))return Y;if(O===this.args.length-1)throw new _n("Expected value to be of type "+or(this.type)+", but found "+or(rn(Y))+" instead.")}return null},Ir.prototype.eachChild=function(M){this.args.forEach(M)},Ir.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Ir.prototype.serialize=function(){var M=this.type,O=[M.kind];if(M.kind==="array"){var Y=M.itemType;if(Y.kind==="string"||Y.kind==="number"||Y.kind==="boolean"){O.push(Y.kind);var ae=M.N;(typeof ae=="number"||this.args.length>1)&&O.push(ae)}}return O.concat(this.args.map(function(he){return he.serialize()}))};var xr=function(M){this.type=yt,this.sections=M};xr.parse=function(M,O){if(M.length<2)return O.error("Expected at least one argument.");var Y=M[1];if(!Array.isArray(Y)&&typeof Y=="object")return O.error("First argument must be an image or text section.");for(var ae=[],he=!1,ve=1;ve<=M.length-1;++ve){var Se=M[ve];if(he&&typeof Se=="object"&&!Array.isArray(Se)){he=!1;var Fe=null;if(Se["font-scale"]&&!(Fe=O.parse(Se["font-scale"],1,Ze)))return null;var Ke=null;if(Se["text-font"]&&!(Ke=O.parse(Se["text-font"],1,jt(pt))))return null;var ct=null;if(Se["text-color"]&&!(ct=O.parse(Se["text-color"],1,zt)))return null;var gt=ae[ae.length-1];gt.scale=Fe,gt.font=Ke,gt.textColor=ct}else{var Bt=O.parse(M[ve],1,ze);if(!Bt)return null;var Zt=Bt.type.kind;if(Zt!=="string"&&Zt!=="value"&&Zt!=="null"&&Zt!=="resolvedImage")return O.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");he=!0,ae.push({content:Bt,scale:null,font:null,textColor:null})}}return new xr(ae)},xr.prototype.evaluate=function(M){return new Or(this.sections.map(function(O){var Y=O.content.evaluate(M);return rn(Y)===Dt?new hr("",Y,null,null,null):new hr(An(Y),null,O.scale?O.scale.evaluate(M):null,O.font?O.font.evaluate(M).join(","):null,O.textColor?O.textColor.evaluate(M):null)}))},xr.prototype.eachChild=function(M){for(var O=0,Y=this.sections;O<Y.length;O+=1){var ae=Y[O];M(ae.content),ae.scale&&M(ae.scale),ae.font&&M(ae.font),ae.textColor&&M(ae.textColor)}},xr.prototype.outputDefined=function(){return!1},xr.prototype.serialize=function(){for(var M=["format"],O=0,Y=this.sections;O<Y.length;O+=1){var ae=Y[O];M.push(ae.content.serialize());var he={};ae.scale&&(he["font-scale"]=ae.scale.serialize()),ae.font&&(he["text-font"]=ae.font.serialize()),ae.textColor&&(he["text-color"]=ae.textColor.serialize()),M.push(he)}return M};var Nr=function(M){this.type=Dt,this.input=M};Nr.parse=function(M,O){if(M.length!==2)return O.error("Expected two arguments.");var Y=O.parse(M[1],1,pt);return Y?new Nr(Y):O.error("No image name provided.")},Nr.prototype.evaluate=function(M){var O=this.input.evaluate(M),Y=dr.fromString(O);return Y&&M.availableImages&&(Y.available=M.availableImages.indexOf(O)>-1),Y},Nr.prototype.eachChild=function(M){M(this.input)},Nr.prototype.outputDefined=function(){return!1},Nr.prototype.serialize=function(){return["image",this.input.serialize()]};var en={"to-boolean":Ct,"to-color":zt,"to-number":Ze,"to-string":pt},Qr=function(M,O){this.type=M,this.args=O};Qr.parse=function(M,O){if(M.length<2)return O.error("Expected at least one argument.");var Y=M[0];if((Y==="to-boolean"||Y==="to-string")&&M.length!==2)return O.error("Expected one argument.");for(var ae=en[Y],he=[],ve=1;ve<M.length;ve++){var Se=O.parse(M[ve],ve,ze);if(!Se)return null;he.push(Se)}return new Qr(ae,he)},Qr.prototype.evaluate=function(M){if(this.type.kind==="boolean")return!!this.args[0].evaluate(M);if(this.type.kind==="color"){for(var O,Y,ae=0,he=this.args;ae<he.length;ae+=1){if(Y=null,(O=he[ae].evaluate(M))instanceof ar)return O;if(typeof O=="string"){var ve=M.parseColor(O);if(ve)return ve}else if(Array.isArray(O)&&!(Y=O.length<3||O.length>4?"Invalid rbga value "+JSON.stringify(O)+": expected an array containing either three or four numeric values.":Fr(O[0],O[1],O[2],O[3])))return new ar(O[0]/255,O[1]/255,O[2]/255,O[3])}throw new _n(Y||"Could not parse color from value '"+(typeof O=="string"?O:String(JSON.stringify(O)))+"'")}if(this.type.kind==="number"){for(var Se=null,Fe=0,Ke=this.args;Fe<Ke.length;Fe+=1){if((Se=Ke[Fe].evaluate(M))===null)return 0;var ct=Number(Se);if(!isNaN(ct))return ct}throw new _n("Could not convert "+JSON.stringify(Se)+" to number.")}return this.type.kind==="formatted"?Or.fromString(An(this.args[0].evaluate(M))):this.type.kind==="resolvedImage"?dr.fromString(An(this.args[0].evaluate(M))):An(this.args[0].evaluate(M))},Qr.prototype.eachChild=function(M){this.args.forEach(M)},Qr.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},Qr.prototype.serialize=function(){if(this.type.kind==="formatted")return new xr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Nr(this.args[0]).serialize();var M=["to-"+this.type.kind];return this.eachChild(function(O){M.push(O.serialize())}),M};var yn=["Unknown","Point","LineString","Polygon"],un=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};un.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},un.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?yn[this.feature.type]:this.feature.type:null},un.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},un.prototype.canonicalID=function(){return this.canonical},un.prototype.properties=function(){return this.feature&&this.feature.properties||{}},un.prototype.parseColor=function(M){var O=this._parseColorCache[M];return O||(O=this._parseColorCache[M]=ar.parse(M)),O};var $r=function(M,O,Y,ae){this.name=M,this.type=O,this._evaluate=Y,this.args=ae};$r.prototype.evaluate=function(M){return this._evaluate(M,this.args)},$r.prototype.eachChild=function(M){this.args.forEach(M)},$r.prototype.outputDefined=function(){return!1},$r.prototype.serialize=function(){return[this.name].concat(this.args.map(function(M){return M.serialize()}))},$r.parse=function(M,O){var Y,ae=M[0],he=$r.definitions[ae];if(!he)return O.error('Unknown expression "'+ae+'". If you wanted a literal array, use ["literal", [...]].',0);for(var ve=Array.isArray(he)?he[0]:he.type,Se=Array.isArray(he)?[[he[1],he[2]]]:he.overloads,Fe=Se.filter(function(ra){var Wn=ra[0];return!Array.isArray(Wn)||Wn.length===M.length-1}),Ke=null,ct=0,gt=Fe;ct<gt.length;ct+=1){var Bt=gt[ct],Zt=Bt[0],qt=Bt[1];Ke=new pn(O.registry,O.path,null,O.scope);for(var rr=[],gr=!1,Er=1;Er<M.length;Er++){var Sr=M[Er],Rr=Array.isArray(Zt)?Zt[Er-1]:Zt.type,Br=Ke.parse(Sr,1+rr.length,Rr);if(!Br){gr=!0;break}rr.push(Br)}if(!gr)if(Array.isArray(Zt)&&Zt.length!==rr.length)Ke.error("Expected "+Zt.length+" arguments, but found "+rr.length+" instead.");else{for(var Hr=0;Hr<rr.length;Hr++){var fn=Array.isArray(Zt)?Zt[Hr]:Zt.type,xn=rr[Hr];Ke.concat(Hr+1).checkSubtype(fn,xn.type)}if(Ke.errors.length===0)return new $r(ae,ve,qt,rr)}}if(Fe.length===1)(Y=O.errors).push.apply(Y,Ke.errors);else{for(var Fn=(Fe.length?Fe:Se).map(function(ra){var Wn,ca=ra[0];return Wn=ca,Array.isArray(Wn)?"("+Wn.map(or).join(", ")+")":"("+or(Wn.type)+"...)"}).join(" | "),Rn=[],Hn=1;Hn<M.length;Hn++){var ta=O.parse(M[Hn],1+Rn.length);if(!ta)return null;Rn.push(or(ta.type))}O.error("Expected arguments of type "+Fn+", but found ("+Rn.join(", ")+") instead.")}return null},$r.register=function(M,O){for(var Y in $r.definitions=O,O)M[Y]=$r};var In=function(M,O,Y){this.type=st,this.locale=Y,this.caseSensitive=M,this.diacriticSensitive=O};In.parse=function(M,O){if(M.length!==2)return O.error("Expected one argument.");var Y=M[1];if(typeof Y!="object"||Array.isArray(Y))return O.error("Collator options argument must be an object.");var ae=O.parse(Y["case-sensitive"]!==void 0&&Y["case-sensitive"],1,Ct);if(!ae)return null;var he=O.parse(Y["diacritic-sensitive"]!==void 0&&Y["diacritic-sensitive"],1,Ct);if(!he)return null;var ve=null;return Y.locale&&!(ve=O.parse(Y.locale,1,pt))?null:new In(ae,he,ve)},In.prototype.evaluate=function(M){return new lr(this.caseSensitive.evaluate(M),this.diacriticSensitive.evaluate(M),this.locale?this.locale.evaluate(M):null)},In.prototype.eachChild=function(M){M(this.caseSensitive),M(this.diacriticSensitive),this.locale&&M(this.locale)},In.prototype.outputDefined=function(){return!1},In.prototype.serialize=function(){var M={};return M["case-sensitive"]=this.caseSensitive.serialize(),M["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(M.locale=this.locale.serialize()),["collator",M]};function Qt(M,O){M[0]=Math.min(M[0],O[0]),M[1]=Math.min(M[1],O[1]),M[2]=Math.max(M[2],O[0]),M[3]=Math.max(M[3],O[1])}function Pt(M,O){return!(M[0]<=O[0])&&!(M[2]>=O[2])&&!(M[1]<=O[1])&&!(M[3]>=O[3])}function Yt(M,O){var Y,ae=(180+M[0])/360,he=(Y=M[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Y*Math.PI/360)))/360),ve=Math.pow(2,O.z);return[Math.round(ae*ve*8192),Math.round(he*ve*8192)]}function cr(M,O,Y){return O[1]>M[1]!=Y[1]>M[1]&&M[0]<(Y[0]-O[0])*(M[1]-O[1])/(Y[1]-O[1])+O[0]}function wr(M,O){for(var Y,ae,he,ve,Se,Fe,Ke,ct=!1,gt=0,Bt=O.length;gt<Bt;gt++)for(var Zt=O[gt],qt=0,rr=Zt.length;qt<rr-1;qt++){if(Y=M,ae=Zt[qt],he=Zt[qt+1],ve=void 0,Se=void 0,Fe=void 0,Ke=void 0,ve=Y[0]-ae[0],Se=Y[1]-ae[1],Fe=Y[0]-he[0],Ke=Y[1]-he[1],ve*Ke-Fe*Se==0&&ve*Fe<=0&&Se*Ke<=0)return!1;cr(M,Zt[qt],Zt[qt+1])&&(ct=!ct)}return ct}function qr(M,O){for(var Y=0;Y<O.length;Y++)if(wr(M,O[Y]))return!0;return!1}function Ur(M,O,Y,ae){var he=M[0]-Y[0],ve=M[1]-Y[1],Se=O[0]-Y[0],Fe=O[1]-Y[1],Ke=ae[0]-Y[0],ct=ae[1]-Y[1],gt=he*ct-Ke*ve,Bt=Se*ct-Ke*Fe;return gt>0&&Bt<0||gt<0&&Bt>0}function br(M,O,Y){for(var ae=0,he=Y;ae<he.length;ae+=1)for(var ve=he[ae],Se=0;Se<ve.length-1;++Se)if(Fe=M,Ke=O,ct=ve[Se],gt=ve[Se+1],Bt=void 0,Zt=void 0,qt=void 0,rr=void 0,qt=[Ke[0]-Fe[0],Ke[1]-Fe[1]],rr=[gt[0]-ct[0],gt[1]-ct[1]],(Bt=rr)[0]*(Zt=qt)[1]-Bt[1]*Zt[0]!=0&&Ur(Fe,Ke,ct,gt)&&Ur(ct,gt,Fe,Ke))return!0;var Fe,Ke,ct,gt,Bt,Zt,qt,rr;return!1}function _r(M,O){for(var Y=0;Y<M.length;++Y)if(!wr(M[Y],O))return!1;for(var ae=0;ae<M.length-1;++ae)if(br(M[ae],M[ae+1],O))return!1;return!0}function Ar(M,O){for(var Y=0;Y<O.length;Y++)if(_r(M,O[Y]))return!0;return!1}function Mr(M,O,Y){for(var ae=[],he=0;he<M.length;he++){for(var ve=[],Se=0;Se<M[he].length;Se++){var Fe=Yt(M[he][Se],Y);Qt(O,Fe),ve.push(Fe)}ae.push(ve)}return ae}function Cr(M,O,Y){for(var ae=[],he=0;he<M.length;he++){var ve=Mr(M[he],O,Y);ae.push(ve)}return ae}function Gr(M,O,Y,ae){if(M[0]<Y[0]||M[0]>Y[2]){var he=.5*ae,ve=M[0]-Y[0]>he?-ae:Y[0]-M[0]>he?ae:0;ve===0&&(ve=M[0]-Y[2]>he?-ae:Y[2]-M[0]>he?ae:0),M[0]+=ve}Qt(O,M)}function cn(M,O,Y,ae){for(var he=8192*Math.pow(2,ae.z),ve=[8192*ae.x,8192*ae.y],Se=[],Fe=0,Ke=M;Fe<Ke.length;Fe+=1)for(var ct=0,gt=Ke[Fe];ct<gt.length;ct+=1){var Bt=gt[ct],Zt=[Bt.x+ve[0],Bt.y+ve[1]];Gr(Zt,O,Y,he),Se.push(Zt)}return Se}function wn(M,O,Y,ae){for(var he,ve=8192*Math.pow(2,ae.z),Se=[8192*ae.x,8192*ae.y],Fe=[],Ke=0,ct=M;Ke<ct.length;Ke+=1){for(var gt=[],Bt=0,Zt=ct[Ke];Bt<Zt.length;Bt+=1){var qt=Zt[Bt],rr=[qt.x+Se[0],qt.y+Se[1]];Qt(O,rr),gt.push(rr)}Fe.push(gt)}if(O[2]-O[0]<=ve/2){(he=O)[0]=he[1]=1/0,he[2]=he[3]=-1/0;for(var gr=0,Er=Fe;gr<Er.length;gr+=1)for(var Sr=0,Rr=Er[gr];Sr<Rr.length;Sr+=1)Gr(Rr[Sr],O,Y,ve)}return Fe}var Kr=function(M,O){this.type=Ct,this.geojson=M,this.geometries=O};function bn(M){if(M instanceof $r&&(M.name==="get"&&M.args.length===1||M.name==="feature-state"||M.name==="has"&&M.args.length===1||M.name==="properties"||M.name==="geometry-type"||M.name==="id"||/^filter-/.test(M.name))||M instanceof Kr)return!1;var O=!0;return M.eachChild(function(Y){O&&!bn(Y)&&(O=!1)}),O}function zr(M){if(M instanceof $r&&M.name==="feature-state")return!1;var O=!0;return M.eachChild(function(Y){O&&!zr(Y)&&(O=!1)}),O}function Wr(M,O){if(M instanceof $r&&O.indexOf(M.name)>=0)return!1;var Y=!0;return M.eachChild(function(ae){Y&&!Wr(ae,O)&&(Y=!1)}),Y}Kr.parse=function(M,O){if(M.length!==2)return O.error("'within' expression requires exactly one argument, but found "+(M.length-1)+" instead.");if(tn(M[1])){var Y=M[1];if(Y.type==="FeatureCollection")for(var ae=0;ae<Y.features.length;++ae){var he=Y.features[ae].geometry.type;if(he==="Polygon"||he==="MultiPolygon")return new Kr(Y,Y.features[ae].geometry)}else if(Y.type==="Feature"){var ve=Y.geometry.type;if(ve==="Polygon"||ve==="MultiPolygon")return new Kr(Y,Y.geometry)}else if(Y.type==="Polygon"||Y.type==="MultiPolygon")return new Kr(Y,Y)}return O.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Kr.prototype.evaluate=function(M){if(M.geometry()!=null&&M.canonicalID()!=null){if(M.geometryType()==="Point")return function(O,Y){var ae=[1/0,1/0,-1/0,-1/0],he=[1/0,1/0,-1/0,-1/0],ve=O.canonicalID();if(Y.type==="Polygon"){var Se=Mr(Y.coordinates,he,ve),Fe=cn(O.geometry(),ae,he,ve);if(!Pt(ae,he))return!1;for(var Ke=0,ct=Fe;Ke<ct.length;Ke+=1)if(!wr(ct[Ke],Se))return!1}if(Y.type==="MultiPolygon"){var gt=Cr(Y.coordinates,he,ve),Bt=cn(O.geometry(),ae,he,ve);if(!Pt(ae,he))return!1;for(var Zt=0,qt=Bt;Zt<qt.length;Zt+=1)if(!qr(qt[Zt],gt))return!1}return!0}(M,this.geometries);if(M.geometryType()==="LineString")return function(O,Y){var ae=[1/0,1/0,-1/0,-1/0],he=[1/0,1/0,-1/0,-1/0],ve=O.canonicalID();if(Y.type==="Polygon"){var Se=Mr(Y.coordinates,he,ve),Fe=wn(O.geometry(),ae,he,ve);if(!Pt(ae,he))return!1;for(var Ke=0,ct=Fe;Ke<ct.length;Ke+=1)if(!_r(ct[Ke],Se))return!1}if(Y.type==="MultiPolygon"){var gt=Cr(Y.coordinates,he,ve),Bt=wn(O.geometry(),ae,he,ve);if(!Pt(ae,he))return!1;for(var Zt=0,qt=Bt;Zt<qt.length;Zt+=1)if(!Ar(qt[Zt],gt))return!1}return!0}(M,this.geometries)}return!1},Kr.prototype.eachChild=function(){},Kr.prototype.outputDefined=function(){return!0},Kr.prototype.serialize=function(){return["within",this.geojson]};var mn=function(M,O){this.type=O.type,this.name=M,this.boundExpression=O};mn.parse=function(M,O){if(M.length!==2||typeof M[1]!="string")return O.error("'var' expression requires exactly one string literal argument.");var Y=M[1];return O.scope.has(Y)?new mn(Y,O.scope.get(Y)):O.error('Unknown variable "'+Y+'". Make sure "'+Y+'" has been bound in an enclosing "let" expression before using it.',1)},mn.prototype.evaluate=function(M){return this.boundExpression.evaluate(M)},mn.prototype.eachChild=function(){},mn.prototype.outputDefined=function(){return!1},mn.prototype.serialize=function(){return["var",this.name]};var pn=function(M,O,Y,ae,he){O===void 0&&(O=[]),ae===void 0&&(ae=new Lt),he===void 0&&(he=[]),this.registry=M,this.path=O,this.key=O.map(function(ve){return"["+ve+"]"}).join(""),this.scope=ae,this.errors=he,this.expectedType=Y};function Pn(M,O){for(var Y,ae,he=M.length-1,ve=0,Se=he,Fe=0;ve<=Se;)if(Y=M[Fe=Math.floor((ve+Se)/2)],ae=M[Fe+1],Y<=O){if(Fe===he||O<ae)return Fe;ve=Fe+1}else{if(!(Y>O))throw new _n("Input is not a number.");Se=Fe-1}return 0}pn.prototype.parse=function(M,O,Y,ae,he){return he===void 0&&(he={}),O?this.concat(O,Y,ae)._parse(M,he):this._parse(M,he)},pn.prototype._parse=function(M,O){function Y(ct,gt,Bt){return Bt==="assert"?new Ir(gt,[ct]):Bt==="coerce"?new Qr(gt,[ct]):ct}if(M!==null&&typeof M!="string"&&typeof M!="boolean"&&typeof M!="number"||(M=["literal",M]),Array.isArray(M)){if(M.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var ae=M[0];if(typeof ae!="string")return this.error("Expression name must be a string, but found "+typeof ae+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var he=this.registry[ae];if(he){var ve=he.parse(M,this);if(!ve)return null;if(this.expectedType){var Se=this.expectedType,Fe=ve.type;if(Se.kind!=="string"&&Se.kind!=="number"&&Se.kind!=="boolean"&&Se.kind!=="object"&&Se.kind!=="array"||Fe.kind!=="value")if(Se.kind!=="color"&&Se.kind!=="formatted"&&Se.kind!=="resolvedImage"||Fe.kind!=="value"&&Fe.kind!=="string"){if(this.checkSubtype(Se,Fe))return null}else ve=Y(ve,Se,O.typeAnnotation||"coerce");else ve=Y(ve,Se,O.typeAnnotation||"assert")}if(!(ve instanceof Ln)&&ve.type.kind!=="resolvedImage"&&function ct(gt){if(gt instanceof mn)return ct(gt.boundExpression);if(gt instanceof $r&&gt.name==="error"||gt instanceof In||gt instanceof Kr)return!1;var Bt=gt instanceof Qr||gt instanceof Ir,Zt=!0;return gt.eachChild(function(qt){Zt=Bt?Zt&&ct(qt):Zt&&qt instanceof Ln}),Zt?bn(gt)&&Wr(gt,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}(ve)){var Ke=new un;try{ve=new Ln(ve.type,ve.evaluate(Ke))}catch(ct){return this.error(ct.message),null}}return ve}return this.error('Unknown expression "'+ae+'". If you wanted a literal array, use ["literal", [...]].',0)}return M===void 0?this.error("'undefined' value invalid. Use null instead."):typeof M=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof M+" instead.")},pn.prototype.concat=function(M,O,Y){var ae=typeof M=="number"?this.path.concat(M):this.path,he=Y?this.scope.concat(Y):this.scope;return new pn(this.registry,ae,O||null,he,this.errors)},pn.prototype.error=function(M){for(var O=[],Y=arguments.length-1;Y-- >0;)O[Y]=arguments[Y+1];var ae=""+this.key+O.map(function(he){return"["+he+"]"}).join("");this.errors.push(new ot(ae,M))},pn.prototype.checkSubtype=function(M,O){var Y=Xt(M,O);return Y&&this.error(Y),Y};var aa=function(M,O,Y){this.type=M,this.input=O,this.labels=[],this.outputs=[];for(var ae=0,he=Y;ae<he.length;ae+=1){var ve=he[ae],Se=ve[0],Fe=ve[1];this.labels.push(Se),this.outputs.push(Fe)}};function qn(M,O,Y){return M*(1-Y)+O*Y}aa.parse=function(M,O){if(M.length-1<4)return O.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return O.error("Expected an even number of arguments.");var Y=O.parse(M[1],1,Ze);if(!Y)return null;var ae=[],he=null;O.expectedType&&O.expectedType.kind!=="value"&&(he=O.expectedType);for(var ve=1;ve<M.length;ve+=2){var Se=ve===1?-1/0:M[ve],Fe=M[ve+1],Ke=ve,ct=ve+1;if(typeof Se!="number")return O.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ke);if(ae.length&&ae[ae.length-1][0]>=Se)return O.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Ke);var gt=O.parse(Fe,ct,he);if(!gt)return null;he=he||gt.type,ae.push([Se,gt])}return new aa(he,Y,ae)},aa.prototype.evaluate=function(M){var O=this.labels,Y=this.outputs;if(O.length===1)return Y[0].evaluate(M);var ae=this.input.evaluate(M);if(ae<=O[0])return Y[0].evaluate(M);var he=O.length;return ae>=O[he-1]?Y[he-1].evaluate(M):Y[Pn(O,ae)].evaluate(M)},aa.prototype.eachChild=function(M){M(this.input);for(var O=0,Y=this.outputs;O<Y.length;O+=1)M(Y[O])},aa.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},aa.prototype.serialize=function(){for(var M=["step",this.input.serialize()],O=0;O<this.labels.length;O++)O>0&&M.push(this.labels[O]),M.push(this.outputs[O].serialize());return M};var vn=Object.freeze({__proto__:null,number:qn,color:function(M,O,Y){return new ar(qn(M.r,O.r,Y),qn(M.g,O.g,Y),qn(M.b,O.b,Y),qn(M.a,O.a,Y))},array:function(M,O,Y){return M.map(function(ae,he){return qn(ae,O[he],Y)})}}),ea=6/29,ua=3*ea*ea,Ya=Math.PI/180,Ei=180/Math.PI;function ei(M){return M>.008856451679035631?Math.pow(M,1/3):M/ua+4/29}function gi(M){return M>ea?M*M*M:ua*(M-4/29)}function ka(M){return 255*(M<=.0031308?12.92*M:1.055*Math.pow(M,1/2.4)-.055)}function Fa(M){return(M/=255)<=.04045?M/12.92:Math.pow((M+.055)/1.055,2.4)}function so(M){var O=Fa(M.r),Y=Fa(M.g),ae=Fa(M.b),he=ei((.4124564*O+.3575761*Y+.1804375*ae)/.95047),ve=ei((.2126729*O+.7151522*Y+.072175*ae)/1);return{l:116*ve-16,a:500*(he-ve),b:200*(ve-ei((.0193339*O+.119192*Y+.9503041*ae)/1.08883)),alpha:M.a}}function Do(M){var O=(M.l+16)/116,Y=isNaN(M.a)?O:O+M.a/500,ae=isNaN(M.b)?O:O-M.b/200;return O=1*gi(O),Y=.95047*gi(Y),ae=1.08883*gi(ae),new ar(ka(3.2404542*Y-1.5371385*O-.4985314*ae),ka(-.969266*Y+1.8760108*O+.041556*ae),ka(.0556434*Y-.2040259*O+1.0572252*ae),M.alpha)}function qo(M,O,Y){var ae=O-M;return M+Y*(ae>180||ae<-180?ae-360*Math.round(ae/360):ae)}var Vi={forward:so,reverse:Do,interpolate:function(M,O,Y){return{l:qn(M.l,O.l,Y),a:qn(M.a,O.a,Y),b:qn(M.b,O.b,Y),alpha:qn(M.alpha,O.alpha,Y)}}},Gi={forward:function(M){var O=so(M),Y=O.l,ae=O.a,he=O.b,ve=Math.atan2(he,ae)*Ei;return{h:ve<0?ve+360:ve,c:Math.sqrt(ae*ae+he*he),l:Y,alpha:M.a}},reverse:function(M){var O=M.h*Ya,Y=M.c;return Do({l:M.l,a:Math.cos(O)*Y,b:Math.sin(O)*Y,alpha:M.alpha})},interpolate:function(M,O,Y){return{h:qo(M.h,O.h,Y),c:qn(M.c,O.c,Y),l:qn(M.l,O.l,Y),alpha:qn(M.alpha,O.alpha,Y)}}},Ro=Object.freeze({__proto__:null,lab:Vi,hcl:Gi}),ja=function(M,O,Y,ae,he){this.type=M,this.operator=O,this.interpolation=Y,this.input=ae,this.labels=[],this.outputs=[];for(var ve=0,Se=he;ve<Se.length;ve+=1){var Fe=Se[ve],Ke=Fe[0],ct=Fe[1];this.labels.push(Ke),this.outputs.push(ct)}};function wo(M,O,Y,ae){var he=ae-Y,ve=M-Y;return he===0?0:O===1?ve/he:(Math.pow(O,ve)-1)/(Math.pow(O,he)-1)}ja.interpolationFactor=function(M,O,Y,ae){var he=0;if(M.name==="exponential")he=wo(O,M.base,Y,ae);else if(M.name==="linear")he=wo(O,1,Y,ae);else if(M.name==="cubic-bezier"){var ve=M.controlPoints;he=new r(ve[0],ve[1],ve[2],ve[3]).solve(wo(O,1,Y,ae))}return he},ja.parse=function(M,O){var Y=M[0],ae=M[1],he=M[2],ve=M.slice(3);if(!Array.isArray(ae)||ae.length===0)return O.error("Expected an interpolation type expression.",1);if(ae[0]==="linear")ae={name:"linear"};else if(ae[0]==="exponential"){var Se=ae[1];if(typeof Se!="number")return O.error("Exponential interpolation requires a numeric base.",1,1);ae={name:"exponential",base:Se}}else{if(ae[0]!=="cubic-bezier")return O.error("Unknown interpolation type "+String(ae[0]),1,0);var Fe=ae.slice(1);if(Fe.length!==4||Fe.some(function(Er){return typeof Er!="number"||Er<0||Er>1}))return O.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);ae={name:"cubic-bezier",controlPoints:Fe}}if(M.length-1<4)return O.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if((M.length-1)%2!=0)return O.error("Expected an even number of arguments.");if(!(he=O.parse(he,2,Ze)))return null;var Ke=[],ct=null;Y==="interpolate-hcl"||Y==="interpolate-lab"?ct=zt:O.expectedType&&O.expectedType.kind!=="value"&&(ct=O.expectedType);for(var gt=0;gt<ve.length;gt+=2){var Bt=ve[gt],Zt=ve[gt+1],qt=gt+3,rr=gt+4;if(typeof Bt!="number")return O.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',qt);if(Ke.length&&Ke[Ke.length-1][0]>=Bt)return O.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',qt);var gr=O.parse(Zt,rr,ct);if(!gr)return null;ct=ct||gr.type,Ke.push([Bt,gr])}return ct.kind==="number"||ct.kind==="color"||ct.kind==="array"&&ct.itemType.kind==="number"&&typeof ct.N=="number"?new ja(ct,Y,ae,he,Ke):O.error("Type "+or(ct)+" is not interpolatable.")},ja.prototype.evaluate=function(M){var O=this.labels,Y=this.outputs;if(O.length===1)return Y[0].evaluate(M);var ae=this.input.evaluate(M);if(ae<=O[0])return Y[0].evaluate(M);var he=O.length;if(ae>=O[he-1])return Y[he-1].evaluate(M);var ve=Pn(O,ae),Se=O[ve],Fe=O[ve+1],Ke=ja.interpolationFactor(this.interpolation,ae,Se,Fe),ct=Y[ve].evaluate(M),gt=Y[ve+1].evaluate(M);return this.operator==="interpolate"?vn[this.type.kind.toLowerCase()](ct,gt,Ke):this.operator==="interpolate-hcl"?Gi.reverse(Gi.interpolate(Gi.forward(ct),Gi.forward(gt),Ke)):Vi.reverse(Vi.interpolate(Vi.forward(ct),Vi.forward(gt),Ke))},ja.prototype.eachChild=function(M){M(this.input);for(var O=0,Y=this.outputs;O<Y.length;O+=1)M(Y[O])},ja.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})},ja.prototype.serialize=function(){var M;M=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var O=[this.operator,M,this.input.serialize()],Y=0;Y<this.labels.length;Y++)O.push(this.labels[Y],this.outputs[Y].serialize());return O};var lo=function(M,O){this.type=M,this.args=O};lo.parse=function(M,O){if(M.length<2)return O.error("Expectected at least one argument.");var Y=null,ae=O.expectedType;ae&&ae.kind!=="value"&&(Y=ae);for(var he=[],ve=0,Se=M.slice(1);ve<Se.length;ve+=1){var Fe=Se[ve],Ke=O.parse(Fe,1+he.length,Y,void 0,{typeAnnotation:"omit"});if(!Ke)return null;Y=Y||Ke.type,he.push(Ke)}var ct=ae&&he.some(function(gt){return Xt(ae,gt.type)});return new lo(ct?ze:Y,he)},lo.prototype.evaluate=function(M){for(var O,Y=null,ae=0,he=0,ve=this.args;he<ve.length&&(ae++,(Y=ve[he].evaluate(M))&&Y instanceof dr&&!Y.available&&(O||(O=Y.name),Y=null,ae===this.args.length&&(Y=O)),Y===null);he+=1);return Y},lo.prototype.eachChild=function(M){this.args.forEach(M)},lo.prototype.outputDefined=function(){return this.args.every(function(M){return M.outputDefined()})},lo.prototype.serialize=function(){var M=["coalesce"];return this.eachChild(function(O){M.push(O.serialize())}),M};var mi=function(M,O){this.type=O.type,this.bindings=[].concat(M),this.result=O};mi.prototype.evaluate=function(M){return this.result.evaluate(M)},mi.prototype.eachChild=function(M){for(var O=0,Y=this.bindings;O<Y.length;O+=1)M(Y[O][1]);M(this.result)},mi.parse=function(M,O){if(M.length<4)return O.error("Expected at least 3 arguments, but found "+(M.length-1)+" instead.");for(var Y=[],ae=1;ae<M.length-1;ae+=2){var he=M[ae];if(typeof he!="string")return O.error("Expected string, but found "+typeof he+" instead.",ae);if(/[^a-zA-Z0-9_]/.test(he))return O.error("Variable names must contain only alphanumeric characters or '_'.",ae);var ve=O.parse(M[ae+1],ae+1);if(!ve)return null;Y.push([he,ve])}var Se=O.parse(M[M.length-1],M.length-1,O.expectedType,Y);return Se?new mi(Y,Se):null},mi.prototype.outputDefined=function(){return this.result.outputDefined()},mi.prototype.serialize=function(){for(var M=["let"],O=0,Y=this.bindings;O<Y.length;O+=1){var ae=Y[O],he=ae[0],ve=ae[1];M.push(he,ve.serialize())}return M.push(this.result.serialize()),M};var Yi=function(M,O,Y){this.type=M,this.index=O,this.input=Y};Yi.parse=function(M,O){if(M.length!==3)return O.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var Y=O.parse(M[1],1,Ze),ae=O.parse(M[2],2,jt(O.expectedType||ze));if(!Y||!ae)return null;var he=ae.type;return new Yi(he.itemType,Y,ae)},Yi.prototype.evaluate=function(M){var O=this.index.evaluate(M),Y=this.input.evaluate(M);if(O<0)throw new _n("Array index out of bounds: "+O+" < 0.");if(O>=Y.length)throw new _n("Array index out of bounds: "+O+" > "+(Y.length-1)+".");if(O!==Math.floor(O))throw new _n("Array index must be an integer, but found "+O+" instead.");return Y[O]},Yi.prototype.eachChild=function(M){M(this.index),M(this.input)},Yi.prototype.outputDefined=function(){return!1},Yi.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var co=function(M,O){this.type=Ct,this.needle=M,this.haystack=O};co.parse=function(M,O){if(M.length!==3)return O.error("Expected 2 arguments, but found "+(M.length-1)+" instead.");var Y=O.parse(M[1],1,ze),ae=O.parse(M[2],2,ze);return Y&&ae?sr(Y.type,[Ct,pt,Ze,Et,ze])?new co(Y,ae):O.error("Expected first argument to be of type boolean, string, number or null, but found "+or(Y.type)+" instead"):null},co.prototype.evaluate=function(M){var O=this.needle.evaluate(M),Y=this.haystack.evaluate(M);if(!Y)return!1;if(!vr(O,["boolean","string","number","null"]))throw new _n("Expected first argument to be of type boolean, string, number or null, but found "+or(rn(O))+" instead.");if(!vr(Y,["string","array"]))throw new _n("Expected second argument to be of type array or string, but found "+or(rn(Y))+" instead.");return Y.indexOf(O)>=0},co.prototype.eachChild=function(M){M(this.needle),M(this.haystack)},co.prototype.outputDefined=function(){return!0},co.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var xo=function(M,O,Y){this.type=Ze,this.needle=M,this.haystack=O,this.fromIndex=Y};xo.parse=function(M,O){if(M.length<=2||M.length>=5)return O.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var Y=O.parse(M[1],1,ze),ae=O.parse(M[2],2,ze);if(!Y||!ae)return null;if(!sr(Y.type,[Ct,pt,Ze,Et,ze]))return O.error("Expected first argument to be of type boolean, string, number or null, but found "+or(Y.type)+" instead");if(M.length===4){var he=O.parse(M[3],3,Ze);return he?new xo(Y,ae,he):null}return new xo(Y,ae)},xo.prototype.evaluate=function(M){var O=this.needle.evaluate(M),Y=this.haystack.evaluate(M);if(!vr(O,["boolean","string","number","null"]))throw new _n("Expected first argument to be of type boolean, string, number or null, but found "+or(rn(O))+" instead.");if(!vr(Y,["string","array"]))throw new _n("Expected second argument to be of type array or string, but found "+or(rn(Y))+" instead.");if(this.fromIndex){var ae=this.fromIndex.evaluate(M);return Y.indexOf(O,ae)}return Y.indexOf(O)},xo.prototype.eachChild=function(M){M(this.needle),M(this.haystack),this.fromIndex&&M(this.fromIndex)},xo.prototype.outputDefined=function(){return!1},xo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var M=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),M]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ii=function(M,O,Y,ae,he,ve){this.inputType=M,this.type=O,this.input=Y,this.cases=ae,this.outputs=he,this.otherwise=ve};Ii.parse=function(M,O){if(M.length<5)return O.error("Expected at least 4 arguments, but found only "+(M.length-1)+".");if(M.length%2!=1)return O.error("Expected an even number of arguments.");var Y,ae;O.expectedType&&O.expectedType.kind!=="value"&&(ae=O.expectedType);for(var he={},ve=[],Se=2;Se<M.length-1;Se+=2){var Fe=M[Se],Ke=M[Se+1];Array.isArray(Fe)||(Fe=[Fe]);var ct=O.concat(Se);if(Fe.length===0)return ct.error("Expected at least one branch label.");for(var gt=0,Bt=Fe;gt<Bt.length;gt+=1){var Zt=Bt[gt];if(typeof Zt!="number"&&typeof Zt!="string")return ct.error("Branch labels must be numbers or strings.");if(typeof Zt=="number"&&Math.abs(Zt)>Number.MAX_SAFE_INTEGER)return ct.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Zt=="number"&&Math.floor(Zt)!==Zt)return ct.error("Numeric branch labels must be integer values.");if(Y){if(ct.checkSubtype(Y,rn(Zt)))return null}else Y=rn(Zt);if(he[String(Zt)]!==void 0)return ct.error("Branch labels must be unique.");he[String(Zt)]=ve.length}var qt=O.parse(Ke,Se,ae);if(!qt)return null;ae=ae||qt.type,ve.push(qt)}var rr=O.parse(M[1],1,ze);if(!rr)return null;var gr=O.parse(M[M.length-1],M.length-1,ae);return gr?rr.type.kind!=="value"&&O.concat(1).checkSubtype(Y,rr.type)?null:new Ii(Y,ae,rr,he,ve,gr):null},Ii.prototype.evaluate=function(M){var O=this.input.evaluate(M);return(rn(O)===this.inputType&&this.outputs[this.cases[O]]||this.otherwise).evaluate(M)},Ii.prototype.eachChild=function(M){M(this.input),this.outputs.forEach(M),M(this.otherwise)},Ii.prototype.outputDefined=function(){return this.outputs.every(function(M){return M.outputDefined()})&&this.otherwise.outputDefined()},Ii.prototype.serialize=function(){for(var M=this,O=["match",this.input.serialize()],Y=[],ae={},he=0,ve=Object.keys(this.cases).sort();he<ve.length;he+=1){var Se=ve[he];(Bt=ae[this.cases[Se]])===void 0?(ae[this.cases[Se]]=Y.length,Y.push([this.cases[Se],[Se]])):Y[Bt][1].push(Se)}for(var Fe=function(qt){return M.inputType.kind==="number"?Number(qt):qt},Ke=0,ct=Y;Ke<ct.length;Ke+=1){var gt=ct[Ke],Bt=gt[0],Zt=gt[1];Zt.length===1?O.push(Fe(Zt[0])):O.push(Zt.map(Fe)),O.push(this.outputs[outputIndex$1].serialize())}return O.push(this.otherwise.serialize()),O};var li=function(M,O,Y){this.type=M,this.branches=O,this.otherwise=Y};li.parse=function(M,O){if(M.length<4)return O.error("Expected at least 3 arguments, but found only "+(M.length-1)+".");if(M.length%2!=0)return O.error("Expected an odd number of arguments.");var Y;O.expectedType&&O.expectedType.kind!=="value"&&(Y=O.expectedType);for(var ae=[],he=1;he<M.length-1;he+=2){var ve=O.parse(M[he],he,Ct);if(!ve)return null;var Se=O.parse(M[he+1],he+1,Y);if(!Se)return null;ae.push([ve,Se]),Y=Y||Se.type}var Fe=O.parse(M[M.length-1],M.length-1,Y);return Fe?new li(Y,ae,Fe):null},li.prototype.evaluate=function(M){for(var O=0,Y=this.branches;O<Y.length;O+=1){var ae=Y[O],he=ae[0],ve=ae[1];if(he.evaluate(M))return ve.evaluate(M)}return this.otherwise.evaluate(M)},li.prototype.eachChild=function(M){for(var O=0,Y=this.branches;O<Y.length;O+=1){var ae=Y[O],he=ae[0],ve=ae[1];M(he),M(ve)}M(this.otherwise)},li.prototype.outputDefined=function(){return this.branches.every(function(M){return M[0],M[1].outputDefined()})&&this.otherwise.outputDefined()},li.prototype.serialize=function(){var M=["case"];return this.eachChild(function(O){M.push(O.serialize())}),M};var Hi=function(M,O,Y,ae){this.type=M,this.input=O,this.beginIndex=Y,this.endIndex=ae};function gs(M,O){return M==="=="||M==="!="?O.kind==="boolean"||O.kind==="string"||O.kind==="number"||O.kind==="null"||O.kind==="value":O.kind==="string"||O.kind==="number"||O.kind==="value"}function bs(M,O,Y,ae){return ae.compare(O,Y)===0}function Ua(M,O,Y){var ae=M!=="=="&&M!=="!=";return function(){function he(ve,Se,Fe){this.type=Ct,this.lhs=ve,this.rhs=Se,this.collator=Fe,this.hasUntypedArgument=ve.type.kind==="value"||Se.type.kind==="value"}return he.parse=function(ve,Se){if(ve.length!==3&&ve.length!==4)return Se.error("Expected two or three arguments.");var Fe=ve[0],Ke=Se.parse(ve[1],1,ze);if(!Ke)return null;if(!gs(Fe,Ke.type))return Se.concat(1).error('"'+Fe+`" comparisons are not supported for type '`+or(Ke.type)+"'.");var ct=Se.parse(ve[2],2,ze);if(!ct)return null;if(!gs(Fe,ct.type))return Se.concat(2).error('"'+Fe+`" comparisons are not supported for type '`+or(ct.type)+"'.");if(Ke.type.kind!==ct.type.kind&&Ke.type.kind!=="value"&&ct.type.kind!=="value")return Se.error("Cannot compare types '"+or(Ke.type)+"' and '"+or(ct.type)+"'.");ae&&(Ke.type.kind==="value"&&ct.type.kind!=="value"?Ke=new Ir(ct.type,[Ke]):Ke.type.kind!=="value"&&ct.type.kind==="value"&&(ct=new Ir(Ke.type,[ct])));var gt=null;if(ve.length===4){if(Ke.type.kind!=="string"&&ct.type.kind!=="string"&&Ke.type.kind!=="value"&&ct.type.kind!=="value")return Se.error("Cannot use collator to compare non-string types.");if(!(gt=Se.parse(ve[3],3,st)))return null}return new he(Ke,ct,gt)},he.prototype.evaluate=function(ve){var Se=this.lhs.evaluate(ve),Fe=this.rhs.evaluate(ve);if(ae&&this.hasUntypedArgument){var Ke=rn(Se),ct=rn(Fe);if(Ke.kind!==ct.kind||Ke.kind!=="string"&&Ke.kind!=="number")throw new _n('Expected arguments for "'+M+'" to be (string, string) or (number, number), but found ('+Ke.kind+", "+ct.kind+") instead.")}if(this.collator&&!ae&&this.hasUntypedArgument){var gt=rn(Se),Bt=rn(Fe);if(gt.kind!=="string"||Bt.kind!=="string")return O(ve,Se,Fe)}return this.collator?Y(ve,Se,Fe,this.collator.evaluate(ve)):O(ve,Se,Fe)},he.prototype.eachChild=function(ve){ve(this.lhs),ve(this.rhs),this.collator&&ve(this.collator)},he.prototype.outputDefined=function(){return!0},he.prototype.serialize=function(){var ve=[M];return this.eachChild(function(Se){ve.push(Se.serialize())}),ve},he}()}Hi.parse=function(M,O){if(M.length<=2||M.length>=5)return O.error("Expected 3 or 4 arguments, but found "+(M.length-1)+" instead.");var Y=O.parse(M[1],1,ze),ae=O.parse(M[2],2,Ze);if(!Y||!ae)return null;if(!sr(Y.type,[jt(ze),pt,ze]))return O.error("Expected first argument to be of type array or string, but found "+or(Y.type)+" instead");if(M.length===4){var he=O.parse(M[3],3,Ze);return he?new Hi(Y.type,Y,ae,he):null}return new Hi(Y.type,Y,ae)},Hi.prototype.evaluate=function(M){var O=this.input.evaluate(M),Y=this.beginIndex.evaluate(M);if(!vr(O,["string","array"]))throw new _n("Expected first argument to be of type array or string, but found "+or(rn(O))+" instead.");if(this.endIndex){var ae=this.endIndex.evaluate(M);return O.slice(Y,ae)}return O.slice(Y)},Hi.prototype.eachChild=function(M){M(this.input),M(this.beginIndex),this.endIndex&&M(this.endIndex)},Hi.prototype.outputDefined=function(){return!1},Hi.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var M=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),M]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var ls=Ua("==",function(M,O,Y){return O===Y},bs),Xo=Ua("!=",function(M,O,Y){return O!==Y},function(M,O,Y,ae){return!bs(0,O,Y,ae)}),_s=Ua("<",function(M,O,Y){return O<Y},function(M,O,Y,ae){return ae.compare(O,Y)<0}),ws=Ua(">",function(M,O,Y){return O>Y},function(M,O,Y,ae){return ae.compare(O,Y)>0}),ms=Ua("<=",function(M,O,Y){return O<=Y},function(M,O,Y,ae){return ae.compare(O,Y)<=0}),Ts=Ua(">=",function(M,O,Y){return O>=Y},function(M,O,Y,ae){return ae.compare(O,Y)>=0}),To=function(M,O,Y,ae,he){this.type=pt,this.number=M,this.locale=O,this.currency=Y,this.minFractionDigits=ae,this.maxFractionDigits=he};To.parse=function(M,O){if(M.length!==3)return O.error("Expected two arguments.");var Y=O.parse(M[1],1,Ze);if(!Y)return null;var ae=M[2];if(typeof ae!="object"||Array.isArray(ae))return O.error("NumberFormat options argument must be an object.");var he=null;if(ae.locale&&!(he=O.parse(ae.locale,1,pt)))return null;var ve=null;if(ae.currency&&!(ve=O.parse(ae.currency,1,pt)))return null;var Se=null;if(ae["min-fraction-digits"]&&!(Se=O.parse(ae["min-fraction-digits"],1,Ze)))return null;var Fe=null;return ae["max-fraction-digits"]&&!(Fe=O.parse(ae["max-fraction-digits"],1,Ze))?null:new To(Y,he,ve,Se,Fe)},To.prototype.evaluate=function(M){return new Intl.NumberFormat(this.locale?this.locale.evaluate(M):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(M):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(M):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(M):void 0}).format(this.number.evaluate(M))},To.prototype.eachChild=function(M){M(this.number),this.locale&&M(this.locale),this.currency&&M(this.currency),this.minFractionDigits&&M(this.minFractionDigits),this.maxFractionDigits&&M(this.maxFractionDigits)},To.prototype.outputDefined=function(){return!1},To.prototype.serialize=function(){var M={};return this.locale&&(M.locale=this.locale.serialize()),this.currency&&(M.currency=this.currency.serialize()),this.minFractionDigits&&(M["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(M["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),M]};var ko=function(M){this.type=Ze,this.input=M};ko.parse=function(M,O){if(M.length!==2)return O.error("Expected 1 argument, but found "+(M.length-1)+" instead.");var Y=O.parse(M[1],1);return Y?Y.type.kind!=="array"&&Y.type.kind!=="string"&&Y.type.kind!=="value"?O.error("Expected argument of type string or array, but found "+or(Y.type)+" instead."):new ko(Y):null},ko.prototype.evaluate=function(M){var O=this.input.evaluate(M);if(typeof O=="string"||Array.isArray(O))return O.length;throw new _n("Expected value to be of type string or array, but found "+or(rn(O))+" instead.")},ko.prototype.eachChild=function(M){M(this.input)},ko.prototype.outputDefined=function(){return!1},ko.prototype.serialize=function(){var M=["length"];return this.eachChild(function(O){M.push(O.serialize())}),M};var Fo={"==":ls,"!=":Xo,">":ws,"<":_s,">=":Ts,"<=":ms,array:Ir,at:Yi,boolean:Ir,case:li,coalesce:lo,collator:In,format:xr,image:Nr,in:co,"index-of":xo,interpolate:ja,"interpolate-hcl":ja,"interpolate-lab":ja,length:ko,let:mi,literal:Ln,match:Ii,number:Ir,"number-format":To,object:Ir,slice:Hi,step:aa,string:Ir,"to-boolean":Qr,"to-color":Qr,"to-number":Qr,"to-string":Qr,var:mn,within:Kr};function Bo(M,O){var Y=O[0],ae=O[1],he=O[2],ve=O[3];Y=Y.evaluate(M),ae=ae.evaluate(M),he=he.evaluate(M);var Se=ve?ve.evaluate(M):1,Fe=Fr(Y,ae,he,Se);if(Fe)throw new _n(Fe);return new ar(Y/255*Se,ae/255*Se,he/255*Se,Se)}function No(M,O){return M in O}function Jo(M,O){var Y=O[M];return Y===void 0?null:Y}function uo(M){return{type:M}}function cs(M){return{result:"success",value:M}}function ao(M){return{result:"error",value:M}}function jo(M){return M["property-type"]==="data-driven"||M["property-type"]==="cross-faded-data-driven"}function us(M){return!!M.expression&&M.expression.parameters.indexOf("zoom")>-1}function Mo(M){return!!M.expression&&M.expression.interpolated}function Ba(M){return M instanceof Number?"number":M instanceof String?"string":M instanceof Boolean?"boolean":Array.isArray(M)?"array":M===null?"null":typeof M}function Ne(M){return typeof M=="object"&&M!==null&&!Array.isArray(M)}function He(M){return M}function $e(M,O,Y){return M!==void 0?M:O!==void 0?O:Y!==void 0?Y:void 0}function at(M,O,Y,ae,he){return $e(typeof Y===he?ae[Y]:void 0,M.default,O.default)}function mt(M,O,Y){if(Ba(Y)!=="number")return $e(M.default,O.default);var ae=M.stops.length;if(ae===1||Y<=M.stops[0][0])return M.stops[0][1];if(Y>=M.stops[ae-1][0])return M.stops[ae-1][1];var he=Pn(M.stops.map(function(ve){return ve[0]}),Y);return M.stops[he][1]}function dt(M,O,Y){var ae=M.base!==void 0?M.base:1;if(Ba(Y)!=="number")return $e(M.default,O.default);var he=M.stops.length;if(he===1||Y<=M.stops[0][0])return M.stops[0][1];if(Y>=M.stops[he-1][0])return M.stops[he-1][1];var ve=Pn(M.stops.map(function(Bt){return Bt[0]}),Y),Se=function(Bt,Zt,qt,rr){var gr=rr-qt,Er=Bt-qt;return gr===0?0:Zt===1?Er/gr:(Math.pow(Zt,Er)-1)/(Math.pow(Zt,gr)-1)}(Y,ae,M.stops[ve][0],M.stops[ve+1][0]),Fe=M.stops[ve][1],Ke=M.stops[ve+1][1],ct=vn[O.type]||He;if(M.colorSpace&&M.colorSpace!=="rgb"){var gt=Ro[M.colorSpace];ct=function(Bt,Zt){return gt.reverse(gt.interpolate(gt.forward(Bt),gt.forward(Zt),Se))}}return typeof Fe.evaluate=="function"?{evaluate:function(){for(var Bt=[],Zt=arguments.length;Zt--;)Bt[Zt]=arguments[Zt];var qt=Fe.evaluate.apply(void 0,Bt),rr=Ke.evaluate.apply(void 0,Bt);if(qt!==void 0&&rr!==void 0)return ct(qt,rr,Se)}}:ct(Fe,Ke,Se)}function Mt(M,O,Y){return O.type==="color"?Y=ar.parse(Y):O.type==="formatted"?Y=Or.fromString(Y.toString()):O.type==="resolvedImage"?Y=dr.fromString(Y.toString()):Ba(Y)===O.type||O.type==="enum"&&O.values[Y]||(Y=void 0),$e(Y,M.default,O.default)}$r.register(Fo,{error:[{kind:"error"},[pt],function(M,O){var Y=O[0];throw new _n(Y.evaluate(M))}],typeof:[pt,[ze],function(M,O){return or(rn(O[0].evaluate(M)))}],"to-rgba":[jt(Ze,4),[zt],function(M,O){return O[0].evaluate(M).toArray()}],rgb:[zt,[Ze,Ze,Ze],Bo],rgba:[zt,[Ze,Ze,Ze,Ze],Bo],has:{type:Ct,overloads:[[[pt],function(M,O){return No(O[0].evaluate(M),M.properties())}],[[pt,Gt],function(M,O){var Y=O[0],ae=O[1];return No(Y.evaluate(M),ae.evaluate(M))}]]},get:{type:ze,overloads:[[[pt],function(M,O){return Jo(O[0].evaluate(M),M.properties())}],[[pt,Gt],function(M,O){var Y=O[0],ae=O[1];return Jo(Y.evaluate(M),ae.evaluate(M))}]]},"feature-state":[ze,[pt],function(M,O){return Jo(O[0].evaluate(M),M.featureState||{})}],properties:[Gt,[],function(M){return M.properties()}],"geometry-type":[pt,[],function(M){return M.geometryType()}],id:[ze,[],function(M){return M.id()}],zoom:[Ze,[],function(M){return M.globals.zoom}],"heatmap-density":[Ze,[],function(M){return M.globals.heatmapDensity||0}],"line-progress":[Ze,[],function(M){return M.globals.lineProgress||0}],accumulated:[ze,[],function(M){return M.globals.accumulated===void 0?null:M.globals.accumulated}],"+":[Ze,uo(Ze),function(M,O){for(var Y=0,ae=0,he=O;ae<he.length;ae+=1)Y+=he[ae].evaluate(M);return Y}],"*":[Ze,uo(Ze),function(M,O){for(var Y=1,ae=0,he=O;ae<he.length;ae+=1)Y*=he[ae].evaluate(M);return Y}],"-":{type:Ze,overloads:[[[Ze,Ze],function(M,O){var Y=O[0],ae=O[1];return Y.evaluate(M)-ae.evaluate(M)}],[[Ze],function(M,O){return-O[0].evaluate(M)}]]},"/":[Ze,[Ze,Ze],function(M,O){var Y=O[0],ae=O[1];return Y.evaluate(M)/ae.evaluate(M)}],"%":[Ze,[Ze,Ze],function(M,O){var Y=O[0],ae=O[1];return Y.evaluate(M)%ae.evaluate(M)}],ln2:[Ze,[],function(){return Math.LN2}],pi:[Ze,[],function(){return Math.PI}],e:[Ze,[],function(){return Math.E}],"^":[Ze,[Ze,Ze],function(M,O){var Y=O[0],ae=O[1];return Math.pow(Y.evaluate(M),ae.evaluate(M))}],sqrt:[Ze,[Ze],function(M,O){var Y=O[0];return Math.sqrt(Y.evaluate(M))}],log10:[Ze,[Ze],function(M,O){var Y=O[0];return Math.log(Y.evaluate(M))/Math.LN10}],ln:[Ze,[Ze],function(M,O){var Y=O[0];return Math.log(Y.evaluate(M))}],log2:[Ze,[Ze],function(M,O){var Y=O[0];return Math.log(Y.evaluate(M))/Math.LN2}],sin:[Ze,[Ze],function(M,O){var Y=O[0];return Math.sin(Y.evaluate(M))}],cos:[Ze,[Ze],function(M,O){var Y=O[0];return Math.cos(Y.evaluate(M))}],tan:[Ze,[Ze],function(M,O){var Y=O[0];return Math.tan(Y.evaluate(M))}],asin:[Ze,[Ze],function(M,O){var Y=O[0];return Math.asin(Y.evaluate(M))}],acos:[Ze,[Ze],function(M,O){var Y=O[0];return Math.acos(Y.evaluate(M))}],atan:[Ze,[Ze],function(M,O){var Y=O[0];return Math.atan(Y.evaluate(M))}],min:[Ze,uo(Ze),function(M,O){return Math.min.apply(Math,O.map(function(Y){return Y.evaluate(M)}))}],max:[Ze,uo(Ze),function(M,O){return Math.max.apply(Math,O.map(function(Y){return Y.evaluate(M)}))}],abs:[Ze,[Ze],function(M,O){var Y=O[0];return Math.abs(Y.evaluate(M))}],round:[Ze,[Ze],function(M,O){var Y=O[0].evaluate(M);return Y<0?-Math.round(-Y):Math.round(Y)}],floor:[Ze,[Ze],function(M,O){var Y=O[0];return Math.floor(Y.evaluate(M))}],ceil:[Ze,[Ze],function(M,O){var Y=O[0];return Math.ceil(Y.evaluate(M))}],"filter-==":[Ct,[pt,ze],function(M,O){var Y=O[0],ae=O[1];return M.properties()[Y.value]===ae.value}],"filter-id-==":[Ct,[ze],function(M,O){var Y=O[0];return M.id()===Y.value}],"filter-type-==":[Ct,[pt],function(M,O){var Y=O[0];return M.geometryType()===Y.value}],"filter-<":[Ct,[pt,ze],function(M,O){var Y=O[0],ae=O[1],he=M.properties()[Y.value],ve=ae.value;return typeof he==typeof ve&&he<ve}],"filter-id-<":[Ct,[ze],function(M,O){var Y=O[0],ae=M.id(),he=Y.value;return typeof ae==typeof he&&ae<he}],"filter->":[Ct,[pt,ze],function(M,O){var Y=O[0],ae=O[1],he=M.properties()[Y.value],ve=ae.value;return typeof he==typeof ve&&he>ve}],"filter-id->":[Ct,[ze],function(M,O){var Y=O[0],ae=M.id(),he=Y.value;return typeof ae==typeof he&&ae>he}],"filter-<=":[Ct,[pt,ze],function(M,O){var Y=O[0],ae=O[1],he=M.properties()[Y.value],ve=ae.value;return typeof he==typeof ve&&he<=ve}],"filter-id-<=":[Ct,[ze],function(M,O){var Y=O[0],ae=M.id(),he=Y.value;return typeof ae==typeof he&&ae<=he}],"filter->=":[Ct,[pt,ze],function(M,O){var Y=O[0],ae=O[1],he=M.properties()[Y.value],ve=ae.value;return typeof he==typeof ve&&he>=ve}],"filter-id->=":[Ct,[ze],function(M,O){var Y=O[0],ae=M.id(),he=Y.value;return typeof ae==typeof he&&ae>=he}],"filter-has":[Ct,[ze],function(M,O){return O[0].value in M.properties()}],"filter-has-id":[Ct,[],function(M){return M.id()!==null&&M.id()!==void 0}],"filter-type-in":[Ct,[jt(pt)],function(M,O){return O[0].value.indexOf(M.geometryType())>=0}],"filter-id-in":[Ct,[jt(ze)],function(M,O){return O[0].value.indexOf(M.id())>=0}],"filter-in-small":[Ct,[pt,jt(ze)],function(M,O){var Y=O[0];return O[1].value.indexOf(M.properties()[Y.value])>=0}],"filter-in-large":[Ct,[pt,jt(ze)],function(M,O){var Y=O[0],ae=O[1];return function(he,ve,Se,Fe){for(;Se<=Fe;){var Ke=Se+Fe>>1;if(ve[Ke]===he)return!0;ve[Ke]>he?Fe=Ke-1:Se=Ke+1}return!1}(M.properties()[Y.value],ae.value,0,ae.value.length-1)}],all:{type:Ct,overloads:[[[Ct,Ct],function(M,O){var Y=O[0],ae=O[1];return Y.evaluate(M)&&ae.evaluate(M)}],[uo(Ct),function(M,O){for(var Y=0,ae=O;Y<ae.length;Y+=1)if(!ae[Y].evaluate(M))return!1;return!0}]]},any:{type:Ct,overloads:[[[Ct,Ct],function(M,O){var Y=O[0],ae=O[1];return Y.evaluate(M)||ae.evaluate(M)}],[uo(Ct),function(M,O){for(var Y=0,ae=O;Y<ae.length;Y+=1)if(ae[Y].evaluate(M))return!0;return!1}]]},"!":[Ct,[Ct],function(M,O){return!O[0].evaluate(M)}],"is-supported-script":[Ct,[pt],function(M,O){var Y=O[0],ae=M.globals&&M.globals.isSupportedScript;return!ae||ae(Y.evaluate(M))}],upcase:[pt,[pt],function(M,O){return O[0].evaluate(M).toUpperCase()}],downcase:[pt,[pt],function(M,O){return O[0].evaluate(M).toLowerCase()}],concat:[pt,uo(ze),function(M,O){return O.map(function(Y){return An(Y.evaluate(M))}).join("")}],"resolved-locale":[pt,[st],function(M,O){return O[0].evaluate(M).resolvedLocale()}]});var Jt=function(M,O){this.expression=M,this._warningHistory={},this._evaluator=new un,this._defaultValue=O?function(Y){return Y.type==="color"&&Ne(Y.default)?new ar(0,0,0,0):Y.type==="color"?ar.parse(Y.default)||null:Y.default===void 0?null:Y.default}(O):null,this._enumValues=O&&O.type==="enum"?O.values:null};function $t(M){return Array.isArray(M)&&M.length>0&&typeof M[0]=="string"&&M[0]in Fo}function Wt(M,O){var Y=new pn(Fo,[],O?function(he){var ve={color:zt,string:pt,number:Ze,enum:pt,boolean:Ct,formatted:yt,resolvedImage:Dt};return he.type==="array"?jt(ve[he.value]||ze,he.length):ve[he.type]}(O):void 0),ae=Y.parse(M,void 0,void 0,void 0,O&&O.type==="string"?{typeAnnotation:"coerce"}:void 0);return ae?cs(new Jt(ae,O)):ao(Y.errors)}Jt.prototype.evaluateWithoutErrorHandling=function(M,O,Y,ae,he,ve){return this._evaluator.globals=M,this._evaluator.feature=O,this._evaluator.featureState=Y,this._evaluator.canonical=ae,this._evaluator.availableImages=he||null,this._evaluator.formattedSection=ve,this.expression.evaluate(this._evaluator)},Jt.prototype.evaluate=function(M,O,Y,ae,he,ve){this._evaluator.globals=M,this._evaluator.feature=O||null,this._evaluator.featureState=Y||null,this._evaluator.canonical=ae,this._evaluator.availableImages=he||null,this._evaluator.formattedSection=ve||null;try{var Se=this.expression.evaluate(this._evaluator);if(Se==null||typeof Se=="number"&&Se!=Se)return this._defaultValue;if(this._enumValues&&!(Se in this._enumValues))throw new _n("Expected value to be one of "+Object.keys(this._enumValues).map(function(Fe){return JSON.stringify(Fe)}).join(", ")+", but found "+JSON.stringify(Se)+" instead.");return Se}catch(Fe){return this._warningHistory[Fe.message]||(this._warningHistory[Fe.message]=!0,typeof console<"u"&&console.warn(Fe.message)),this._defaultValue}};var tr=function(M,O){this.kind=M,this._styleExpression=O,this.isStateDependent=M!=="constant"&&!zr(O.expression)};tr.prototype.evaluateWithoutErrorHandling=function(M,O,Y,ae,he,ve){return this._styleExpression.evaluateWithoutErrorHandling(M,O,Y,ae,he,ve)},tr.prototype.evaluate=function(M,O,Y,ae,he,ve){return this._styleExpression.evaluate(M,O,Y,ae,he,ve)};var ur=function(M,O,Y,ae){this.kind=M,this.zoomStops=Y,this._styleExpression=O,this.isStateDependent=M!=="camera"&&!zr(O.expression),this.interpolationType=ae};function mr(M,O){if((M=Wt(M,O)).result==="error")return M;var Y=M.value.expression,ae=bn(Y);if(!ae&&!jo(O))return ao([new ot("","data expressions not supported")]);var he=Wr(Y,["zoom"]);if(!he&&!us(O))return ao([new ot("","zoom expressions not supported")]);var ve=function Fe(Ke){var ct=null;if(Ke instanceof mi)ct=Fe(Ke.result);else if(Ke instanceof lo)for(var gt=0,Bt=Ke.args;gt<Bt.length;gt+=1){var Zt=Bt[gt];if(ct=Fe(Zt))break}else(Ke instanceof aa||Ke instanceof ja)&&Ke.input instanceof $r&&Ke.input.name==="zoom"&&(ct=Ke);return ct instanceof ot||Ke.eachChild(function(qt){var rr=Fe(qt);rr instanceof ot?ct=rr:!ct&&rr?ct=new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):ct&&rr&&ct!==rr&&(ct=new ot("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),ct}(Y);if(!ve&&!he)return ao([new ot("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(ve instanceof ot)return ao([ve]);if(ve instanceof ja&&!Mo(O))return ao([new ot("",'"interpolate" expressions cannot be used with this property')]);if(!ve)return cs(new tr(ae?"constant":"source",M.value));var Se=ve instanceof ja?ve.interpolation:void 0;return cs(new ur(ae?"camera":"composite",M.value,ve.labels,Se))}ur.prototype.evaluateWithoutErrorHandling=function(M,O,Y,ae,he,ve){return this._styleExpression.evaluateWithoutErrorHandling(M,O,Y,ae,he,ve)},ur.prototype.evaluate=function(M,O,Y,ae,he,ve){return this._styleExpression.evaluate(M,O,Y,ae,he,ve)},ur.prototype.interpolationFactor=function(M,O,Y){return this.interpolationType?ja.interpolationFactor(this.interpolationType,M,O,Y):0};var yr=function(M,O){this._parameters=M,this._specification=O,ht(this,function Y(ae,he){var ve,Se,Fe,Ke=he.type==="color",ct=ae.stops&&typeof ae.stops[0][0]=="object",gt=ct||ae.property!==void 0,Bt=ct||!gt,Zt=ae.type||(Mo(he)?"exponential":"interval");if(Ke&&((ae=ht({},ae)).stops&&(ae.stops=ae.stops.map(function(ra){return[ra[0],ar.parse(ra[1])]})),ae.default?ae.default=ar.parse(ae.default):ae.default=ar.parse(he.default)),ae.colorSpace&&ae.colorSpace!=="rgb"&&!Ro[ae.colorSpace])throw new Error("Unknown color space: "+ae.colorSpace);if(Zt==="exponential")ve=dt;else if(Zt==="interval")ve=mt;else if(Zt==="categorical"){ve=at,Se=Object.create(null);for(var qt=0,rr=ae.stops;qt<rr.length;qt+=1){var gr=rr[qt];Se[gr[0]]=gr[1]}Fe=typeof ae.stops[0][0]}else{if(Zt!=="identity")throw new Error('Unknown function type "'+Zt+'"');ve=Mt}if(ct){for(var Er={},Sr=[],Rr=0;Rr<ae.stops.length;Rr++){var Br=ae.stops[Rr],Hr=Br[0].zoom;Er[Hr]===void 0&&(Er[Hr]={zoom:Hr,type:ae.type,property:ae.property,default:ae.default,stops:[]},Sr.push(Hr)),Er[Hr].stops.push([Br[0].value,Br[1]])}for(var fn=[],xn=0,Fn=Sr;xn<Fn.length;xn+=1){var Rn=Fn[xn];fn.push([Er[Rn].zoom,Y(Er[Rn],he)])}var Hn={name:"linear"};return{kind:"composite",interpolationType:Hn,interpolationFactor:ja.interpolationFactor.bind(void 0,Hn),zoomStops:fn.map(function(ra){return ra[0]}),evaluate:function(ra,Wn){var ca=ra.zoom;return dt({stops:fn,base:ae.base},he,ca).evaluate(ca,Wn)}}}if(Bt){var ta=Zt==="exponential"?{name:"exponential",base:ae.base!==void 0?ae.base:1}:null;return{kind:"camera",interpolationType:ta,interpolationFactor:ja.interpolationFactor.bind(void 0,ta),zoomStops:ae.stops.map(function(ra){return ra[0]}),evaluate:function(ra){var Wn=ra.zoom;return ve(ae,he,Wn,Se,Fe)}}}return{kind:"source",evaluate:function(ra,Wn){var ca=Wn&&Wn.properties?Wn.properties[ae.property]:void 0;return ca===void 0?$e(ae.default,he.default):ve(ae,he,ca,Se,Fe)}}}(this._parameters,this._specification))};function Pr(M){var O=M.key,Y=M.value,ae=M.valueSpec||{},he=M.objectElementValidators||{},ve=M.style,Se=M.styleSpec,Fe=[],Ke=Ba(Y);if(Ke!=="object")return[new Je(O,Y,"object expected, "+Ke+" found")];for(var ct in Y){var gt=ct.split(".")[0],Bt=ae[gt]||ae["*"],Zt=void 0;if(he[gt])Zt=he[gt];else if(ae[gt])Zt=nr;else if(he["*"])Zt=he["*"];else{if(!ae["*"]){Fe.push(new Je(O,Y[ct],'unknown property "'+ct+'"'));continue}Zt=nr}Fe=Fe.concat(Zt({key:(O&&O+".")+ct,value:Y[ct],valueSpec:Bt,style:ve,styleSpec:Se,object:Y,objectKey:ct},Y))}for(var qt in ae)he[qt]||ae[qt].required&&ae[qt].default===void 0&&Y[qt]===void 0&&Fe.push(new Je(O,Y,'missing required property "'+qt+'"'));return Fe}function nn(M){var O=M.value,Y=M.valueSpec,ae=M.style,he=M.styleSpec,ve=M.key,Se=M.arrayElementValidator||nr;if(Ba(O)!=="array")return[new Je(ve,O,"array expected, "+Ba(O)+" found")];if(Y.length&&O.length!==Y.length)return[new Je(ve,O,"array length "+Y.length+" expected, length "+O.length+" found")];if(Y["min-length"]&&O.length<Y["min-length"])return[new Je(ve,O,"array length at least "+Y["min-length"]+" expected, length "+O.length+" found")];var Fe={type:Y.value,values:Y.values};he.$version<7&&(Fe.function=Y.function),Ba(Y.value)==="object"&&(Fe=Y.value);for(var Ke=[],ct=0;ct<O.length;ct++)Ke=Ke.concat(Se({array:O,arrayIndex:ct,value:O[ct],valueSpec:Fe,style:ae,styleSpec:he,key:ve+"["+ct+"]"}));return Ke}function dn(M){var O=M.key,Y=M.value,ae=M.valueSpec,he=Ba(Y);return he==="number"&&Y!=Y&&(he="NaN"),he!=="number"?[new Je(O,Y,"number expected, "+he+" found")]:"minimum"in ae&&Y<ae.minimum?[new Je(O,Y,Y+" is less than the minimum value "+ae.minimum)]:"maximum"in ae&&Y>ae.maximum?[new Je(O,Y,Y+" is greater than the maximum value "+ae.maximum)]:[]}function En(M){var O,Y,ae,he=M.valueSpec,ve=ut(M.value.type),Se={},Fe=ve!=="categorical"&&M.value.property===void 0,Ke=!Fe,ct=Ba(M.value.stops)==="array"&&Ba(M.value.stops[0])==="array"&&Ba(M.value.stops[0][0])==="object",gt=Pr({key:M.key,value:M.value,valueSpec:M.styleSpec.function,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{stops:function(qt){if(ve==="identity")return[new Je(qt.key,qt.value,'identity function may not have a "stops" property')];var rr=[],gr=qt.value;return rr=rr.concat(nn({key:qt.key,value:gr,valueSpec:qt.valueSpec,style:qt.style,styleSpec:qt.styleSpec,arrayElementValidator:Bt})),Ba(gr)==="array"&&gr.length===0&&rr.push(new Je(qt.key,gr,"array must have at least one stop")),rr},default:function(qt){return nr({key:qt.key,value:qt.value,valueSpec:he,style:qt.style,styleSpec:qt.styleSpec})}}});return ve==="identity"&&Fe&&gt.push(new Je(M.key,M.value,'missing required property "property"')),ve==="identity"||M.value.stops||gt.push(new Je(M.key,M.value,'missing required property "stops"')),ve==="exponential"&&M.valueSpec.expression&&!Mo(M.valueSpec)&&gt.push(new Je(M.key,M.value,"exponential functions not supported")),M.styleSpec.$version>=8&&(Ke&&!jo(M.valueSpec)?gt.push(new Je(M.key,M.value,"property functions not supported")):Fe&&!us(M.valueSpec)&&gt.push(new Je(M.key,M.value,"zoom functions not supported"))),ve!=="categorical"&&!ct||M.value.property!==void 0||gt.push(new Je(M.key,M.value,'"property" property is required')),gt;function Bt(qt){var rr=[],gr=qt.value,Er=qt.key;if(Ba(gr)!=="array")return[new Je(Er,gr,"array expected, "+Ba(gr)+" found")];if(gr.length!==2)return[new Je(Er,gr,"array length 2 expected, length "+gr.length+" found")];if(ct){if(Ba(gr[0])!=="object")return[new Je(Er,gr,"object expected, "+Ba(gr[0])+" found")];if(gr[0].zoom===void 0)return[new Je(Er,gr,"object stop key must have zoom")];if(gr[0].value===void 0)return[new Je(Er,gr,"object stop key must have value")];if(ae&&ae>ut(gr[0].zoom))return[new Je(Er,gr[0].zoom,"stop zoom values must appear in ascending order")];ut(gr[0].zoom)!==ae&&(ae=ut(gr[0].zoom),Y=void 0,Se={}),rr=rr.concat(Pr({key:Er+"[0]",value:gr[0],valueSpec:{zoom:{}},style:qt.style,styleSpec:qt.styleSpec,objectElementValidators:{zoom:dn,value:Zt}}))}else rr=rr.concat(Zt({key:Er+"[0]",value:gr[0],valueSpec:{},style:qt.style,styleSpec:qt.styleSpec},gr));return $t(kt(gr[1]))?rr.concat([new Je(Er+"[1]",gr[1],"expressions are not allowed in function stops.")]):rr.concat(nr({key:Er+"[1]",value:gr[1],valueSpec:he,style:qt.style,styleSpec:qt.styleSpec}))}function Zt(qt,rr){var gr=Ba(qt.value),Er=ut(qt.value),Sr=qt.value!==null?qt.value:rr;if(O){if(gr!==O)return[new Je(qt.key,Sr,gr+" stop domain type must match previous stop domain type "+O)]}else O=gr;if(gr!=="number"&&gr!=="string"&&gr!=="boolean")return[new Je(qt.key,Sr,"stop domain value must be a number, string, or boolean")];if(gr!=="number"&&ve!=="categorical"){var Rr="number expected, "+gr+" found";return jo(he)&&ve===void 0&&(Rr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Je(qt.key,Sr,Rr)]}return ve!=="categorical"||gr!=="number"||isFinite(Er)&&Math.floor(Er)===Er?ve!=="categorical"&&gr==="number"&&Y!==void 0&&Er<Y?[new Je(qt.key,Sr,"stop domain values must appear in ascending order")]:(Y=Er,ve==="categorical"&&Er in Se?[new Je(qt.key,Sr,"stop domain values must be unique")]:(Se[Er]=!0,[])):[new Je(qt.key,Sr,"integer expected, found "+Er)]}}function On(M){var O=(M.expressionContext==="property"?mr:Wt)(kt(M.value),M.valueSpec);if(O.result==="error")return O.value.map(function(ae){return new Je(""+M.key+ae.key,M.value,ae.message)});var Y=O.value.expression||O.value._styleExpression.expression;if(M.expressionContext==="property"&&M.propertyKey==="text-font"&&!Y.outputDefined())return[new Je(M.key,M.value,'Invalid data expression for "'+M.propertyKey+'". Output values must be contained as literals within the expression.')];if(M.expressionContext==="property"&&M.propertyType==="layout"&&!zr(Y))return[new Je(M.key,M.value,'"feature-state" data expressions are not supported with layout properties.')];if(M.expressionContext==="filter"&&!zr(Y))return[new Je(M.key,M.value,'"feature-state" data expressions are not supported with filters.')];if(M.expressionContext&&M.expressionContext.indexOf("cluster")===0){if(!Wr(Y,["zoom","feature-state"]))return[new Je(M.key,M.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(M.expressionContext==="cluster-initial"&&!bn(Y))return[new Je(M.key,M.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Un(M){var O=M.key,Y=M.value,ae=M.valueSpec,he=[];return Array.isArray(ae.values)?ae.values.indexOf(ut(Y))===-1&&he.push(new Je(O,Y,"expected one of ["+ae.values.join(", ")+"], "+JSON.stringify(Y)+" found")):Object.keys(ae.values).indexOf(ut(Y))===-1&&he.push(new Je(O,Y,"expected one of ["+Object.keys(ae.values).join(", ")+"], "+JSON.stringify(Y)+" found")),he}function zn(M){if(M===!0||M===!1)return!0;if(!Array.isArray(M)||M.length===0)return!1;switch(M[0]){case"has":return M.length>=2&&M[1]!=="$id"&&M[1]!=="$type";case"in":return M.length>=3&&(typeof M[1]!="string"||Array.isArray(M[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return M.length!==3||Array.isArray(M[1])||Array.isArray(M[2]);case"any":case"all":for(var O=0,Y=M.slice(1);O<Y.length;O+=1){var ae=Y[O];if(!zn(ae)&&typeof ae!="boolean")return!1}return!0;default:return!0}}yr.deserialize=function(M){return new yr(M._parameters,M._specification)},yr.serialize=function(M){return{_parameters:M._parameters,_specification:M._specification}};var ha={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function ba(M){if(M==null)return{filter:function(){return!0},needGeometry:!1};zn(M)||(M=Ia(M));var O=Wt(M,ha);if(O.result==="error")throw new Error(O.value.map(function(Y){return Y.key+": "+Y.message}).join(", "));return{filter:function(Y,ae,he){return O.value.evaluate(Y,ae,{},he)},needGeometry:function Y(ae){if(!Array.isArray(ae))return!1;if(ae[0]==="within")return!0;for(var he=1;he<ae.length;he++)if(Y(ae[he]))return!0;return!1}(M)}}function Oa(M,O){return M<O?-1:M>O?1:0}function Ia(M){if(!M)return!0;var O,Y=M[0];return M.length<=1?Y!=="any":Y==="=="?za(M[1],M[2],"=="):Y==="!="?ti(za(M[1],M[2],"==")):Y==="<"||Y===">"||Y==="<="||Y===">="?za(M[1],M[2],Y):Y==="any"?(O=M.slice(1),["any"].concat(O.map(Ia))):Y==="all"?["all"].concat(M.slice(1).map(Ia)):Y==="none"?["all"].concat(M.slice(1).map(Ia).map(ti)):Y==="in"?vi(M[1],M.slice(2)):Y==="!in"?ti(vi(M[1],M.slice(2))):Y==="has"?pi(M[1]):Y==="!has"?ti(pi(M[1])):Y!=="within"||M}function za(M,O,Y){switch(M){case"$type":return["filter-type-"+Y,O];case"$id":return["filter-id-"+Y,O];default:return["filter-"+Y,M,O]}}function vi(M,O){if(O.length===0)return!1;switch(M){case"$type":return["filter-type-in",["literal",O]];case"$id":return["filter-id-in",["literal",O]];default:return O.length>200&&!O.some(function(Y){return typeof Y!=typeof O[0]})?["filter-in-large",M,["literal",O.sort(Oa)]]:["filter-in-small",M,["literal",O]]}}function pi(M){switch(M){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",M]}}function ti(M){return["!",M]}function ri(M){return zn(kt(M.value))?On(ht({},M,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function O(Y){var ae=Y.value,he=Y.key;if(Ba(ae)!=="array")return[new Je(he,ae,"array expected, "+Ba(ae)+" found")];var ve,Se=Y.styleSpec,Fe=[];if(ae.length<1)return[new Je(he,ae,"filter array must have at least 1 element")];switch(Fe=Fe.concat(Un({key:he+"[0]",value:ae[0],valueSpec:Se.filter_operator,style:Y.style,styleSpec:Y.styleSpec})),ut(ae[0])){case"<":case"<=":case">":case">=":ae.length>=2&&ut(ae[1])==="$type"&&Fe.push(new Je(he,ae,'"$type" cannot be use with operator "'+ae[0]+'"'));case"==":case"!=":ae.length!==3&&Fe.push(new Je(he,ae,'filter array for operator "'+ae[0]+'" must have 3 elements'));case"in":case"!in":ae.length>=2&&(ve=Ba(ae[1]))!=="string"&&Fe.push(new Je(he+"[1]",ae[1],"string expected, "+ve+" found"));for(var Ke=2;Ke<ae.length;Ke++)ve=Ba(ae[Ke]),ut(ae[1])==="$type"?Fe=Fe.concat(Un({key:he+"["+Ke+"]",value:ae[Ke],valueSpec:Se.geometry_type,style:Y.style,styleSpec:Y.styleSpec})):ve!=="string"&&ve!=="number"&&ve!=="boolean"&&Fe.push(new Je(he+"["+Ke+"]",ae[Ke],"string, number, or boolean expected, "+ve+" found"));break;case"any":case"all":case"none":for(var ct=1;ct<ae.length;ct++)Fe=Fe.concat(O({key:he+"["+ct+"]",value:ae[ct],style:Y.style,styleSpec:Y.styleSpec}));break;case"has":case"!has":ve=Ba(ae[1]),ae.length!==2?Fe.push(new Je(he,ae,'filter array for "'+ae[0]+'" operator must have 2 elements')):ve!=="string"&&Fe.push(new Je(he+"[1]",ae[1],"string expected, "+ve+" found"));break;case"within":ve=Ba(ae[1]),ae.length!==2?Fe.push(new Je(he,ae,'filter array for "'+ae[0]+'" operator must have 2 elements')):ve!=="object"&&Fe.push(new Je(he+"[1]",ae[1],"object expected, "+ve+" found"))}return Fe}(M)}function di(M,O){var Y=M.key,ae=M.style,he=M.styleSpec,ve=M.value,Se=M.objectKey,Fe=he[O+"_"+M.layerType];if(!Fe)return[];var Ke=Se.match(/^(.*)-transition$/);if(O==="paint"&&Ke&&Fe[Ke[1]]&&Fe[Ke[1]].transition)return nr({key:Y,value:ve,valueSpec:he.transition,style:ae,styleSpec:he});var ct,gt=M.valueSpec||Fe[Se];if(!gt)return[new Je(Y,ve,'unknown property "'+Se+'"')];if(Ba(ve)==="string"&&jo(gt)&&!gt.tokens&&(ct=/^{([^}]+)}$/.exec(ve)))return[new Je(Y,ve,'"'+Se+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(ct[1])+" }`.")];var Bt=[];return M.layerType==="symbol"&&(Se==="text-field"&&ae&&!ae.glyphs&&Bt.push(new Je(Y,ve,'use of "text-field" requires a style "glyphs" property')),Se==="text-font"&&Ne(kt(ve))&&ut(ve.type)==="identity"&&Bt.push(new Je(Y,ve,'"text-font" does not support identity functions'))),Bt.concat(nr({key:M.key,value:ve,valueSpec:gt,style:ae,styleSpec:he,expressionContext:"property",propertyType:O,propertyKey:Se}))}function Oi(M){return di(M,"paint")}function Wi(M){return di(M,"layout")}function Zi(M){var O=[],Y=M.value,ae=M.key,he=M.style,ve=M.styleSpec;Y.type||Y.ref||O.push(new Je(ae,Y,'either "type" or "ref" is required'));var Se,Fe=ut(Y.type),Ke=ut(Y.ref);if(Y.id)for(var ct=ut(Y.id),gt=0;gt<M.arrayIndex;gt++){var Bt=he.layers[gt];ut(Bt.id)===ct&&O.push(new Je(ae,Y.id,'duplicate layer id "'+Y.id+'", previously used at line '+Bt.id.__line__))}if("ref"in Y)["type","source","source-layer","filter","layout"].forEach(function(rr){rr in Y&&O.push(new Je(ae,Y[rr],'"'+rr+'" is prohibited for ref layers'))}),he.layers.forEach(function(rr){ut(rr.id)===Ke&&(Se=rr)}),Se?Se.ref?O.push(new Je(ae,Y.ref,"ref cannot reference another ref layer")):Fe=ut(Se.type):O.push(new Je(ae,Y.ref,'ref layer "'+Ke+'" not found'));else if(Fe!=="background")if(Y.source){var Zt=he.sources&&he.sources[Y.source],qt=Zt&&ut(Zt.type);Zt?qt==="vector"&&Fe==="raster"?O.push(new Je(ae,Y.source,'layer "'+Y.id+'" requires a raster source')):qt==="raster"&&Fe!=="raster"?O.push(new Je(ae,Y.source,'layer "'+Y.id+'" requires a vector source')):qt!=="vector"||Y["source-layer"]?qt==="raster-dem"&&Fe!=="hillshade"?O.push(new Je(ae,Y.source,"raster-dem source can only be used with layer type 'hillshade'.")):Fe!=="line"||!Y.paint||!Y.paint["line-gradient"]||qt==="geojson"&&Zt.lineMetrics||O.push(new Je(ae,Y,'layer "'+Y.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):O.push(new Je(ae,Y,'layer "'+Y.id+'" must specify a "source-layer"')):O.push(new Je(ae,Y.source,'source "'+Y.source+'" not found'))}else O.push(new Je(ae,Y,'missing required property "source"'));return O=O.concat(Pr({key:ae,value:Y,valueSpec:ve.layer,style:M.style,styleSpec:M.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return nr({key:ae+".type",value:Y.type,valueSpec:ve.layer.type,style:M.style,styleSpec:M.styleSpec,object:Y,objectKey:"type"})},filter:ri,layout:function(rr){return Pr({layer:Y,key:rr.key,value:rr.value,style:rr.style,styleSpec:rr.styleSpec,objectElementValidators:{"*":function(gr){return Wi(ht({layerType:Fe},gr))}}})},paint:function(rr){return Pr({layer:Y,key:rr.key,value:rr.value,style:rr.style,styleSpec:rr.styleSpec,objectElementValidators:{"*":function(gr){return Oi(ht({layerType:Fe},gr))}}})}}}))}function Xi(M){var O=M.value,Y=M.key,ae=Ba(O);return ae!=="string"?[new Je(Y,O,"string expected, "+ae+" found")]:[]}var Ji={promoteId:function(M){var O=M.key,Y=M.value;if(Ba(Y)==="string")return Xi({key:O,value:Y});var ae=[];for(var he in Y)ae.push.apply(ae,Xi({key:O+"."+he,value:Y[he]}));return ae}};function Ea(M){var O=M.value,Y=M.key,ae=M.styleSpec,he=M.style;if(!O.type)return[new Je(Y,O,'"type" is required')];var ve,Se=ut(O.type);switch(Se){case"vector":case"raster":case"raster-dem":return ve=Pr({key:Y,value:O,valueSpec:ae["source_"+Se.replace("-","_")],style:M.style,styleSpec:ae,objectElementValidators:Ji});case"geojson":if(ve=Pr({key:Y,value:O,valueSpec:ae.source_geojson,style:he,styleSpec:ae,objectElementValidators:Ji}),O.cluster)for(var Fe in O.clusterProperties){var Ke=O.clusterProperties[Fe],ct=Ke[0],gt=Ke[1],Bt=typeof ct=="string"?[ct,["accumulated"],["get",Fe]]:ct;ve.push.apply(ve,On({key:Y+"."+Fe+".map",value:gt,expressionContext:"cluster-map"})),ve.push.apply(ve,On({key:Y+"."+Fe+".reduce",value:Bt,expressionContext:"cluster-reduce"}))}return ve;case"video":return Pr({key:Y,value:O,valueSpec:ae.source_video,style:he,styleSpec:ae});case"image":return Pr({key:Y,value:O,valueSpec:ae.source_image,style:he,styleSpec:ae});case"canvas":return[new Je(Y,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Un({key:Y+".type",value:O.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:he,styleSpec:ae})}}function ft(M){var O=M.value,Y=M.styleSpec,ae=Y.light,he=M.style,ve=[],Se=Ba(O);if(O===void 0)return ve;if(Se!=="object")return ve=ve.concat([new Je("light",O,"object expected, "+Se+" found")]);for(var Fe in O){var Ke=Fe.match(/^(.*)-transition$/);ve=Ke&&ae[Ke[1]]&&ae[Ke[1]].transition?ve.concat(nr({key:Fe,value:O[Fe],valueSpec:Y.transition,style:he,styleSpec:Y})):ae[Fe]?ve.concat(nr({key:Fe,value:O[Fe],valueSpec:ae[Fe],style:he,styleSpec:Y})):ve.concat([new Je(Fe,O[Fe],'unknown property "'+Fe+'"')])}return ve}var Rt={"*":function(){return[]},array:nn,boolean:function(M){var O=M.value,Y=M.key,ae=Ba(O);return ae!=="boolean"?[new Je(Y,O,"boolean expected, "+ae+" found")]:[]},number:dn,color:function(M){var O=M.key,Y=M.value,ae=Ba(Y);return ae!=="string"?[new Je(O,Y,"color expected, "+ae+" found")]:pr(Y)===null?[new Je(O,Y,'color expected, "'+Y+'" found')]:[]},constants:it,enum:Un,filter:ri,function:En,layer:Zi,object:Pr,source:Ea,light:ft,string:Xi,formatted:function(M){return Xi(M).length===0?[]:On(M)},resolvedImage:function(M){return Xi(M).length===0?[]:On(M)}};function nr(M){var O=M.value,Y=M.valueSpec,ae=M.styleSpec;return Y.expression&&Ne(ut(O))?En(M):Y.expression&&$t(kt(O))?On(M):Y.type&&Rt[Y.type]?Rt[Y.type](M):Pr(ht({},M,{valueSpec:Y.type?ae[Y.type]:Y}))}function Ht(M){var O=M.value,Y=M.key,ae=Xi(M);return ae.length||(O.indexOf("{fontstack}")===-1&&ae.push(new Je(Y,O,'"glyphs" url must include a "{fontstack}" token')),O.indexOf("{range}")===-1&&ae.push(new Je(Y,O,'"glyphs" url must include a "{range}" token'))),ae}function ir(M,O){O===void 0&&(O=Ce);var Y=[];return Y=Y.concat(nr({key:"",value:M,valueSpec:O.$root,styleSpec:O,style:M,objectElementValidators:{glyphs:Ht,"*":function(){return[]}}})),M.constants&&(Y=Y.concat(it({key:"constants",value:M.constants,style:M,styleSpec:O}))),Lr(Y)}function Lr(M){return[].concat(M).sort(function(O,Y){return O.line-Y.line})}function Dr(M){return function(){for(var O=[],Y=arguments.length;Y--;)O[Y]=arguments[Y];return Lr(M.apply(this,O))}}ir.source=Dr(Ea),ir.light=Dr(ft),ir.layer=Dr(Zi),ir.filter=Dr(ri),ir.paintProperty=Dr(Oi),ir.layoutProperty=Dr(Wi);var Yr=ir,sn=Yr.light,an=Yr.paintProperty,gn=Yr.layoutProperty;function Tn(M,O){var Y=!1;if(O&&O.length)for(var ae=0,he=O;ae<he.length;ae+=1){var ve=he[ae];M.fire(new Le(new Error(ve.message))),Y=!0}return Y}var ln=kn;function kn(M,O,Y){var ae=this.cells=[];if(M instanceof ArrayBuffer){this.arrayBuffer=M;var he=new Int32Array(this.arrayBuffer);M=he[0],O=he[1],Y=he[2],this.d=O+2*Y;for(var ve=0;ve<this.d*this.d;ve++){var Se=he[3+ve],Fe=he[3+ve+1];ae.push(Se===Fe?null:he.subarray(Se,Fe))}var Ke=he[3+ae.length],ct=he[3+ae.length+1];this.keys=he.subarray(Ke,ct),this.bboxes=he.subarray(ct),this.insert=this._insertReadonly}else{this.d=O+2*Y;for(var gt=0;gt<this.d*this.d;gt++)ae.push([]);this.keys=[],this.bboxes=[]}this.n=O,this.extent=M,this.padding=Y,this.scale=O/M,this.uid=0;var Bt=Y/O*M;this.min=-Bt,this.max=M+Bt}kn.prototype.insert=function(M,O,Y,ae,he){this._forEachCell(O,Y,ae,he,this._insertCell,this.uid++),this.keys.push(M),this.bboxes.push(O),this.bboxes.push(Y),this.bboxes.push(ae),this.bboxes.push(he)},kn.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},kn.prototype._insertCell=function(M,O,Y,ae,he,ve){this.cells[he].push(ve)},kn.prototype.query=function(M,O,Y,ae,he){var ve=this.min,Se=this.max;if(M<=ve&&O<=ve&&Se<=Y&&Se<=ae&&!he)return Array.prototype.slice.call(this.keys);var Fe=[];return this._forEachCell(M,O,Y,ae,this._queryCell,Fe,{},he),Fe},kn.prototype._queryCell=function(M,O,Y,ae,he,ve,Se,Fe){var Ke=this.cells[he];if(Ke!==null)for(var ct=this.keys,gt=this.bboxes,Bt=0;Bt<Ke.length;Bt++){var Zt=Ke[Bt];if(Se[Zt]===void 0){var qt=4*Zt;(Fe?Fe(gt[qt+0],gt[qt+1],gt[qt+2],gt[qt+3]):M<=gt[qt+2]&&O<=gt[qt+3]&&Y>=gt[qt+0]&&ae>=gt[qt+1])?(Se[Zt]=!0,ve.push(ct[Zt])):Se[Zt]=!1}}},kn.prototype._forEachCell=function(M,O,Y,ae,he,ve,Se,Fe){for(var Ke=this._convertToCellCoord(M),ct=this._convertToCellCoord(O),gt=this._convertToCellCoord(Y),Bt=this._convertToCellCoord(ae),Zt=Ke;Zt<=gt;Zt++)for(var qt=ct;qt<=Bt;qt++){var rr=this.d*qt+Zt;if((!Fe||Fe(this._convertFromCellCoord(Zt),this._convertFromCellCoord(qt),this._convertFromCellCoord(Zt+1),this._convertFromCellCoord(qt+1)))&&he.call(this,M,O,Y,ae,rr,ve,Se,Fe))return}},kn.prototype._convertFromCellCoord=function(M){return(M-this.padding)/this.scale},kn.prototype._convertToCellCoord=function(M){return Math.max(0,Math.min(this.d-1,Math.floor(M*this.scale)+this.padding))},kn.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var M=this.cells,O=3+this.cells.length+1+1,Y=0,ae=0;ae<this.cells.length;ae++)Y+=this.cells[ae].length;var he=new Int32Array(O+Y+this.keys.length+this.bboxes.length);he[0]=this.extent,he[1]=this.n,he[2]=this.padding;for(var ve=O,Se=0;Se<M.length;Se++){var Fe=M[Se];he[3+Se]=ve,he.set(Fe,ve),ve+=Fe.length}return he[3+M.length]=ve,he.set(this.keys,ve),ve+=this.keys.length,he[3+M.length+1]=ve,he.set(this.bboxes,ve),ve+=this.bboxes.length,he.buffer};var Dn=self.ImageData,jn=self.ImageBitmap,$n={};function Zr(M,O,Y){Y===void 0&&(Y={}),Object.defineProperty(O,"_classRegistryKey",{value:M,writeable:!1}),$n[M]={klass:O,omit:Y.omit||[],shallow:Y.shallow||[]}}for(var Jn in Zr("Object",Object),ln.serialize=function(M,O){var Y=M.toArrayBuffer();return O&&O.push(Y),{buffer:Y}},ln.deserialize=function(M){return new ln(M.buffer)},Zr("Grid",ln),Zr("Color",ar),Zr("Error",Error),Zr("ResolvedImage",dr),Zr("StylePropertyFunction",yr),Zr("StyleExpression",Jt,{omit:["_evaluator"]}),Zr("ZoomDependentExpression",ur),Zr("ZoomConstantExpression",tr),Zr("CompoundExpression",$r,{omit:["_evaluate"]}),Fo)Fo[Jn]._classRegistryKey||Zr("Expression_"+Jn,Fo[Jn]);function Cn(M){return M&&typeof ArrayBuffer<"u"&&(M instanceof ArrayBuffer||M.constructor&&M.constructor.name==="ArrayBuffer")}function Bn(M){return jn&&M instanceof jn}function Xn(M,O){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp)return M;if(Cn(M)||Bn(M))return O&&O.push(M),M;if(ArrayBuffer.isView(M)){var Y=M;return O&&O.push(Y.buffer),Y}if(M instanceof Dn)return O&&O.push(M.data.buffer),M;if(Array.isArray(M)){for(var ae=[],he=0,ve=M;he<ve.length;he+=1){var Se=ve[he];ae.push(Xn(Se,O))}return ae}if(typeof M=="object"){var Fe=M.constructor,Ke=Fe._classRegistryKey;if(!Ke)throw new Error("can't serialize object of unregistered class");var ct=Fe.serialize?Fe.serialize(M,O):{};if(!Fe.serialize){for(var gt in M)if(M.hasOwnProperty(gt)&&!($n[Ke].omit.indexOf(gt)>=0)){var Bt=M[gt];ct[gt]=$n[Ke].shallow.indexOf(gt)>=0?Bt:Xn(Bt,O)}M instanceof Error&&(ct.message=M.message)}if(ct.$name)throw new Error("$name property is reserved for worker serialization logic.");return Ke!=="Object"&&(ct.$name=Ke),ct}throw new Error("can't serialize object of type "+typeof M)}function xa(M){if(M==null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||M instanceof Boolean||M instanceof Number||M instanceof String||M instanceof Date||M instanceof RegExp||Cn(M)||Bn(M)||ArrayBuffer.isView(M)||M instanceof Dn)return M;if(Array.isArray(M))return M.map(xa);if(typeof M=="object"){var O=M.$name||"Object",Y=$n[O].klass;if(!Y)throw new Error("can't deserialize unregistered class "+O);if(Y.deserialize)return Y.deserialize(M);for(var ae=Object.create(Y.prototype),he=0,ve=Object.keys(M);he<ve.length;he+=1){var Se=ve[he];if(Se!=="$name"){var Fe=M[Se];ae[Se]=$n[O].shallow.indexOf(Se)>=0?Fe:xa(Fe)}}return ae}throw new Error("can't deserialize object of type "+typeof M)}var Ma=function(){this.first=!0};Ma.prototype.update=function(M,O){var Y=Math.floor(M);return this.first?(this.first=!1,this.lastIntegerZoom=Y,this.lastIntegerZoomTime=0,this.lastZoom=M,this.lastFloorZoom=Y,!0):(this.lastFloorZoom>Y?(this.lastIntegerZoom=Y+1,this.lastIntegerZoomTime=O):this.lastFloorZoom<Y&&(this.lastIntegerZoom=Y,this.lastIntegerZoomTime=O),M!==this.lastZoom&&(this.lastZoom=M,this.lastFloorZoom=Y,!0))};var Sn={"Latin-1 Supplement":function(M){return M>=128&&M<=255},Arabic:function(M){return M>=1536&&M<=1791},"Arabic Supplement":function(M){return M>=1872&&M<=1919},"Arabic Extended-A":function(M){return M>=2208&&M<=2303},"Hangul Jamo":function(M){return M>=4352&&M<=4607},"Unified Canadian Aboriginal Syllabics":function(M){return M>=5120&&M<=5759},Khmer:function(M){return M>=6016&&M<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(M){return M>=6320&&M<=6399},"General Punctuation":function(M){return M>=8192&&M<=8303},"Letterlike Symbols":function(M){return M>=8448&&M<=8527},"Number Forms":function(M){return M>=8528&&M<=8591},"Miscellaneous Technical":function(M){return M>=8960&&M<=9215},"Control Pictures":function(M){return M>=9216&&M<=9279},"Optical Character Recognition":function(M){return M>=9280&&M<=9311},"Enclosed Alphanumerics":function(M){return M>=9312&&M<=9471},"Geometric Shapes":function(M){return M>=9632&&M<=9727},"Miscellaneous Symbols":function(M){return M>=9728&&M<=9983},"Miscellaneous Symbols and Arrows":function(M){return M>=11008&&M<=11263},"CJK Radicals Supplement":function(M){return M>=11904&&M<=12031},"Kangxi Radicals":function(M){return M>=12032&&M<=12255},"Ideographic Description Characters":function(M){return M>=12272&&M<=12287},"CJK Symbols and Punctuation":function(M){return M>=12288&&M<=12351},Hiragana:function(M){return M>=12352&&M<=12447},Katakana:function(M){return M>=12448&&M<=12543},Bopomofo:function(M){return M>=12544&&M<=12591},"Hangul Compatibility Jamo":function(M){return M>=12592&&M<=12687},Kanbun:function(M){return M>=12688&&M<=12703},"Bopomofo Extended":function(M){return M>=12704&&M<=12735},"CJK Strokes":function(M){return M>=12736&&M<=12783},"Katakana Phonetic Extensions":function(M){return M>=12784&&M<=12799},"Enclosed CJK Letters and Months":function(M){return M>=12800&&M<=13055},"CJK Compatibility":function(M){return M>=13056&&M<=13311},"CJK Unified Ideographs Extension A":function(M){return M>=13312&&M<=19903},"Yijing Hexagram Symbols":function(M){return M>=19904&&M<=19967},"CJK Unified Ideographs":function(M){return M>=19968&&M<=40959},"Yi Syllables":function(M){return M>=40960&&M<=42127},"Yi Radicals":function(M){return M>=42128&&M<=42191},"Hangul Jamo Extended-A":function(M){return M>=43360&&M<=43391},"Hangul Syllables":function(M){return M>=44032&&M<=55215},"Hangul Jamo Extended-B":function(M){return M>=55216&&M<=55295},"Private Use Area":function(M){return M>=57344&&M<=63743},"CJK Compatibility Ideographs":function(M){return M>=63744&&M<=64255},"Arabic Presentation Forms-A":function(M){return M>=64336&&M<=65023},"Vertical Forms":function(M){return M>=65040&&M<=65055},"CJK Compatibility Forms":function(M){return M>=65072&&M<=65103},"Small Form Variants":function(M){return M>=65104&&M<=65135},"Arabic Presentation Forms-B":function(M){return M>=65136&&M<=65279},"Halfwidth and Fullwidth Forms":function(M){return M>=65280&&M<=65519}};function La(M){for(var O=0,Y=M;O<Y.length;O+=1)if(fa(Y[O].charCodeAt(0)))return!0;return!1}function Ta(M){return!Sn.Arabic(M)&&!Sn["Arabic Supplement"](M)&&!Sn["Arabic Extended-A"](M)&&!Sn["Arabic Presentation Forms-A"](M)&&!Sn["Arabic Presentation Forms-B"](M)}function fa(M){return M===746||M===747||!(M<4352)&&(!!Sn["Bopomofo Extended"](M)||!!Sn.Bopomofo(M)||!(!Sn["CJK Compatibility Forms"](M)||M>=65097&&M<=65103)||!!Sn["CJK Compatibility Ideographs"](M)||!!Sn["CJK Compatibility"](M)||!!Sn["CJK Radicals Supplement"](M)||!!Sn["CJK Strokes"](M)||!(!Sn["CJK Symbols and Punctuation"](M)||M>=12296&&M<=12305||M>=12308&&M<=12319||M===12336)||!!Sn["CJK Unified Ideographs Extension A"](M)||!!Sn["CJK Unified Ideographs"](M)||!!Sn["Enclosed CJK Letters and Months"](M)||!!Sn["Hangul Compatibility Jamo"](M)||!!Sn["Hangul Jamo Extended-A"](M)||!!Sn["Hangul Jamo Extended-B"](M)||!!Sn["Hangul Jamo"](M)||!!Sn["Hangul Syllables"](M)||!!Sn.Hiragana(M)||!!Sn["Ideographic Description Characters"](M)||!!Sn.Kanbun(M)||!!Sn["Kangxi Radicals"](M)||!!Sn["Katakana Phonetic Extensions"](M)||!(!Sn.Katakana(M)||M===12540)||!(!Sn["Halfwidth and Fullwidth Forms"](M)||M===65288||M===65289||M===65293||M>=65306&&M<=65310||M===65339||M===65341||M===65343||M>=65371&&M<=65503||M===65507||M>=65512&&M<=65519)||!(!Sn["Small Form Variants"](M)||M>=65112&&M<=65118||M>=65123&&M<=65126)||!!Sn["Unified Canadian Aboriginal Syllabics"](M)||!!Sn["Unified Canadian Aboriginal Syllabics Extended"](M)||!!Sn["Vertical Forms"](M)||!!Sn["Yijing Hexagram Symbols"](M)||!!Sn["Yi Syllables"](M)||!!Sn["Yi Radicals"](M))}function Ca(M){return!(fa(M)||function(O){return!(!Sn["Latin-1 Supplement"](O)||O!==167&&O!==169&&O!==174&&O!==177&&O!==188&&O!==189&&O!==190&&O!==215&&O!==247)||!(!Sn["General Punctuation"](O)||O!==8214&&O!==8224&&O!==8225&&O!==8240&&O!==8241&&O!==8251&&O!==8252&&O!==8258&&O!==8263&&O!==8264&&O!==8265&&O!==8273)||!!Sn["Letterlike Symbols"](O)||!!Sn["Number Forms"](O)||!(!Sn["Miscellaneous Technical"](O)||!(O>=8960&&O<=8967||O>=8972&&O<=8991||O>=8996&&O<=9e3||O===9003||O>=9085&&O<=9114||O>=9150&&O<=9165||O===9167||O>=9169&&O<=9179||O>=9186&&O<=9215))||!(!Sn["Control Pictures"](O)||O===9251)||!!Sn["Optical Character Recognition"](O)||!!Sn["Enclosed Alphanumerics"](O)||!!Sn["Geometric Shapes"](O)||!(!Sn["Miscellaneous Symbols"](O)||O>=9754&&O<=9759)||!(!Sn["Miscellaneous Symbols and Arrows"](O)||!(O>=11026&&O<=11055||O>=11088&&O<=11097||O>=11192&&O<=11243))||!!Sn["CJK Symbols and Punctuation"](O)||!!Sn.Katakana(O)||!!Sn["Private Use Area"](O)||!!Sn["CJK Compatibility Forms"](O)||!!Sn["Small Form Variants"](O)||!!Sn["Halfwidth and Fullwidth Forms"](O)||O===8734||O===8756||O===8757||O>=9984&&O<=10087||O>=10102&&O<=10131||O===65532||O===65533}(M))}function _a(M){return M>=1424&&M<=2303||Sn["Arabic Presentation Forms-A"](M)||Sn["Arabic Presentation Forms-B"](M)}function Za(M,O){return!(!O&&_a(M))&&!(M>=2304&&M<=3583||M>=3840&&M<=4255||Sn.Khmer(M))}function Kn(M){for(var O=0,Y=M;O<Y.length;O+=1)if(_a(Y[O].charCodeAt(0)))return!0;return!1}var Va="deferred",zi="loading",Go="loaded",Co="error",fo=null,da="unavailable",ci=null,ho=function(M){M&&typeof M=="string"&&M.indexOf("NetworkError")>-1&&(da=Co),fo&&fo(M)};function Ha(){yi.fire(new ke("pluginStateChange",{pluginStatus:da,pluginURL:ci}))}var yi=new Ie,Ni=function(){return da},Ja=function(){if(da!==Va||!ci)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");da=zi,Ha(),ci&&Tt({url:ci},function(M){M?ho(M):(da=Go,Ha())})},io={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return da===Go||io.applyArabicShaping!=null},isLoading:function(){return da===zi},setState:function(M){da=M.pluginStatus,ci=M.pluginURL},isParsed:function(){return io.applyArabicShaping!=null&&io.processBidirectionalText!=null&&io.processStyledBidirectionalText!=null},getPluginURL:function(){return ci}},Ka=function(M,O){this.zoom=M,O?(this.now=O.now,this.fadeDuration=O.fadeDuration,this.zoomHistory=O.zoomHistory,this.transition=O.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ma,this.transition={})};Ka.prototype.isSupportedScript=function(M){return function(O,Y){for(var ae=0,he=O;ae<he.length;ae+=1)if(!Za(he[ae].charCodeAt(0),Y))return!1;return!0}(M,io.isLoaded())},Ka.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Ka.prototype.getCrossfadeParameters=function(){var M=this.zoom,O=M-Math.floor(M),Y=this.crossFadingFactor();return M>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:O+(1-O)*Y}:{fromScale:.5,toScale:1,t:1-(1-Y)*O}};var Ki=function(M,O){this.property=M,this.value=O,this.expression=function(Y,ae){if(Ne(Y))return new yr(Y,ae);if($t(Y)){var he=mr(Y,ae);if(he.result==="error")throw new Error(he.value.map(function(Se){return Se.key+": "+Se.message}).join(", "));return he.value}var ve=Y;return typeof Y=="string"&&ae.type==="color"&&(ve=ar.parse(Y)),{kind:"constant",evaluate:function(){return ve}}}(O===void 0?M.specification.default:O,M.specification)};Ki.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ki.prototype.possiblyEvaluate=function(M,O,Y){return this.property.possiblyEvaluate(this,M,O,Y)};var ns=function(M){this.property=M,this.value=new Ki(M,void 0)};ns.prototype.transitioned=function(M,O){return new Ds(this.property,this.value,O,s({},M.transition,this.transition),M.now)},ns.prototype.untransitioned=function(){return new Ds(this.property,this.value,null,{},0)};var Ko=function(M){this._properties=M,this._values=Object.create(M.defaultTransitionablePropertyValues)};Ko.prototype.getValue=function(M){return k(this._values[M].value.value)},Ko.prototype.setValue=function(M,O){this._values.hasOwnProperty(M)||(this._values[M]=new ns(this._values[M].property)),this._values[M].value=new Ki(this._values[M].property,O===null?void 0:k(O))},Ko.prototype.getTransition=function(M){return k(this._values[M].transition)},Ko.prototype.setTransition=function(M,O){this._values.hasOwnProperty(M)||(this._values[M]=new ns(this._values[M].property)),this._values[M].transition=k(O)||void 0},Ko.prototype.serialize=function(){for(var M={},O=0,Y=Object.keys(this._values);O<Y.length;O+=1){var ae=Y[O],he=this.getValue(ae);he!==void 0&&(M[ae]=he);var ve=this.getTransition(ae);ve!==void 0&&(M[ae+"-transition"]=ve)}return M},Ko.prototype.transitioned=function(M,O){for(var Y=new Li(this._properties),ae=0,he=Object.keys(this._values);ae<he.length;ae+=1){var ve=he[ae];Y._values[ve]=this._values[ve].transitioned(M,O._values[ve])}return Y},Ko.prototype.untransitioned=function(){for(var M=new Li(this._properties),O=0,Y=Object.keys(this._values);O<Y.length;O+=1){var ae=Y[O];M._values[ae]=this._values[ae].untransitioned()}return M};var Ds=function(M,O,Y,ae,he){this.property=M,this.value=O,this.begin=he+ae.delay||0,this.end=this.begin+ae.duration||0,M.specification.transition&&(ae.delay||ae.duration)&&(this.prior=Y)};Ds.prototype.possiblyEvaluate=function(M,O,Y){var ae=M.now||0,he=this.value.possiblyEvaluate(M,O,Y),ve=this.prior;if(ve){if(ae>this.end)return this.prior=null,he;if(this.value.isDataDriven())return this.prior=null,he;if(ae<this.begin)return ve.possiblyEvaluate(M,O,Y);var Se=(ae-this.begin)/(this.end-this.begin);return this.property.interpolate(ve.possiblyEvaluate(M,O,Y),he,function(Fe){if(Fe<=0)return 0;if(Fe>=1)return 1;var Ke=Fe*Fe,ct=Ke*Fe;return 4*(Fe<.5?ct:3*(Fe-Ke)+ct-.75)}(Se))}return he};var Li=function(M){this._properties=M,this._values=Object.create(M.defaultTransitioningPropertyValues)};Li.prototype.possiblyEvaluate=function(M,O,Y){for(var ae=new Qo(this._properties),he=0,ve=Object.keys(this._values);he<ve.length;he+=1){var Se=ve[he];ae._values[Se]=this._values[Se].possiblyEvaluate(M,O,Y)}return ae},Li.prototype.hasTransition=function(){for(var M=0,O=Object.keys(this._values);M<O.length;M+=1){var Y=O[M];if(this._values[Y].prior)return!0}return!1};var Rs=function(M){this._properties=M,this._values=Object.create(M.defaultPropertyValues)};Rs.prototype.getValue=function(M){return k(this._values[M].value)},Rs.prototype.setValue=function(M,O){this._values[M]=new Ki(this._values[M].property,O===null?void 0:k(O))},Rs.prototype.serialize=function(){for(var M={},O=0,Y=Object.keys(this._values);O<Y.length;O+=1){var ae=Y[O],he=this.getValue(ae);he!==void 0&&(M[ae]=he)}return M},Rs.prototype.possiblyEvaluate=function(M,O,Y){for(var ae=new Qo(this._properties),he=0,ve=Object.keys(this._values);he<ve.length;he+=1){var Se=ve[he];ae._values[Se]=this._values[Se].possiblyEvaluate(M,O,Y)}return ae};var Ci=function(M,O,Y){this.property=M,this.value=O,this.parameters=Y};Ci.prototype.isConstant=function(){return this.value.kind==="constant"},Ci.prototype.constantOr=function(M){return this.value.kind==="constant"?this.value.value:M},Ci.prototype.evaluate=function(M,O,Y,ae){return this.property.evaluate(this.value,this.parameters,M,O,Y,ae)};var Qo=function(M){this._properties=M,this._values=Object.create(M.defaultPossiblyEvaluatedValues)};Qo.prototype.get=function(M){return this._values[M]};var ia=function(M){this.specification=M};ia.prototype.possiblyEvaluate=function(M,O){return M.expression.evaluate(O)},ia.prototype.interpolate=function(M,O,Y){var ae=vn[this.specification.type];return ae?ae(M,O,Y):M};var ga=function(M,O){this.specification=M,this.overrides=O};ga.prototype.possiblyEvaluate=function(M,O,Y,ae){return M.expression.kind==="constant"||M.expression.kind==="camera"?new Ci(this,{kind:"constant",value:M.expression.evaluate(O,null,{},Y,ae)},O):new Ci(this,M.expression,O)},ga.prototype.interpolate=function(M,O,Y){if(M.value.kind!=="constant"||O.value.kind!=="constant")return M;if(M.value.value===void 0||O.value.value===void 0)return new Ci(this,{kind:"constant",value:void 0},M.parameters);var ae=vn[this.specification.type];return ae?new Ci(this,{kind:"constant",value:ae(M.value.value,O.value.value,Y)},M.parameters):M},ga.prototype.evaluate=function(M,O,Y,ae,he,ve){return M.kind==="constant"?M.value:M.evaluate(O,Y,ae,he,ve)};var Fs=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.possiblyEvaluate=function(Y,ae,he,ve){if(Y.value===void 0)return new Ci(this,{kind:"constant",value:void 0},ae);if(Y.expression.kind==="constant"){var Se=Y.expression.evaluate(ae,null,{},he,ve),Fe=Y.property.specification.type==="resolvedImage"&&typeof Se!="string"?Se.name:Se,Ke=this._calculate(Fe,Fe,Fe,ae);return new Ci(this,{kind:"constant",value:Ke},ae)}if(Y.expression.kind==="camera"){var ct=this._calculate(Y.expression.evaluate({zoom:ae.zoom-1}),Y.expression.evaluate({zoom:ae.zoom}),Y.expression.evaluate({zoom:ae.zoom+1}),ae);return new Ci(this,{kind:"constant",value:ct},ae)}return new Ci(this,Y.expression,ae)},O.prototype.evaluate=function(Y,ae,he,ve,Se,Fe){if(Y.kind==="source"){var Ke=Y.evaluate(ae,he,ve,Se,Fe);return this._calculate(Ke,Ke,Ke,ae)}return Y.kind==="composite"?this._calculate(Y.evaluate({zoom:Math.floor(ae.zoom)-1},he,ve),Y.evaluate({zoom:Math.floor(ae.zoom)},he,ve),Y.evaluate({zoom:Math.floor(ae.zoom)+1},he,ve),ae):Y.value},O.prototype._calculate=function(Y,ae,he,ve){return ve.zoom>ve.zoomHistory.lastIntegerZoom?{from:Y,to:ae}:{from:he,to:ae}},O.prototype.interpolate=function(Y){return Y},O}(ga),Bs=function(M){this.specification=M};Bs.prototype.possiblyEvaluate=function(M,O,Y,ae){if(M.value!==void 0){if(M.expression.kind==="constant"){var he=M.expression.evaluate(O,null,{},Y,ae);return this._calculate(he,he,he,O)}return this._calculate(M.expression.evaluate(new Ka(Math.floor(O.zoom-1),O)),M.expression.evaluate(new Ka(Math.floor(O.zoom),O)),M.expression.evaluate(new Ka(Math.floor(O.zoom+1),O)),O)}},Bs.prototype._calculate=function(M,O,Y,ae){return ae.zoom>ae.zoomHistory.lastIntegerZoom?{from:M,to:O}:{from:Y,to:O}},Bs.prototype.interpolate=function(M){return M};var $o=function(M){this.specification=M};$o.prototype.possiblyEvaluate=function(M,O,Y,ae){return!!M.expression.evaluate(O,null,{},Y,ae)},$o.prototype.interpolate=function(){return!1};var Ao=function(M){for(var O in this.properties=M,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],M){var Y=M[O];Y.specification.overridable&&this.overridableProperties.push(O);var ae=this.defaultPropertyValues[O]=new Ki(Y,void 0),he=this.defaultTransitionablePropertyValues[O]=new ns(Y);this.defaultTransitioningPropertyValues[O]=he.untransitioned(),this.defaultPossiblyEvaluatedValues[O]=ae.possiblyEvaluate({})}};Zr("DataDrivenProperty",ga),Zr("DataConstantProperty",ia),Zr("CrossFadedDataDrivenProperty",Fs),Zr("CrossFadedProperty",Bs),Zr("ColorRampProperty",$o);var Uo=function(M){function O(Y,ae){if(M.call(this),this.id=Y.id,this.type=Y.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},Y.type!=="custom"&&(Y=Y,this.metadata=Y.metadata,this.minzoom=Y.minzoom,this.maxzoom=Y.maxzoom,Y.type!=="background"&&(this.source=Y.source,this.sourceLayer=Y["source-layer"],this.filter=Y.filter),ae.layout&&(this._unevaluatedLayout=new Rs(ae.layout)),ae.paint)){for(var he in this._transitionablePaint=new Ko(ae.paint),Y.paint)this.setPaintProperty(he,Y.paint[he],{validate:!1});for(var ve in Y.layout)this.setLayoutProperty(ve,Y.layout[ve],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Qo(ae.paint)}}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},O.prototype.getLayoutProperty=function(Y){return Y==="visibility"?this.visibility:this._unevaluatedLayout.getValue(Y)},O.prototype.setLayoutProperty=function(Y,ae,he){if(he===void 0&&(he={}),ae!=null){var ve="layers."+this.id+".layout."+Y;if(this._validate(gn,ve,Y,ae,he))return}Y!=="visibility"?this._unevaluatedLayout.setValue(Y,ae):this.visibility=ae},O.prototype.getPaintProperty=function(Y){return w(Y,"-transition")?this._transitionablePaint.getTransition(Y.slice(0,-11)):this._transitionablePaint.getValue(Y)},O.prototype.setPaintProperty=function(Y,ae,he){if(he===void 0&&(he={}),ae!=null){var ve="layers."+this.id+".paint."+Y;if(this._validate(an,ve,Y,ae,he))return!1}if(w(Y,"-transition"))return this._transitionablePaint.setTransition(Y.slice(0,-11),ae||void 0),!1;var Se=this._transitionablePaint._values[Y],Fe=Se.property.specification["property-type"]==="cross-faded-data-driven",Ke=Se.value.isDataDriven(),ct=Se.value;this._transitionablePaint.setValue(Y,ae),this._handleSpecialPaintPropertyUpdate(Y);var gt=this._transitionablePaint._values[Y].value;return gt.isDataDriven()||Ke||Fe||this._handleOverridablePaintPropertyUpdate(Y,ct,gt)},O.prototype._handleSpecialPaintPropertyUpdate=function(Y){},O.prototype._handleOverridablePaintPropertyUpdate=function(Y,ae,he){return!1},O.prototype.isHidden=function(Y){return!!(this.minzoom&&Y<this.minzoom)||!!(this.maxzoom&&Y>=this.maxzoom)||this.visibility==="none"},O.prototype.updateTransitions=function(Y){this._transitioningPaint=this._transitionablePaint.transitioned(Y,this._transitioningPaint)},O.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},O.prototype.recalculate=function(Y,ae){Y.getCrossfadeParameters&&(this._crossfadeParameters=Y.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(Y,void 0,ae)),this.paint=this._transitioningPaint.possiblyEvaluate(Y,void 0,ae)},O.prototype.serialize=function(){var Y={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(Y.layout=Y.layout||{},Y.layout.visibility=this.visibility),T(Y,function(ae,he){return!(ae===void 0||he==="layout"&&!Object.keys(ae).length||he==="paint"&&!Object.keys(ae).length)})},O.prototype._validate=function(Y,ae,he,ve,Se){return Se===void 0&&(Se={}),(!Se||Se.validate!==!1)&&Tn(this,Y.call(Yr,{key:ae,layerType:this.type,objectKey:he,value:ve,styleSpec:Ce,style:{glyphs:!0,sprite:!0}}))},O.prototype.is3D=function(){return!1},O.prototype.isTileClipped=function(){return!1},O.prototype.hasOffscreenPass=function(){return!1},O.prototype.resize=function(){},O.prototype.isStateDependent=function(){for(var Y in this.paint._values){var ae=this.paint.get(Y);if(ae instanceof Ci&&jo(ae.property.specification)&&(ae.value.kind==="source"||ae.value.kind==="composite")&&ae.value.isStateDependent)return!0}return!1},O}(Ie),Js={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ks=function(M,O){this._structArray=M,this._pos1=O*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},qa=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Qa(M,O){O===void 0&&(O=1);var Y=0,ae=0;return{members:M.map(function(he){var ve,Se=(ve=he.type,Js[ve].BYTES_PER_ELEMENT),Fe=Y=fs(Y,Math.max(O,Se)),Ke=he.components||1;return ae=Math.max(ae,Se),Y+=Se*Ke,{name:he.name,type:he.type,components:Ke,offset:Fe}}),size:fs(Y,Math.max(ae,O)),alignment:O}}function fs(M,O){return Math.ceil(M/O)*O}qa.serialize=function(M,O){return M._trim(),O&&(M.isTransferred=!0,O.push(M.arrayBuffer)),{length:M.length,arrayBuffer:M.arrayBuffer}},qa.deserialize=function(M){var O=Object.create(this.prototype);return O.arrayBuffer=M.arrayBuffer,O.length=M.length,O.capacity=M.arrayBuffer.byteLength/O.bytesPerElement,O._refreshViews(),O},qa.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},qa.prototype.clear=function(){this.length=0},qa.prototype.resize=function(M){this.reserve(M),this.length=M},qa.prototype.reserve=function(M){if(M>this.capacity){this.capacity=Math.max(M,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var O=this.uint8;this._refreshViews(),O&&this.uint8.set(O)}},qa.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var as=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae){var he=this.length;return this.resize(he+1),this.emplace(he,Y,ae)},O.prototype.emplace=function(Y,ae,he){var ve=2*Y;return this.int16[ve+0]=ae,this.int16[ve+1]=he,Y},O}(qa);as.prototype.bytesPerElement=4,Zr("StructArrayLayout2i4",as);var Mi=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Y,ae,he,ve)},O.prototype.emplace=function(Y,ae,he,ve,Se){var Fe=4*Y;return this.int16[Fe+0]=ae,this.int16[Fe+1]=he,this.int16[Fe+2]=ve,this.int16[Fe+3]=Se,Y},O}(qa);Mi.prototype.bytesPerElement=8,Zr("StructArrayLayout4i8",Mi);var hs=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,Y,ae,he,ve,Se,Fe)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke){var ct=6*Y;return this.int16[ct+0]=ae,this.int16[ct+1]=he,this.int16[ct+2]=ve,this.int16[ct+3]=Se,this.int16[ct+4]=Fe,this.int16[ct+5]=Ke,Y},O}(qa);hs.prototype.bytesPerElement=12,Zr("StructArrayLayout2i4i12",hs);var Ms=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,Y,ae,he,ve,Se,Fe)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke){var ct=4*Y,gt=8*Y;return this.int16[ct+0]=ae,this.int16[ct+1]=he,this.uint8[gt+4]=ve,this.uint8[gt+5]=Se,this.uint8[gt+6]=Fe,this.uint8[gt+7]=Ke,Y},O}(qa);Ms.prototype.bytesPerElement=8,Zr("StructArrayLayout2i4ub8",Ms);var vs=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt){var Zt=this.length;return this.resize(Zt+1),this.emplace(Zt,Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt){var qt=9*Y,rr=18*Y;return this.uint16[qt+0]=ae,this.uint16[qt+1]=he,this.uint16[qt+2]=ve,this.uint16[qt+3]=Se,this.uint16[qt+4]=Fe,this.uint16[qt+5]=Ke,this.uint16[qt+6]=ct,this.uint16[qt+7]=gt,this.uint8[rr+16]=Bt,this.uint8[rr+17]=Zt,Y},O}(qa);vs.prototype.bytesPerElement=18,Zr("StructArrayLayout8ui2ub18",vs);var As=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt){var rr=this.length;return this.resize(rr+1),this.emplace(rr,Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr){var gr=12*Y;return this.int16[gr+0]=ae,this.int16[gr+1]=he,this.int16[gr+2]=ve,this.int16[gr+3]=Se,this.uint16[gr+4]=Fe,this.uint16[gr+5]=Ke,this.uint16[gr+6]=ct,this.uint16[gr+7]=gt,this.int16[gr+8]=Bt,this.int16[gr+9]=Zt,this.int16[gr+10]=qt,this.int16[gr+11]=rr,Y},O}(qa);As.prototype.bytesPerElement=24,Zr("StructArrayLayout4i4ui4i24",As);var is=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Y,ae,he)},O.prototype.emplace=function(Y,ae,he,ve){var Se=3*Y;return this.float32[Se+0]=ae,this.float32[Se+1]=he,this.float32[Se+2]=ve,Y},O}(qa);is.prototype.bytesPerElement=12,Zr("StructArrayLayout3f12",is);var Ks=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y){var ae=this.length;return this.resize(ae+1),this.emplace(ae,Y)},O.prototype.emplace=function(Y,ae){var he=1*Y;return this.uint32[he+0]=ae,Y},O}(qa);Ks.prototype.bytesPerElement=4,Zr("StructArrayLayout1ul4",Ks);var ol=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt){var Bt=this.length;return this.resize(Bt+1),this.emplace(Bt,Y,ae,he,ve,Se,Fe,Ke,ct,gt)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt){var Zt=10*Y,qt=5*Y;return this.int16[Zt+0]=ae,this.int16[Zt+1]=he,this.int16[Zt+2]=ve,this.int16[Zt+3]=Se,this.int16[Zt+4]=Fe,this.int16[Zt+5]=Ke,this.uint32[qt+3]=ct,this.uint16[Zt+8]=gt,this.uint16[Zt+9]=Bt,Y},O}(qa);ol.prototype.bytesPerElement=20,Zr("StructArrayLayout6i1ul2ui20",ol);var ps=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,Y,ae,he,ve,Se,Fe)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke){var ct=6*Y;return this.int16[ct+0]=ae,this.int16[ct+1]=he,this.int16[ct+2]=ve,this.int16[ct+3]=Se,this.int16[ct+4]=Fe,this.int16[ct+5]=Ke,Y},O}(qa);ps.prototype.bytesPerElement=12,Zr("StructArrayLayout2i2i2i12",ps);var Qs=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se){var Fe=this.length;return this.resize(Fe+1),this.emplace(Fe,Y,ae,he,ve,Se)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe){var Ke=4*Y,ct=8*Y;return this.float32[Ke+0]=ae,this.float32[Ke+1]=he,this.float32[Ke+2]=ve,this.int16[ct+6]=Se,this.int16[ct+7]=Fe,Y},O}(qa);Qs.prototype.bytesPerElement=16,Zr("StructArrayLayout2f1f2i16",Qs);var Ss=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Y,ae,he,ve)},O.prototype.emplace=function(Y,ae,he,ve,Se){var Fe=12*Y,Ke=3*Y;return this.uint8[Fe+0]=ae,this.uint8[Fe+1]=he,this.float32[Ke+1]=ve,this.float32[Ke+2]=Se,Y},O}(qa);Ss.prototype.bytesPerElement=12,Zr("StructArrayLayout2ub2f12",Ss);var Qi=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Y,ae,he)},O.prototype.emplace=function(Y,ae,he,ve){var Se=3*Y;return this.uint16[Se+0]=ae,this.uint16[Se+1]=he,this.uint16[Se+2]=ve,Y},O}(qa);Qi.prototype.bytesPerElement=6,Zr("StructArrayLayout3ui6",Qi);var sl=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr,gr,Er,Sr,Rr){var Br=this.length;return this.resize(Br+1),this.emplace(Br,Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr,gr,Er,Sr,Rr)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr,gr,Er,Sr,Rr,Br){var Hr=24*Y,fn=12*Y,xn=48*Y;return this.int16[Hr+0]=ae,this.int16[Hr+1]=he,this.uint16[Hr+2]=ve,this.uint16[Hr+3]=Se,this.uint32[fn+2]=Fe,this.uint32[fn+3]=Ke,this.uint32[fn+4]=ct,this.uint16[Hr+10]=gt,this.uint16[Hr+11]=Bt,this.uint16[Hr+12]=Zt,this.float32[fn+7]=qt,this.float32[fn+8]=rr,this.uint8[xn+36]=gr,this.uint8[xn+37]=Er,this.uint8[xn+38]=Sr,this.uint32[fn+10]=Rr,this.int16[Hr+22]=Br,Y},O}(qa);sl.prototype.bytesPerElement=48,Zr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",sl);var ll=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr,gr,Er,Sr,Rr,Br,Hr,fn,xn,Fn,Rn,Hn,ta,ra,Wn,ca){var sa=this.length;return this.resize(sa+1),this.emplace(sa,Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr,gr,Er,Sr,Rr,Br,Hr,fn,xn,Fn,Rn,Hn,ta,ra,Wn,ca)},O.prototype.emplace=function(Y,ae,he,ve,Se,Fe,Ke,ct,gt,Bt,Zt,qt,rr,gr,Er,Sr,Rr,Br,Hr,fn,xn,Fn,Rn,Hn,ta,ra,Wn,ca,sa){var na=34*Y,Ga=17*Y;return this.int16[na+0]=ae,this.int16[na+1]=he,this.int16[na+2]=ve,this.int16[na+3]=Se,this.int16[na+4]=Fe,this.int16[na+5]=Ke,this.int16[na+6]=ct,this.int16[na+7]=gt,this.uint16[na+8]=Bt,this.uint16[na+9]=Zt,this.uint16[na+10]=qt,this.uint16[na+11]=rr,this.uint16[na+12]=gr,this.uint16[na+13]=Er,this.uint16[na+14]=Sr,this.uint16[na+15]=Rr,this.uint16[na+16]=Br,this.uint16[na+17]=Hr,this.uint16[na+18]=fn,this.uint16[na+19]=xn,this.uint16[na+20]=Fn,this.uint16[na+21]=Rn,this.uint16[na+22]=Hn,this.uint32[Ga+12]=ta,this.float32[Ga+13]=ra,this.float32[Ga+14]=Wn,this.float32[Ga+15]=ca,this.float32[Ga+16]=sa,Y},O}(qa);ll.prototype.bytesPerElement=68,Zr("StructArrayLayout8i15ui1ul4f68",ll);var le=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y){var ae=this.length;return this.resize(ae+1),this.emplace(ae,Y)},O.prototype.emplace=function(Y,ae){var he=1*Y;return this.float32[he+0]=ae,Y},O}(qa);le.prototype.bytesPerElement=4,Zr("StructArrayLayout1f4",le);var C=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Y,ae,he)},O.prototype.emplace=function(Y,ae,he,ve){var Se=3*Y;return this.int16[Se+0]=ae,this.int16[Se+1]=he,this.int16[Se+2]=ve,Y},O}(qa);C.prototype.bytesPerElement=6,Zr("StructArrayLayout3i6",C);var z=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he){var ve=this.length;return this.resize(ve+1),this.emplace(ve,Y,ae,he)},O.prototype.emplace=function(Y,ae,he,ve){var Se=2*Y,Fe=4*Y;return this.uint32[Se+0]=ae,this.uint16[Fe+2]=he,this.uint16[Fe+3]=ve,Y},O}(qa);z.prototype.bytesPerElement=8,Zr("StructArrayLayout1ul2ui8",z);var B=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae){var he=this.length;return this.resize(he+1),this.emplace(he,Y,ae)},O.prototype.emplace=function(Y,ae,he){var ve=2*Y;return this.uint16[ve+0]=ae,this.uint16[ve+1]=he,Y},O}(qa);B.prototype.bytesPerElement=4,Zr("StructArrayLayout2ui4",B);var G=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y){var ae=this.length;return this.resize(ae+1),this.emplace(ae,Y)},O.prototype.emplace=function(Y,ae){var he=1*Y;return this.uint16[he+0]=ae,Y},O}(qa);G.prototype.bytesPerElement=2,Zr("StructArrayLayout1ui2",G);var ie=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae){var he=this.length;return this.resize(he+1),this.emplace(he,Y,ae)},O.prototype.emplace=function(Y,ae,he){var ve=2*Y;return this.float32[ve+0]=ae,this.float32[ve+1]=he,Y},O}(qa);ie.prototype.bytesPerElement=8,Zr("StructArrayLayout2f8",ie);var ue=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},O.prototype.emplaceBack=function(Y,ae,he,ve){var Se=this.length;return this.resize(Se+1),this.emplace(Se,Y,ae,he,ve)},O.prototype.emplace=function(Y,ae,he,ve,Se){var Fe=4*Y;return this.float32[Fe+0]=ae,this.float32[Fe+1]=he,this.float32[Fe+2]=ve,this.float32[Fe+3]=Se,Y},O}(qa);ue.prototype.bytesPerElement=16,Zr("StructArrayLayout4f16",ue);var ge=function(M){function O(){M.apply(this,arguments)}M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O;var Y={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return Y.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},Y.x1.get=function(){return this._structArray.int16[this._pos2+2]},Y.y1.get=function(){return this._structArray.int16[this._pos2+3]},Y.x2.get=function(){return this._structArray.int16[this._pos2+4]},Y.y2.get=function(){return this._structArray.int16[this._pos2+5]},Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(O.prototype,Y),O}(ks);ge.prototype.size=20;var ye=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.get=function(Y){return new ge(this,Y)},O}(ol);Zr("CollisionBoxArray",ye);var Me=function(M){function O(){M.apply(this,arguments)}M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},Y.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},Y.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},Y.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},Y.segment.get=function(){return this._structArray.uint16[this._pos2+10]},Y.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},Y.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},Y.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},Y.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},Y.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},Y.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},Y.placedOrientation.set=function(ae){this._structArray.uint8[this._pos1+37]=ae},Y.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},Y.hidden.set=function(ae){this._structArray.uint8[this._pos1+38]=ae},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},Y.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+10]=ae},Y.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(O.prototype,Y),O}(ks);Me.prototype.size=48;var je=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.get=function(Y){return new Me(this,Y)},O}(sl);Zr("PlacedSymbolArray",je);var We=function(M){function O(){M.apply(this,arguments)}M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O;var Y={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return Y.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},Y.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},Y.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},Y.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},Y.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},Y.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},Y.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},Y.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},Y.key.get=function(){return this._structArray.uint16[this._pos2+8]},Y.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},Y.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},Y.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},Y.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},Y.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},Y.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},Y.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},Y.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},Y.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},Y.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},Y.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},Y.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},Y.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},Y.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},Y.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},Y.crossTileID.set=function(ae){this._structArray.uint32[this._pos4+12]=ae},Y.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},Y.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},Y.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},Y.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(O.prototype,Y),O}(ks);We.prototype.size=68;var nt=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.get=function(Y){return new We(this,Y)},O}(ll);Zr("SymbolInstanceArray",nt);var bt=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.getoffsetX=function(Y){return this.float32[1*Y+0]},O}(le);Zr("GlyphOffsetArray",bt);var At=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.getx=function(Y){return this.int16[3*Y+0]},O.prototype.gety=function(Y){return this.int16[3*Y+1]},O.prototype.gettileUnitDistanceFromAnchor=function(Y){return this.int16[3*Y+2]},O}(C);Zr("SymbolLineVertexArray",At);var _t=function(M){function O(){M.apply(this,arguments)}M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O;var Y={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return Y.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},Y.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},Y.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(O.prototype,Y),O}(ks);_t.prototype.size=8;var wt=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.get=function(Y){return new _t(this,Y)},O}(z);Zr("FeatureIndexArray",wt);var xt=Qa([{name:"a_pos",components:2,type:"Int16"}],4).members,Ft=function(M){M===void 0&&(M=[]),this.segments=M};function Ot(M,O){return 256*(M=u(Math.floor(M),0,255))+(O=u(Math.floor(O),0,255))}Ft.prototype.prepareSegment=function(M,O,Y,ae){var he=this.segments[this.segments.length-1];return M>Ft.MAX_VERTEX_ARRAY_LENGTH&&A("Max vertices per segment is "+Ft.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+M),(!he||he.vertexLength+M>Ft.MAX_VERTEX_ARRAY_LENGTH||he.sortKey!==ae)&&(he={vertexOffset:O.length,primitiveOffset:Y.length,vertexLength:0,primitiveLength:0},ae!==void 0&&(he.sortKey=ae),this.segments.push(he)),he},Ft.prototype.get=function(){return this.segments},Ft.prototype.destroy=function(){for(var M=0,O=this.segments;M<O.length;M+=1){var Y=O[M];for(var ae in Y.vaos)Y.vaos[ae].destroy()}},Ft.simpleSegment=function(M,O,Y,ae){return new Ft([{vertexOffset:M,primitiveOffset:O,vertexLength:Y,primitiveLength:ae,vaos:{},sortKey:0}])},Ft.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Zr("SegmentVector",Ft);var Nt=Qa([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),er=n(function(M){M.exports=function(O,Y){var ae,he,ve,Se,Fe,Ke,ct,gt;for(ae=3&O.length,he=O.length-ae,ve=Y,Fe=3432918353,Ke=461845907,gt=0;gt<he;)ct=255&O.charCodeAt(gt)|(255&O.charCodeAt(++gt))<<8|(255&O.charCodeAt(++gt))<<16|(255&O.charCodeAt(++gt))<<24,++gt,ve=27492+(65535&(Se=5*(65535&(ve=(ve^=ct=(65535&(ct=(ct=(65535&ct)*Fe+(((ct>>>16)*Fe&65535)<<16)&4294967295)<<15|ct>>>17))*Ke+(((ct>>>16)*Ke&65535)<<16)&4294967295)<<13|ve>>>19))+((5*(ve>>>16)&65535)<<16)&4294967295))+((58964+(Se>>>16)&65535)<<16);switch(ct=0,ae){case 3:ct^=(255&O.charCodeAt(gt+2))<<16;case 2:ct^=(255&O.charCodeAt(gt+1))<<8;case 1:ve^=ct=(65535&(ct=(ct=(65535&(ct^=255&O.charCodeAt(gt)))*Fe+(((ct>>>16)*Fe&65535)<<16)&4294967295)<<15|ct>>>17))*Ke+(((ct>>>16)*Ke&65535)<<16)&4294967295}return ve^=O.length,ve=2246822507*(65535&(ve^=ve>>>16))+((2246822507*(ve>>>16)&65535)<<16)&4294967295,ve=3266489909*(65535&(ve^=ve>>>13))+((3266489909*(ve>>>16)&65535)<<16)&4294967295,(ve^=ve>>>16)>>>0}}),fr=n(function(M){M.exports=function(O,Y){for(var ae,he=O.length,ve=Y^he,Se=0;he>=4;)ae=1540483477*(65535&(ae=255&O.charCodeAt(Se)|(255&O.charCodeAt(++Se))<<8|(255&O.charCodeAt(++Se))<<16|(255&O.charCodeAt(++Se))<<24))+((1540483477*(ae>>>16)&65535)<<16),ve=1540483477*(65535&ve)+((1540483477*(ve>>>16)&65535)<<16)^(ae=1540483477*(65535&(ae^=ae>>>24))+((1540483477*(ae>>>16)&65535)<<16)),he-=4,++Se;switch(he){case 3:ve^=(255&O.charCodeAt(Se+2))<<16;case 2:ve^=(255&O.charCodeAt(Se+1))<<8;case 1:ve=1540483477*(65535&(ve^=255&O.charCodeAt(Se)))+((1540483477*(ve>>>16)&65535)<<16)}return ve=1540483477*(65535&(ve^=ve>>>13))+((1540483477*(ve>>>16)&65535)<<16),(ve^=ve>>>15)>>>0}}),kr=er,Tr=er,Jr=fr;kr.murmur3=Tr,kr.murmur2=Jr;var Xr=function(){this.ids=[],this.positions=[],this.indexed=!1};Xr.prototype.add=function(M,O,Y,ae){this.ids.push(on(M)),this.positions.push(O,Y,ae)},Xr.prototype.getPositions=function(M){for(var O=on(M),Y=0,ae=this.ids.length-1;Y<ae;){var he=Y+ae>>1;this.ids[he]>=O?ae=he:Y=he+1}for(var ve=[];this.ids[Y]===O;){var Se=this.positions[3*Y],Fe=this.positions[3*Y+1],Ke=this.positions[3*Y+2];ve.push({index:Se,start:Fe,end:Ke}),Y++}return ve},Xr.serialize=function(M,O){var Y=new Float64Array(M.ids),ae=new Uint32Array(M.positions);return function he(ve,Se,Fe,Ke){for(;Fe<Ke;){for(var ct=ve[Fe+Ke>>1],gt=Fe-1,Bt=Ke+1;;){do gt++;while(ve[gt]<ct);do Bt--;while(ve[Bt]>ct);if(gt>=Bt)break;Nn(ve,gt,Bt),Nn(Se,3*gt,3*Bt),Nn(Se,3*gt+1,3*Bt+1),Nn(Se,3*gt+2,3*Bt+2)}Bt-Fe<Ke-Bt?(he(ve,Se,Fe,Bt),Fe=Bt+1):(he(ve,Se,Bt+1,Ke),Ke=Bt)}}(Y,ae,0,Y.length-1),O&&O.push(Y.buffer,ae.buffer),{ids:Y,positions:ae}},Xr.deserialize=function(M){var O=new Xr;return O.ids=M.ids,O.positions=M.positions,O.indexed=!0,O};var hn=Math.pow(2,53)-1;function on(M){var O=+M;return!isNaN(O)&&O<=hn?O:kr(String(M))}function Nn(M,O,Y){var ae=M[O];M[O]=M[Y],M[Y]=ae}Zr("FeaturePositionMap",Xr);var Gn=function(M,O){this.gl=M.gl,this.location=O},oa=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=0}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){this.current!==Y&&(this.current=Y,this.gl.uniform1i(this.location,Y))},O}(Gn),jr=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=0}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){this.current!==Y&&(this.current=Y,this.gl.uniform1f(this.location,Y))},O}(Gn),Mn=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=[0,0]}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]||(this.current=Y,this.gl.uniform2f(this.location,Y[0],Y[1]))},O}(Gn),Yn=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=[0,0,0]}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]&&Y[2]===this.current[2]||(this.current=Y,this.gl.uniform3f(this.location,Y[0],Y[1],Y[2]))},O}(Gn),Vn=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=[0,0,0,0]}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){Y[0]===this.current[0]&&Y[1]===this.current[1]&&Y[2]===this.current[2]&&Y[3]===this.current[3]||(this.current=Y,this.gl.uniform4f(this.location,Y[0],Y[1],Y[2],Y[3]))},O}(Gn),Qn=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=ar.transparent}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){Y.r===this.current.r&&Y.g===this.current.g&&Y.b===this.current.b&&Y.a===this.current.a||(this.current=Y,this.gl.uniform4f(this.location,Y.r,Y.g,Y.b,Y.a))},O}(Gn),la=new Float32Array(16),wa=function(M){function O(Y,ae){M.call(this,Y,ae),this.current=la}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.set=function(Y){if(Y[12]!==this.current[12]||Y[0]!==this.current[0])return this.current=Y,void this.gl.uniformMatrix4fv(this.location,!1,Y);for(var ae=1;ae<16;ae++)if(Y[ae]!==this.current[ae]){this.current=Y,this.gl.uniformMatrix4fv(this.location,!1,Y);break}},O}(Gn);function Zn(M){return[Ot(255*M.r,255*M.g),Ot(255*M.b,255*M.a)]}var ma=function(M,O,Y){this.value=M,this.uniformNames=O.map(function(ae){return"u_"+ae}),this.type=Y};ma.prototype.setUniform=function(M,O,Y){M.set(Y.constantOr(this.value))},ma.prototype.getBinding=function(M,O,Y){return this.type==="color"?new Qn(M,O):new jr(M,O)};var pa=function(M,O){this.uniformNames=O.map(function(Y){return"u_"+Y}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};pa.prototype.setConstantPatternPositions=function(M,O){this.pixelRatioFrom=O.pixelRatio,this.pixelRatioTo=M.pixelRatio,this.patternFrom=O.tlbr,this.patternTo=M.tlbr},pa.prototype.setUniform=function(M,O,Y,ae){var he=ae==="u_pattern_to"?this.patternTo:ae==="u_pattern_from"?this.patternFrom:ae==="u_pixel_ratio_to"?this.pixelRatioTo:ae==="u_pixel_ratio_from"?this.pixelRatioFrom:null;he&&M.set(he)},pa.prototype.getBinding=function(M,O,Y){return Y.substr(0,9)==="u_pattern"?new Vn(M,O):new jr(M,O)};var Aa=function(M,O,Y,ae){this.expression=M,this.type=Y,this.maxValue=0,this.paintVertexAttributes=O.map(function(he){return{name:"a_"+he,type:"Float32",components:Y==="color"?2:1,offset:0}}),this.paintVertexArray=new ae};Aa.prototype.populatePaintArray=function(M,O,Y,ae,he){var ve=this.paintVertexArray.length,Se=this.expression.evaluate(new Ka(0),O,{},ae,[],he);this.paintVertexArray.resize(M),this._setPaintValue(ve,M,Se)},Aa.prototype.updatePaintArray=function(M,O,Y,ae){var he=this.expression.evaluate({zoom:0},Y,ae);this._setPaintValue(M,O,he)},Aa.prototype._setPaintValue=function(M,O,Y){if(this.type==="color")for(var ae=Zn(Y),he=M;he<O;he++)this.paintVertexArray.emplace(he,ae[0],ae[1]);else{for(var ve=M;ve<O;ve++)this.paintVertexArray.emplace(ve,Y);this.maxValue=Math.max(this.maxValue,Math.abs(Y))}},Aa.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Aa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var va=function(M,O,Y,ae,he,ve){this.expression=M,this.uniformNames=O.map(function(Se){return"u_"+Se+"_t"}),this.type=Y,this.useIntegerZoom=ae,this.zoom=he,this.maxValue=0,this.paintVertexAttributes=O.map(function(Se){return{name:"a_"+Se,type:"Float32",components:Y==="color"?4:2,offset:0}}),this.paintVertexArray=new ve};va.prototype.populatePaintArray=function(M,O,Y,ae,he){var ve=this.expression.evaluate(new Ka(this.zoom),O,{},ae,[],he),Se=this.expression.evaluate(new Ka(this.zoom+1),O,{},ae,[],he),Fe=this.paintVertexArray.length;this.paintVertexArray.resize(M),this._setPaintValue(Fe,M,ve,Se)},va.prototype.updatePaintArray=function(M,O,Y,ae){var he=this.expression.evaluate({zoom:this.zoom},Y,ae),ve=this.expression.evaluate({zoom:this.zoom+1},Y,ae);this._setPaintValue(M,O,he,ve)},va.prototype._setPaintValue=function(M,O,Y,ae){if(this.type==="color")for(var he=Zn(Y),ve=Zn(ae),Se=M;Se<O;Se++)this.paintVertexArray.emplace(Se,he[0],he[1],ve[0],ve[1]);else{for(var Fe=M;Fe<O;Fe++)this.paintVertexArray.emplace(Fe,Y,ae);this.maxValue=Math.max(this.maxValue,Math.abs(Y),Math.abs(ae))}},va.prototype.upload=function(M){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=M.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},va.prototype.setUniform=function(M,O){var Y=this.useIntegerZoom?Math.floor(O.zoom):O.zoom,ae=u(this.expression.interpolationFactor(Y,this.zoom,this.zoom+1),0,1);M.set(ae)},va.prototype.getBinding=function(M,O,Y){return new jr(M,O)};var Sa=function(M,O,Y,ae,he,ve){this.expression=M,this.type=O,this.useIntegerZoom=Y,this.zoom=ae,this.layerId=ve,this.zoomInPaintVertexArray=new he,this.zoomOutPaintVertexArray=new he};Sa.prototype.populatePaintArray=function(M,O,Y){var ae=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(M),this.zoomOutPaintVertexArray.resize(M),this._setPaintValues(ae,M,O.patterns&&O.patterns[this.layerId],Y)},Sa.prototype.updatePaintArray=function(M,O,Y,ae,he){this._setPaintValues(M,O,Y.patterns&&Y.patterns[this.layerId],he)},Sa.prototype._setPaintValues=function(M,O,Y,ae){if(ae&&Y){var he=Y.min,ve=Y.mid,Se=Y.max,Fe=ae[he],Ke=ae[ve],ct=ae[Se];if(Fe&&Ke&&ct)for(var gt=M;gt<O;gt++)this.zoomInPaintVertexArray.emplace(gt,Ke.tl[0],Ke.tl[1],Ke.br[0],Ke.br[1],Fe.tl[0],Fe.tl[1],Fe.br[0],Fe.br[1],Ke.pixelRatio,Fe.pixelRatio),this.zoomOutPaintVertexArray.emplace(gt,Ke.tl[0],Ke.tl[1],Ke.br[0],Ke.br[1],ct.tl[0],ct.tl[1],ct.br[0],ct.br[1],Ke.pixelRatio,ct.pixelRatio)}},Sa.prototype.upload=function(M){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=M.createVertexBuffer(this.zoomInPaintVertexArray,Nt.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=M.createVertexBuffer(this.zoomOutPaintVertexArray,Nt.members,this.expression.isStateDependent))},Sa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Da=function(M,O,Y,ae){this.binders={},this.layoutAttributes=ae,this._buffers=[];var he=[];for(var ve in M.paint._values)if(Y(ve)){var Se=M.paint.get(ve);if(Se instanceof Ci&&jo(Se.property.specification)){var Fe=Ai(ve,M.type),Ke=Se.value,ct=Se.property.specification.type,gt=Se.property.useIntegerZoom,Bt=Se.property.specification["property-type"],Zt=Bt==="cross-faded"||Bt==="cross-faded-data-driven";if(Ke.kind==="constant")this.binders[ve]=Zt?new pa(Ke.value,Fe):new ma(Ke.value,Fe,ct),he.push("/u_"+ve);else if(Ke.kind==="source"||Zt){var qt=Si(ve,ct,"source");this.binders[ve]=Zt?new Sa(Ke,ct,gt,O,qt,M.id):new Aa(Ke,Fe,ct,qt),he.push("/a_"+ve)}else{var rr=Si(ve,ct,"composite");this.binders[ve]=new va(Ke,Fe,ct,gt,O,rr),he.push("/z_"+ve)}}}this.cacheKey=he.sort().join("")};Da.prototype.getMaxValue=function(M){var O=this.binders[M];return O instanceof Aa||O instanceof va?O.maxValue:0},Da.prototype.populatePaintArrays=function(M,O,Y,ae,he){for(var ve in this.binders){var Se=this.binders[ve];(Se instanceof Aa||Se instanceof va||Se instanceof Sa)&&Se.populatePaintArray(M,O,Y,ae,he)}},Da.prototype.setConstantPatternPositions=function(M,O){for(var Y in this.binders){var ae=this.binders[Y];ae instanceof pa&&ae.setConstantPatternPositions(M,O)}},Da.prototype.updatePaintArrays=function(M,O,Y,ae,he){var ve=!1;for(var Se in M)for(var Fe=0,Ke=O.getPositions(Se);Fe<Ke.length;Fe+=1){var ct=Ke[Fe],gt=Y.feature(ct.index);for(var Bt in this.binders){var Zt=this.binders[Bt];if((Zt instanceof Aa||Zt instanceof va||Zt instanceof Sa)&&Zt.expression.isStateDependent===!0){var qt=ae.paint.get(Bt);Zt.expression=qt.value,Zt.updatePaintArray(ct.start,ct.end,gt,M[Se],he),ve=!0}}}return ve},Da.prototype.defines=function(){var M=[];for(var O in this.binders){var Y=this.binders[O];(Y instanceof ma||Y instanceof pa)&&M.push.apply(M,Y.uniformNames.map(function(ae){return"#define HAS_UNIFORM_"+ae}))}return M},Da.prototype.getPaintVertexBuffers=function(){return this._buffers},Da.prototype.getUniforms=function(M,O){var Y=[];for(var ae in this.binders){var he=this.binders[ae];if(he instanceof ma||he instanceof pa||he instanceof va)for(var ve=0,Se=he.uniformNames;ve<Se.length;ve+=1){var Fe=Se[ve];if(O[Fe]){var Ke=he.getBinding(M,O[Fe],Fe);Y.push({name:Fe,property:ae,binding:Ke})}}}return Y},Da.prototype.setUniforms=function(M,O,Y,ae){for(var he=0,ve=O;he<ve.length;he+=1){var Se=ve[he],Fe=Se.name,Ke=Se.property,ct=Se.binding;this.binders[Ke].setUniform(ct,ae,Y.get(Ke),Fe)}},Da.prototype.updatePaintBuffers=function(M){for(var O in this._buffers=[],this.binders){var Y=this.binders[O];if(M&&Y instanceof Sa){var ae=M.fromScale===2?Y.zoomInPaintVertexBuffer:Y.zoomOutPaintVertexBuffer;ae&&this._buffers.push(ae)}else(Y instanceof Aa||Y instanceof va)&&Y.paintVertexBuffer&&this._buffers.push(Y.paintVertexBuffer)}},Da.prototype.upload=function(M){for(var O in this.binders){var Y=this.binders[O];(Y instanceof Aa||Y instanceof va||Y instanceof Sa)&&Y.upload(M)}this.updatePaintBuffers()},Da.prototype.destroy=function(){for(var M in this.binders){var O=this.binders[M];(O instanceof Aa||O instanceof va||O instanceof Sa)&&O.destroy()}};var ii=function(M,O,Y,ae){ae===void 0&&(ae=function(){return!0}),this.programConfigurations={};for(var he=0,ve=O;he<ve.length;he+=1){var Se=ve[he];this.programConfigurations[Se.id]=new Da(Se,Y,ae,M)}this.needsUpload=!1,this._featureMap=new Xr,this._bufferOffset=0};function Ai(M,O){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[M]||[M.replace(O+"-","").replace(/-/g,"_")]}function Si(M,O,Y){var ae={color:{source:ie,composite:ue},number:{source:le,composite:ie}},he=function(ve){return{"line-pattern":{source:vs,composite:vs},"fill-pattern":{source:vs,composite:vs},"fill-extrusion-pattern":{source:vs,composite:vs}}[ve]}(M);return he&&he[Y]||ae[O][Y]}ii.prototype.populatePaintArrays=function(M,O,Y,ae,he,ve){for(var Se in this.programConfigurations)this.programConfigurations[Se].populatePaintArrays(M,O,ae,he,ve);O.id!==void 0&&this._featureMap.add(O.id,Y,this._bufferOffset,M),this._bufferOffset=M,this.needsUpload=!0},ii.prototype.updatePaintArrays=function(M,O,Y,ae){for(var he=0,ve=Y;he<ve.length;he+=1){var Se=ve[he];this.needsUpload=this.programConfigurations[Se.id].updatePaintArrays(M,this._featureMap,O,Se,ae)||this.needsUpload}},ii.prototype.get=function(M){return this.programConfigurations[M]},ii.prototype.upload=function(M){if(this.needsUpload){for(var O in this.programConfigurations)this.programConfigurations[O].upload(M);this.needsUpload=!1}},ii.prototype.destroy=function(){for(var M in this.programConfigurations)this.programConfigurations[M].destroy()},Zr("ConstantBinder",ma),Zr("CrossFadedConstantBinder",pa),Zr("SourceExpressionBinder",Aa),Zr("CrossFadedCompositeBinder",Sa),Zr("CompositeExpressionBinder",va),Zr("ProgramConfiguration",Da,{omit:["_buffers"]}),Zr("ProgramConfigurationSet",ii);var ai,xi=(ai=15,{min:-1*Math.pow(2,ai-1),max:Math.pow(2,ai-1)-1});function ui(M){for(var O=8192/M.extent,Y=M.loadGeometry(),ae=0;ae<Y.length;ae++)for(var he=Y[ae],ve=0;ve<he.length;ve++){var Se=he[ve];Se.x=Math.round(Se.x*O),Se.y=Math.round(Se.y*O),(Se.x<xi.min||Se.x>xi.max||Se.y<xi.min||Se.y>xi.max)&&(A("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Se.x=u(Se.x,xi.min,xi.max),Se.y=u(Se.y,xi.min,xi.max))}return Y}function po(M,O,Y,ae,he){M.emplaceBack(2*O+(ae+1)/2,2*Y+(he+1)/2)}var ji=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(O){return O.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new as,this.indexArray=new Qi,this.segments=new Ft,this.programConfigurations=new ii(xt,M.layers,M.zoom),this.stateDependentLayerIds=this.layers.filter(function(O){return O.isStateDependent()}).map(function(O){return O.id})};function Po(M,O){for(var Y=0;Y<M.length;Y++)if(es(O,M[Y]))return!0;for(var ae=0;ae<O.length;ae++)if(es(M,O[ae]))return!0;return!!$s(M,O)}function ys(M,O,Y){return!!es(M,O)||!!go(O,M,Y)}function Ns(M,O){if(M.length===1)return ul(O,M[0]);for(var Y=0;Y<O.length;Y++)for(var ae=O[Y],he=0;he<ae.length;he++)if(es(M,ae[he]))return!0;for(var ve=0;ve<M.length;ve++)if(ul(O,M[ve]))return!0;for(var Se=0;Se<O.length;Se++)if($s(M,O[Se]))return!0;return!1}function cl(M,O,Y){if(M.length>1){if($s(M,O))return!0;for(var ae=0;ae<O.length;ae++)if(go(O[ae],M,Y))return!0}for(var he=0;he<M.length;he++)if(go(M[he],O,Y))return!0;return!1}function $s(M,O){if(M.length===0||O.length===0)return!1;for(var Y=0;Y<M.length-1;Y++)for(var ae=M[Y],he=M[Y+1],ve=0;ve<O.length-1;ve++)if(el(ae,he,O[ve],O[ve+1]))return!0;return!1}function el(M,O,Y,ae){return I(M,Y,ae)!==I(O,Y,ae)&&I(M,O,Y)!==I(M,O,ae)}function go(M,O,Y){var ae=Y*Y;if(O.length===1)return M.distSqr(O[0])<ae;for(var he=1;he<O.length;he++)if(Hs(M,O[he-1],O[he])<ae)return!0;return!1}function Hs(M,O,Y){var ae=O.distSqr(Y);if(ae===0)return M.distSqr(O);var he=((M.x-O.x)*(Y.x-O.x)+(M.y-O.y)*(Y.y-O.y))/ae;return he<0?M.distSqr(O):he>1?M.distSqr(Y):M.distSqr(Y.sub(O)._mult(he)._add(O))}function ul(M,O){for(var Y,ae,he,ve=!1,Se=0;Se<M.length;Se++)for(var Fe=0,Ke=(Y=M[Se]).length-1;Fe<Y.length;Ke=Fe++)ae=Y[Fe],he=Y[Ke],ae.y>O.y!=he.y>O.y&&O.x<(he.x-ae.x)*(O.y-ae.y)/(he.y-ae.y)+ae.x&&(ve=!ve);return ve}function es(M,O){for(var Y=!1,ae=0,he=M.length-1;ae<M.length;he=ae++){var ve=M[ae],Se=M[he];ve.y>O.y!=Se.y>O.y&&O.x<(Se.x-ve.x)*(O.y-ve.y)/(Se.y-ve.y)+ve.x&&(Y=!Y)}return Y}function fl(M,O,Y){var ae=Y[0],he=Y[2];if(M.x<ae.x&&O.x<ae.x||M.x>he.x&&O.x>he.x||M.y<ae.y&&O.y<ae.y||M.y>he.y&&O.y>he.y)return!1;var ve=I(M,O,Y[0]);return ve!==I(M,O,Y[1])||ve!==I(M,O,Y[2])||ve!==I(M,O,Y[3])}function bi(M,O,Y){var ae=O.paint.get(M).value;return ae.kind==="constant"?ae.value:Y.programConfigurations.get(O.id).getMaxValue(M)}function So(M){return Math.sqrt(M[0]*M[0]+M[1]*M[1])}function Eo(M,O,Y,ae,he){if(!O[0]&&!O[1])return M;var ve=t.convert(O)._mult(he);Y==="viewport"&&ve._rotate(-ae);for(var Se=[],Fe=0;Fe<M.length;Fe++){var Ke=M[Fe];Se.push(Ke.sub(ve))}return Se}ji.prototype.populate=function(M,O,Y){var ae=this.layers[0],he=[],ve=null;ae.type==="circle"&&(ve=ae.layout.get("circle-sort-key"));for(var Se=0,Fe=M;Se<Fe.length;Se+=1){var Ke=Fe[Se],ct=Ke.feature,gt=Ke.id,Bt=Ke.index,Zt=Ke.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,rr={type:ct.type,id:gt,properties:ct.properties,geometry:qt?ui(ct):[]};if(this.layers[0]._featureFilter.filter(new Ka(this.zoom),rr,Y)){qt||(rr.geometry=ui(ct));var gr=ve?ve.evaluate(rr,{},Y):void 0,Er={id:gt,properties:ct.properties,type:ct.type,sourceLayerIndex:Zt,index:Bt,geometry:rr.geometry,patterns:{},sortKey:gr};he.push(Er)}}ve&&he.sort(function(Hn,ta){return Hn.sortKey-ta.sortKey});for(var Sr=0,Rr=he;Sr<Rr.length;Sr+=1){var Br=Rr[Sr],Hr=Br,fn=Hr.geometry,xn=Hr.index,Fn=Hr.sourceLayerIndex,Rn=M[xn].feature;this.addFeature(Br,fn,xn,Y),O.featureIndex.insert(Rn,fn,xn,Fn,this.index)}},ji.prototype.update=function(M,O,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,O,this.stateDependentLayers,Y)},ji.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ji.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ji.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,xt),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},ji.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ji.prototype.addFeature=function(M,O,Y,ae){for(var he=0,ve=O;he<ve.length;he+=1)for(var Se=0,Fe=ve[he];Se<Fe.length;Se+=1){var Ke=Fe[Se],ct=Ke.x,gt=Ke.y;if(!(ct<0||ct>=8192||gt<0||gt>=8192)){var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,M.sortKey),Zt=Bt.vertexLength;po(this.layoutVertexArray,ct,gt,-1,-1),po(this.layoutVertexArray,ct,gt,1,-1),po(this.layoutVertexArray,ct,gt,1,1),po(this.layoutVertexArray,ct,gt,-1,1),this.indexArray.emplaceBack(Zt,Zt+1,Zt+2),this.indexArray.emplaceBack(Zt,Zt+3,Zt+2),Bt.vertexLength+=4,Bt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Y,{},ae)},Zr("CircleBucket",ji,{omit:["layers"]});var bl=new Ao({"circle-sort-key":new ga(Ce.layout_circle["circle-sort-key"])}),eu={paint:new Ao({"circle-radius":new ga(Ce.paint_circle["circle-radius"]),"circle-color":new ga(Ce.paint_circle["circle-color"]),"circle-blur":new ga(Ce.paint_circle["circle-blur"]),"circle-opacity":new ga(Ce.paint_circle["circle-opacity"]),"circle-translate":new ia(Ce.paint_circle["circle-translate"]),"circle-translate-anchor":new ia(Ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ia(Ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ia(Ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ga(Ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ga(Ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ga(Ce.paint_circle["circle-stroke-opacity"])}),layout:bl},Yo=typeof Float32Array<"u"?Float32Array:Array;function Wl(M){return M[0]=1,M[1]=0,M[2]=0,M[3]=0,M[4]=0,M[5]=1,M[6]=0,M[7]=0,M[8]=0,M[9]=0,M[10]=1,M[11]=0,M[12]=0,M[13]=0,M[14]=0,M[15]=1,M}function hl(M,O,Y){var ae=O[0],he=O[1],ve=O[2],Se=O[3],Fe=O[4],Ke=O[5],ct=O[6],gt=O[7],Bt=O[8],Zt=O[9],qt=O[10],rr=O[11],gr=O[12],Er=O[13],Sr=O[14],Rr=O[15],Br=Y[0],Hr=Y[1],fn=Y[2],xn=Y[3];return M[0]=Br*ae+Hr*Fe+fn*Bt+xn*gr,M[1]=Br*he+Hr*Ke+fn*Zt+xn*Er,M[2]=Br*ve+Hr*ct+fn*qt+xn*Sr,M[3]=Br*Se+Hr*gt+fn*rr+xn*Rr,Br=Y[4],Hr=Y[5],fn=Y[6],xn=Y[7],M[4]=Br*ae+Hr*Fe+fn*Bt+xn*gr,M[5]=Br*he+Hr*Ke+fn*Zt+xn*Er,M[6]=Br*ve+Hr*ct+fn*qt+xn*Sr,M[7]=Br*Se+Hr*gt+fn*rr+xn*Rr,Br=Y[8],Hr=Y[9],fn=Y[10],xn=Y[11],M[8]=Br*ae+Hr*Fe+fn*Bt+xn*gr,M[9]=Br*he+Hr*Ke+fn*Zt+xn*Er,M[10]=Br*ve+Hr*ct+fn*qt+xn*Sr,M[11]=Br*Se+Hr*gt+fn*rr+xn*Rr,Br=Y[12],Hr=Y[13],fn=Y[14],xn=Y[15],M[12]=Br*ae+Hr*Fe+fn*Bt+xn*gr,M[13]=Br*he+Hr*Ke+fn*Zt+xn*Er,M[14]=Br*ve+Hr*ct+fn*qt+xn*Sr,M[15]=Br*Se+Hr*gt+fn*rr+xn*Rr,M}Math.hypot||(Math.hypot=function(){for(var M=arguments,O=0,Y=arguments.length;Y--;)O+=M[Y]*M[Y];return Math.sqrt(O)});var tu=hl,qs,ru=function(M,O,Y){return M[0]=O[0]-Y[0],M[1]=O[1]-Y[1],M[2]=O[2]-Y[2],M};qs=new Yo(3),Yo!=Float32Array&&(qs[0]=0,qs[1]=0,qs[2]=0);function _l(M,O,Y){var ae=O[0],he=O[1],ve=O[2],Se=O[3];return M[0]=Y[0]*ae+Y[4]*he+Y[8]*ve+Y[12]*Se,M[1]=Y[1]*ae+Y[5]*he+Y[9]*ve+Y[13]*Se,M[2]=Y[2]*ae+Y[6]*he+Y[10]*ve+Y[14]*Se,M[3]=Y[3]*ae+Y[7]*he+Y[11]*ve+Y[15]*Se,M}(function(){(function(){var M=new Yo(4);return Yo!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0),M})()})();var Zl=function(M){var O=M[0],Y=M[1];return O*O+Y*Y},dh=(function(){(function(){var M=new Yo(2);return Yo!=Float32Array&&(M[0]=0,M[1]=0),M})()}(),function(M){function O(Y){M.call(this,Y,eu)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.createBucket=function(Y){return new ji(Y)},O.prototype.queryRadius=function(Y){var ae=Y;return bi("circle-radius",this,ae)+bi("circle-stroke-width",this,ae)+So(this.paint.get("circle-translate"))},O.prototype.queryIntersectsFeature=function(Y,ae,he,ve,Se,Fe,Ke,ct){for(var gt=Eo(Y,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),Fe.angle,Ke),Bt=this.paint.get("circle-radius").evaluate(ae,he)+this.paint.get("circle-stroke-width").evaluate(ae,he),Zt=this.paint.get("circle-pitch-alignment")==="map",qt=Zt?gt:function(Fn,Rn){return Fn.map(function(Hn){return Nu(Hn,Rn)})}(gt,ct),rr=Zt?Bt*Ke:Bt,gr=0,Er=ve;gr<Er.length;gr+=1)for(var Sr=0,Rr=Er[gr];Sr<Rr.length;Sr+=1){var Br=Rr[Sr],Hr=Zt?Br:Nu(Br,ct),fn=rr,xn=_l([],[Br.x,Br.y,0,1],ct);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?fn*=xn[3]/Fe.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(fn*=Fe.cameraToCenterDistance/xn[3]),ys(qt,Hr,fn))return!0}return!1},O}(Uo));function Nu(M,O){var Y=_l([],[M.x,M.y,0,1],O);return new t(Y[0]/Y[3],Y[1]/Y[3])}var ju=function(M){function O(){M.apply(this,arguments)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O}(ji);function nu(M,O,Y,ae){var he=O.width,ve=O.height;if(ae){if(ae instanceof Uint8ClampedArray)ae=new Uint8Array(ae.buffer);else if(ae.length!==he*ve*Y)throw new RangeError("mismatched image size")}else ae=new Uint8Array(he*ve*Y);return M.width=he,M.height=ve,M.data=ae,M}function Uu(M,O,Y){var ae=O.width,he=O.height;if(ae!==M.width||he!==M.height){var ve=nu({},{width:ae,height:he},Y);au(M,ve,{x:0,y:0},{x:0,y:0},{width:Math.min(M.width,ae),height:Math.min(M.height,he)},Y),M.width=ae,M.height=he,M.data=ve.data}}function au(M,O,Y,ae,he,ve){if(he.width===0||he.height===0)return O;if(he.width>M.width||he.height>M.height||Y.x>M.width-he.width||Y.y>M.height-he.height)throw new RangeError("out of range source coordinates for image copy");if(he.width>O.width||he.height>O.height||ae.x>O.width-he.width||ae.y>O.height-he.height)throw new RangeError("out of range destination coordinates for image copy");for(var Se=M.data,Fe=O.data,Ke=0;Ke<he.height;Ke++)for(var ct=((Y.y+Ke)*M.width+Y.x)*ve,gt=((ae.y+Ke)*O.width+ae.x)*ve,Bt=0;Bt<he.width*ve;Bt++)Fe[gt+Bt]=Se[ct+Bt];return O}Zr("HeatmapBucket",ju,{omit:["layers"]});var pl=function(M,O){nu(this,M,1,O)};pl.prototype.resize=function(M){Uu(this,M,1)},pl.prototype.clone=function(){return new pl({width:this.width,height:this.height},new Uint8Array(this.data))},pl.copy=function(M,O,Y,ae,he){au(M,O,Y,ae,he,1)};var Wo=function(M,O){nu(this,M,4,O)};Wo.prototype.resize=function(M){Uu(this,M,4)},Wo.prototype.replace=function(M,O){O?this.data.set(M):M instanceof Uint8ClampedArray?this.data=new Uint8Array(M.buffer):this.data=M},Wo.prototype.clone=function(){return new Wo({width:this.width,height:this.height},new Uint8Array(this.data))},Wo.copy=function(M,O,Y,ae,he){au(M,O,Y,ae,he,4)},Zr("AlphaImage",pl),Zr("RGBAImage",Wo);var gh={paint:new Ao({"heatmap-radius":new ga(Ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ga(Ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ia(Ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new $o(Ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ia(Ce.paint_heatmap["heatmap-opacity"])})};function Vu(M,O){for(var Y=new Uint8Array(1024),ae={},he=0,ve=0;he<256;he++,ve+=4){ae[O]=he/255;var Se=M.evaluate(ae);Y[ve+0]=Math.floor(255*Se.r/Se.a),Y[ve+1]=Math.floor(255*Se.g/Se.a),Y[ve+2]=Math.floor(255*Se.b/Se.a),Y[ve+3]=Math.floor(255*Se.a)}return new Wo({width:256,height:1},Y)}var mh=function(M){function O(Y){M.call(this,Y,gh),this._updateColorRamp()}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.createBucket=function(Y){return new ju(Y)},O.prototype._handleSpecialPaintPropertyUpdate=function(Y){Y==="heatmap-color"&&this._updateColorRamp()},O.prototype._updateColorRamp=function(){var Y=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Vu(Y,"heatmapDensity"),this.colorRampTexture=null},O.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},O.prototype.queryRadius=function(){return 0},O.prototype.queryIntersectsFeature=function(){return!1},O.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},O}(Uo),vh={paint:new Ao({"hillshade-illumination-direction":new ia(Ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ia(Ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ia(Ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ia(Ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ia(Ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ia(Ce.paint_hillshade["hillshade-accent-color"])})},yh=function(M){function O(Y){M.call(this,Y,vh)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},O}(Uo),Hu=Qa([{name:"a_pos",components:2,type:"Int16"}],4).members,iu=mc,xh=mc;function mc(M,O,Y){Y=Y||2;var ae,he,ve,Se,Fe,Ke,ct,gt=O&&O.length,Bt=gt?O[0]*Y:M.length,Zt=qu(M,0,Bt,Y,!0),qt=[];if(!Zt||Zt.next===Zt.prev)return qt;if(gt&&(Zt=function(gr,Er,Sr,Rr){var Br,Hr,fn,xn,Fn,Rn=[];for(Br=0,Hr=Er.length;Br<Hr;Br++)fn=Er[Br]*Rr,xn=Br<Hr-1?Er[Br+1]*Rr:gr.length,(Fn=qu(gr,fn,xn,Rr,!1))===Fn.next&&(Fn.steiner=!0),Rn.push(Sh(Fn));for(Rn.sort(kh),Br=0;Br<Rn.length;Br++)Mh(Rn[Br],Sr),Sr=tl(Sr,Sr.next);return Sr}(M,O,Zt,Y)),M.length>80*Y){ae=ve=M[0],he=Se=M[1];for(var rr=Y;rr<Bt;rr+=Y)(Fe=M[rr])<ae&&(ae=Fe),(Ke=M[rr+1])<he&&(he=Ke),Fe>ve&&(ve=Fe),Ke>Se&&(Se=Ke);ct=(ct=Math.max(ve-ae,Se-he))!==0?1/ct:0}return Xl(Zt,qt,Y,ae,he,ct),qt}function qu(M,O,Y,ae,he){var ve,Se;if(he===lu(M,O,Y,ae)>0)for(ve=O;ve<Y;ve+=ae)Se=Wu(ve,M[ve],M[ve+1],Se);else for(ve=Y-ae;ve>=O;ve-=ae)Se=Wu(ve,M[ve],M[ve+1],Se);return Se&&vc(Se,Se.next)&&(Kl(Se),Se=Se.next),Se}function tl(M,O){if(!M)return M;O||(O=M);var Y,ae=M;do if(Y=!1,ae.steiner||!vc(ae,ae.next)&&$i(ae.prev,ae,ae.next)!==0)ae=ae.next;else{if(Kl(ae),(ae=O=ae.prev)===ae.next)break;Y=!0}while(Y||ae!==O);return O}function Xl(M,O,Y,ae,he,ve,Se){if(M){!Se&&ve&&function(gt,Bt,Zt,qt){var rr=gt;do rr.z===null&&(rr.z=ou(rr.x,rr.y,Bt,Zt,qt)),rr.prevZ=rr.prev,rr.nextZ=rr.next,rr=rr.next;while(rr!==gt);rr.prevZ.nextZ=null,rr.prevZ=null,function(gr){var Er,Sr,Rr,Br,Hr,fn,xn,Fn,Rn=1;do{for(Sr=gr,gr=null,Hr=null,fn=0;Sr;){for(fn++,Rr=Sr,xn=0,Er=0;Er<Rn&&(xn++,Rr=Rr.nextZ);Er++);for(Fn=Rn;xn>0||Fn>0&&Rr;)xn!==0&&(Fn===0||!Rr||Sr.z<=Rr.z)?(Br=Sr,Sr=Sr.nextZ,xn--):(Br=Rr,Rr=Rr.nextZ,Fn--),Hr?Hr.nextZ=Br:gr=Br,Br.prevZ=Hr,Hr=Br;Sr=Rr}Hr.nextZ=null,Rn*=2}while(fn>1)}(rr)}(M,ae,he,ve);for(var Fe,Ke,ct=M;M.prev!==M.next;)if(Fe=M.prev,Ke=M.next,ve?_h(M,ae,he,ve):bh(M))O.push(Fe.i/Y),O.push(M.i/Y),O.push(Ke.i/Y),Kl(M),M=Ke.next,ct=Ke.next;else if((M=Ke)===ct){Se?Se===1?Xl(M=wh(tl(M),O,Y),O,Y,ae,he,ve,2):Se===2&&Th(M,O,Y,ae,he,ve):Xl(tl(M),O,Y,ae,he,ve,1);break}}}function bh(M){var O=M.prev,Y=M,ae=M.next;if($i(O,Y,ae)>=0)return!1;for(var he=M.next.next;he!==M.prev;){if(wl(O.x,O.y,Y.x,Y.y,ae.x,ae.y,he.x,he.y)&&$i(he.prev,he,he.next)>=0)return!1;he=he.next}return!0}function _h(M,O,Y,ae){var he=M.prev,ve=M,Se=M.next;if($i(he,ve,Se)>=0)return!1;for(var Fe=he.x<ve.x?he.x<Se.x?he.x:Se.x:ve.x<Se.x?ve.x:Se.x,Ke=he.y<ve.y?he.y<Se.y?he.y:Se.y:ve.y<Se.y?ve.y:Se.y,ct=he.x>ve.x?he.x>Se.x?he.x:Se.x:ve.x>Se.x?ve.x:Se.x,gt=he.y>ve.y?he.y>Se.y?he.y:Se.y:ve.y>Se.y?ve.y:Se.y,Bt=ou(Fe,Ke,O,Y,ae),Zt=ou(ct,gt,O,Y,ae),qt=M.prevZ,rr=M.nextZ;qt&&qt.z>=Bt&&rr&&rr.z<=Zt;){if(qt!==M.prev&&qt!==M.next&&wl(he.x,he.y,ve.x,ve.y,Se.x,Se.y,qt.x,qt.y)&&$i(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,rr!==M.prev&&rr!==M.next&&wl(he.x,he.y,ve.x,ve.y,Se.x,Se.y,rr.x,rr.y)&&$i(rr.prev,rr,rr.next)>=0))return!1;rr=rr.nextZ}for(;qt&&qt.z>=Bt;){if(qt!==M.prev&&qt!==M.next&&wl(he.x,he.y,ve.x,ve.y,Se.x,Se.y,qt.x,qt.y)&&$i(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;rr&&rr.z<=Zt;){if(rr!==M.prev&&rr!==M.next&&wl(he.x,he.y,ve.x,ve.y,Se.x,Se.y,rr.x,rr.y)&&$i(rr.prev,rr,rr.next)>=0)return!1;rr=rr.nextZ}return!0}function wh(M,O,Y){var ae=M;do{var he=ae.prev,ve=ae.next.next;!vc(he,ve)&&Gu(he,ae,ae.next,ve)&&Jl(he,ve)&&Jl(ve,he)&&(O.push(he.i/Y),O.push(ae.i/Y),O.push(ve.i/Y),Kl(ae),Kl(ae.next),ae=M=ve),ae=ae.next}while(ae!==M);return tl(ae)}function Th(M,O,Y,ae,he,ve){var Se=M;do{for(var Fe=Se.next.next;Fe!==Se.prev;){if(Se.i!==Fe.i&&Eh(Se,Fe)){var Ke=Yu(Se,Fe);return Se=tl(Se,Se.next),Ke=tl(Ke,Ke.next),Xl(Se,O,Y,ae,he,ve),void Xl(Ke,O,Y,ae,he,ve)}Fe=Fe.next}Se=Se.next}while(Se!==M)}function kh(M,O){return M.x-O.x}function Mh(M,O){if(O=function(ae,he){var ve,Se=he,Fe=ae.x,Ke=ae.y,ct=-1/0;do{if(Ke<=Se.y&&Ke>=Se.next.y&&Se.next.y!==Se.y){var gt=Se.x+(Ke-Se.y)*(Se.next.x-Se.x)/(Se.next.y-Se.y);if(gt<=Fe&&gt>ct){if(ct=gt,gt===Fe){if(Ke===Se.y)return Se;if(Ke===Se.next.y)return Se.next}ve=Se.x<Se.next.x?Se:Se.next}}Se=Se.next}while(Se!==he);if(!ve)return null;if(Fe===ct)return ve;var Bt,Zt=ve,qt=ve.x,rr=ve.y,gr=1/0;Se=ve;do Fe>=Se.x&&Se.x>=qt&&Fe!==Se.x&&wl(Ke<rr?Fe:ct,Ke,qt,rr,Ke<rr?ct:Fe,Ke,Se.x,Se.y)&&(Bt=Math.abs(Ke-Se.y)/(Fe-Se.x),Jl(Se,ae)&&(Bt<gr||Bt===gr&&(Se.x>ve.x||Se.x===ve.x&&Ah(ve,Se)))&&(ve=Se,gr=Bt)),Se=Se.next;while(Se!==Zt);return ve}(M,O)){var Y=Yu(O,M);tl(O,O.next),tl(Y,Y.next)}}function Ah(M,O){return $i(M.prev,M,O.prev)<0&&$i(O.next,M,M.next)<0}function ou(M,O,Y,ae,he){return(M=1431655765&((M=858993459&((M=252645135&((M=16711935&((M=32767*(M-Y)*he)|M<<8))|M<<4))|M<<2))|M<<1))|(O=1431655765&((O=858993459&((O=252645135&((O=16711935&((O=32767*(O-ae)*he)|O<<8))|O<<4))|O<<2))|O<<1))<<1}function Sh(M){var O=M,Y=M;do(O.x<Y.x||O.x===Y.x&&O.y<Y.y)&&(Y=O),O=O.next;while(O!==M);return Y}function wl(M,O,Y,ae,he,ve,Se,Fe){return(he-Se)*(O-Fe)-(M-Se)*(ve-Fe)>=0&&(M-Se)*(ae-Fe)-(Y-Se)*(O-Fe)>=0&&(Y-Se)*(ve-Fe)-(he-Se)*(ae-Fe)>=0}function Eh(M,O){return M.next.i!==O.i&&M.prev.i!==O.i&&!function(Y,ae){var he=Y;do{if(he.i!==Y.i&&he.next.i!==Y.i&&he.i!==ae.i&&he.next.i!==ae.i&&Gu(he,he.next,Y,ae))return!0;he=he.next}while(he!==Y);return!1}(M,O)&&(Jl(M,O)&&Jl(O,M)&&function(Y,ae){var he=Y,ve=!1,Se=(Y.x+ae.x)/2,Fe=(Y.y+ae.y)/2;do he.y>Fe!=he.next.y>Fe&&he.next.y!==he.y&&Se<(he.next.x-he.x)*(Fe-he.y)/(he.next.y-he.y)+he.x&&(ve=!ve),he=he.next;while(he!==Y);return ve}(M,O)&&($i(M.prev,M,O.prev)||$i(M,O.prev,O))||vc(M,O)&&$i(M.prev,M,M.next)>0&&$i(O.prev,O,O.next)>0)}function $i(M,O,Y){return(O.y-M.y)*(Y.x-O.x)-(O.x-M.x)*(Y.y-O.y)}function vc(M,O){return M.x===O.x&&M.y===O.y}function Gu(M,O,Y,ae){var he=xc($i(M,O,Y)),ve=xc($i(M,O,ae)),Se=xc($i(Y,ae,M)),Fe=xc($i(Y,ae,O));return he!==ve&&Se!==Fe||!(he!==0||!yc(M,Y,O))||!(ve!==0||!yc(M,ae,O))||!(Se!==0||!yc(Y,M,ae))||!(Fe!==0||!yc(Y,O,ae))}function yc(M,O,Y){return O.x<=Math.max(M.x,Y.x)&&O.x>=Math.min(M.x,Y.x)&&O.y<=Math.max(M.y,Y.y)&&O.y>=Math.min(M.y,Y.y)}function xc(M){return M>0?1:M<0?-1:0}function Jl(M,O){return $i(M.prev,M,M.next)<0?$i(M,O,M.next)>=0&&$i(M,M.prev,O)>=0:$i(M,O,M.prev)<0||$i(M,M.next,O)<0}function Yu(M,O){var Y=new su(M.i,M.x,M.y),ae=new su(O.i,O.x,O.y),he=M.next,ve=O.prev;return M.next=O,O.prev=M,Y.next=he,he.prev=Y,ae.next=Y,Y.prev=ae,ve.next=ae,ae.prev=ve,ae}function Wu(M,O,Y,ae){var he=new su(M,O,Y);return ae?(he.next=ae.next,he.prev=ae,ae.next.prev=he,ae.next=he):(he.prev=he,he.next=he),he}function Kl(M){M.next.prev=M.prev,M.prev.next=M.next,M.prevZ&&(M.prevZ.nextZ=M.nextZ),M.nextZ&&(M.nextZ.prevZ=M.prevZ)}function su(M,O,Y){this.i=M,this.x=O,this.y=Y,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lu(M,O,Y,ae){for(var he=0,ve=O,Se=Y-ae;ve<Y;ve+=ae)he+=(M[Se]-M[ve])*(M[ve+1]+M[Se+1]),Se=ve;return he}function Lh(M,O,Y,ae,he){(function ve(Se,Fe,Ke,ct,gt){for(;ct>Ke;){if(ct-Ke>600){var Bt=ct-Ke+1,Zt=Fe-Ke+1,qt=Math.log(Bt),rr=.5*Math.exp(2*qt/3),gr=.5*Math.sqrt(qt*rr*(Bt-rr)/Bt)*(Zt-Bt/2<0?-1:1),Er=Math.max(Ke,Math.floor(Fe-Zt*rr/Bt+gr)),Sr=Math.min(ct,Math.floor(Fe+(Bt-Zt)*rr/Bt+gr));ve(Se,Fe,Er,Sr,gt)}var Rr=Se[Fe],Br=Ke,Hr=ct;for(Ql(Se,Ke,Fe),gt(Se[ct],Rr)>0&&Ql(Se,Ke,ct);Br<Hr;){for(Ql(Se,Br,Hr),Br++,Hr--;gt(Se[Br],Rr)<0;)Br++;for(;gt(Se[Hr],Rr)>0;)Hr--}gt(Se[Ke],Rr)===0?Ql(Se,Ke,Hr):(Hr++,Ql(Se,Hr,ct)),Hr<=Fe&&(Ke=Hr+1),Fe<=Hr&&(ct=Hr-1)}})(M,O,Y,ae||M.length-1,he||Ch)}function Ql(M,O,Y){var ae=M[O];M[O]=M[Y],M[Y]=ae}function Ch(M,O){return M<O?-1:M>O?1:0}function cu(M,O){var Y=M.length;if(Y<=1)return[M];for(var ae,he,ve=[],Se=0;Se<Y;Se++){var Fe=P(M[Se]);Fe!==0&&(M[Se].area=Math.abs(Fe),he===void 0&&(he=Fe<0),he===Fe<0?(ae&&ve.push(ae),ae=[M[Se]]):ae.push(M[Se]))}if(ae&&ve.push(ae),O>1)for(var Ke=0;Ke<ve.length;Ke++)ve[Ke].length<=O||(Lh(ve[Ke],O,1,ve[Ke].length-1,Ph),ve[Ke]=ve[Ke].slice(0,O));return ve}function Ph(M,O){return O.area-M.area}function uu(M,O,Y){for(var ae=Y.patternDependencies,he=!1,ve=0,Se=O;ve<Se.length;ve+=1){var Fe=Se[ve].paint.get(M+"-pattern");Fe.isConstant()||(he=!0);var Ke=Fe.constantOr(null);Ke&&(he=!0,ae[Ke.to]=!0,ae[Ke.from]=!0)}return he}function fu(M,O,Y,ae,he){for(var ve=he.patternDependencies,Se=0,Fe=O;Se<Fe.length;Se+=1){var Ke=Fe[Se],ct=Ke.paint.get(M+"-pattern").value;if(ct.kind!=="constant"){var gt=ct.evaluate({zoom:ae-1},Y,{},he.availableImages),Bt=ct.evaluate({zoom:ae},Y,{},he.availableImages),Zt=ct.evaluate({zoom:ae+1},Y,{},he.availableImages);gt=gt&&gt.name?gt.name:gt,Bt=Bt&&Bt.name?Bt.name:Bt,Zt=Zt&&Zt.name?Zt.name:Zt,ve[gt]=!0,ve[Bt]=!0,ve[Zt]=!0,Y.patterns[Ke.id]={min:gt,mid:Bt,max:Zt}}}return Y}mc.deviation=function(M,O,Y,ae){var he=O&&O.length,ve=he?O[0]*Y:M.length,Se=Math.abs(lu(M,0,ve,Y));if(he)for(var Fe=0,Ke=O.length;Fe<Ke;Fe++){var ct=O[Fe]*Y,gt=Fe<Ke-1?O[Fe+1]*Y:M.length;Se-=Math.abs(lu(M,ct,gt,Y))}var Bt=0;for(Fe=0;Fe<ae.length;Fe+=3){var Zt=ae[Fe]*Y,qt=ae[Fe+1]*Y,rr=ae[Fe+2]*Y;Bt+=Math.abs((M[Zt]-M[rr])*(M[qt+1]-M[Zt+1])-(M[Zt]-M[qt])*(M[rr+1]-M[Zt+1]))}return Se===0&&Bt===0?0:Math.abs((Bt-Se)/Se)},mc.flatten=function(M){for(var O=M[0][0].length,Y={vertices:[],holes:[],dimensions:O},ae=0,he=0;he<M.length;he++){for(var ve=0;ve<M[he].length;ve++)for(var Se=0;Se<O;Se++)Y.vertices.push(M[he][ve][Se]);he>0&&(ae+=M[he-1].length,Y.holes.push(ae))}return Y},iu.default=xh;var Es=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(O){return O.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new as,this.indexArray=new Qi,this.indexArray2=new B,this.programConfigurations=new ii(Hu,M.layers,M.zoom),this.segments=new Ft,this.segments2=new Ft,this.stateDependentLayerIds=this.layers.filter(function(O){return O.isStateDependent()}).map(function(O){return O.id})};Es.prototype.populate=function(M,O,Y){this.hasPattern=uu("fill",this.layers,O);for(var ae=this.layers[0].layout.get("fill-sort-key"),he=[],ve=0,Se=M;ve<Se.length;ve+=1){var Fe=Se[ve],Ke=Fe.feature,ct=Fe.id,gt=Fe.index,Bt=Fe.sourceLayerIndex,Zt=this.layers[0]._featureFilter.needGeometry,qt={type:Ke.type,id:ct,properties:Ke.properties,geometry:Zt?ui(Ke):[]};if(this.layers[0]._featureFilter.filter(new Ka(this.zoom),qt,Y)){Zt||(qt.geometry=ui(Ke));var rr=ae?ae.evaluate(qt,{},Y,O.availableImages):void 0,gr={id:ct,properties:Ke.properties,type:Ke.type,sourceLayerIndex:Bt,index:gt,geometry:qt.geometry,patterns:{},sortKey:rr};he.push(gr)}}ae&&he.sort(function(Hn,ta){return Hn.sortKey-ta.sortKey});for(var Er=0,Sr=he;Er<Sr.length;Er+=1){var Rr=Sr[Er],Br=Rr,Hr=Br.geometry,fn=Br.index,xn=Br.sourceLayerIndex;if(this.hasPattern){var Fn=fu("fill",this.layers,Rr,this.zoom,O);this.patternFeatures.push(Fn)}else this.addFeature(Rr,Hr,fn,Y,{});var Rn=M[fn].feature;O.featureIndex.insert(Rn,Hr,fn,xn,this.index)}},Es.prototype.update=function(M,O,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,O,this.stateDependentLayers,Y)},Es.prototype.addFeatures=function(M,O,Y){for(var ae=0,he=this.patternFeatures;ae<he.length;ae+=1){var ve=he[ae];this.addFeature(ve,ve.geometry,ve.index,O,Y)}},Es.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Es.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Es.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,Hu),this.indexBuffer=M.createIndexBuffer(this.indexArray),this.indexBuffer2=M.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(M),this.uploaded=!0},Es.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Es.prototype.addFeature=function(M,O,Y,ae,he){for(var ve=0,Se=cu(O,500);ve<Se.length;ve+=1){for(var Fe=Se[ve],Ke=0,ct=0,gt=Fe;ct<gt.length;ct+=1)Ke+=gt[ct].length;for(var Bt=this.segments.prepareSegment(Ke,this.layoutVertexArray,this.indexArray),Zt=Bt.vertexLength,qt=[],rr=[],gr=0,Er=Fe;gr<Er.length;gr+=1){var Sr=Er[gr];if(Sr.length!==0){Sr!==Fe[0]&&rr.push(qt.length/2);var Rr=this.segments2.prepareSegment(Sr.length,this.layoutVertexArray,this.indexArray2),Br=Rr.vertexLength;this.layoutVertexArray.emplaceBack(Sr[0].x,Sr[0].y),this.indexArray2.emplaceBack(Br+Sr.length-1,Br),qt.push(Sr[0].x),qt.push(Sr[0].y);for(var Hr=1;Hr<Sr.length;Hr++)this.layoutVertexArray.emplaceBack(Sr[Hr].x,Sr[Hr].y),this.indexArray2.emplaceBack(Br+Hr-1,Br+Hr),qt.push(Sr[Hr].x),qt.push(Sr[Hr].y);Rr.vertexLength+=Sr.length,Rr.primitiveLength+=Sr.length}}for(var fn=iu(qt,rr),xn=0;xn<fn.length;xn+=3)this.indexArray.emplaceBack(Zt+fn[xn],Zt+fn[xn+1],Zt+fn[xn+2]);Bt.vertexLength+=Ke,Bt.primitiveLength+=fn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Y,he,ae)},Zr("FillBucket",Es,{omit:["layers","patternFeatures"]});var Ih=new Ao({"fill-sort-key":new ga(Ce.layout_fill["fill-sort-key"])}),Oh={paint:new Ao({"fill-antialias":new ia(Ce.paint_fill["fill-antialias"]),"fill-opacity":new ga(Ce.paint_fill["fill-opacity"]),"fill-color":new ga(Ce.paint_fill["fill-color"]),"fill-outline-color":new ga(Ce.paint_fill["fill-outline-color"]),"fill-translate":new ia(Ce.paint_fill["fill-translate"]),"fill-translate-anchor":new ia(Ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new Fs(Ce.paint_fill["fill-pattern"])}),layout:Ih},zh=function(M){function O(Y){M.call(this,Y,Oh)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.recalculate=function(Y,ae){M.prototype.recalculate.call(this,Y,ae);var he=this.paint._values["fill-outline-color"];he.value.kind==="constant"&&he.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},O.prototype.createBucket=function(Y){return new Es(Y)},O.prototype.queryRadius=function(){return So(this.paint.get("fill-translate"))},O.prototype.queryIntersectsFeature=function(Y,ae,he,ve,Se,Fe,Ke){return Ns(Eo(Y,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),Fe.angle,Ke),ve)},O.prototype.isTileClipped=function(){return!0},O}(Uo),Zu=Qa([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,Xu=Tl;function Tl(M,O,Y,ae,he){this.properties={},this.extent=Y,this.type=0,this._pbf=M,this._geometry=-1,this._keys=ae,this._values=he,M.readFields(Dh,this,O)}function Dh(M,O,Y){M==1?O.id=Y.readVarint():M==2?function(ae,he){for(var ve=ae.readVarint()+ae.pos;ae.pos<ve;){var Se=he._keys[ae.readVarint()],Fe=he._values[ae.readVarint()];he.properties[Se]=Fe}}(Y,O):M==3?O.type=Y.readVarint():M==4&&(O._geometry=Y.pos)}function Rh(M){for(var O,Y,ae=0,he=0,ve=M.length,Se=ve-1;he<ve;Se=he++)O=M[he],ae+=((Y=M[Se]).x-O.x)*(O.y+Y.y);return ae}Tl.types=["Unknown","Point","LineString","Polygon"],Tl.prototype.loadGeometry=function(){var M=this._pbf;M.pos=this._geometry;for(var O,Y=M.readVarint()+M.pos,ae=1,he=0,ve=0,Se=0,Fe=[];M.pos<Y;){if(he<=0){var Ke=M.readVarint();ae=7&Ke,he=Ke>>3}if(he--,ae===1||ae===2)ve+=M.readSVarint(),Se+=M.readSVarint(),ae===1&&(O&&Fe.push(O),O=[]),O.push(new t(ve,Se));else{if(ae!==7)throw new Error("unknown command "+ae);O&&O.push(O[0].clone())}}return O&&Fe.push(O),Fe},Tl.prototype.bbox=function(){var M=this._pbf;M.pos=this._geometry;for(var O=M.readVarint()+M.pos,Y=1,ae=0,he=0,ve=0,Se=1/0,Fe=-1/0,Ke=1/0,ct=-1/0;M.pos<O;){if(ae<=0){var gt=M.readVarint();Y=7&gt,ae=gt>>3}if(ae--,Y===1||Y===2)(he+=M.readSVarint())<Se&&(Se=he),he>Fe&&(Fe=he),(ve+=M.readSVarint())<Ke&&(Ke=ve),ve>ct&&(ct=ve);else if(Y!==7)throw new Error("unknown command "+Y)}return[Se,Ke,Fe,ct]},Tl.prototype.toGeoJSON=function(M,O,Y){var ae,he,ve=this.extent*Math.pow(2,Y),Se=this.extent*M,Fe=this.extent*O,Ke=this.loadGeometry(),ct=Tl.types[this.type];function gt(qt){for(var rr=0;rr<qt.length;rr++){var gr=qt[rr],Er=180-360*(gr.y+Fe)/ve;qt[rr]=[360*(gr.x+Se)/ve-180,360/Math.PI*Math.atan(Math.exp(Er*Math.PI/180))-90]}}switch(this.type){case 1:var Bt=[];for(ae=0;ae<Ke.length;ae++)Bt[ae]=Ke[ae][0];gt(Ke=Bt);break;case 2:for(ae=0;ae<Ke.length;ae++)gt(Ke[ae]);break;case 3:for(Ke=function(qt){var rr=qt.length;if(rr<=1)return[qt];for(var gr,Er,Sr=[],Rr=0;Rr<rr;Rr++){var Br=Rh(qt[Rr]);Br!==0&&(Er===void 0&&(Er=Br<0),Er===Br<0?(gr&&Sr.push(gr),gr=[qt[Rr]]):gr.push(qt[Rr]))}return gr&&Sr.push(gr),Sr}(Ke),ae=0;ae<Ke.length;ae++)for(he=0;he<Ke[ae].length;he++)gt(Ke[ae][he])}Ke.length===1?Ke=Ke[0]:ct="Multi"+ct;var Zt={type:"Feature",geometry:{type:ct,coordinates:Ke},properties:this.properties};return"id"in this&&(Zt.id=this.id),Zt};var Ju=Ku;function Ku(M,O){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=M,this._keys=[],this._values=[],this._features=[],M.readFields(Fh,this,O),this.length=this._features.length}function Fh(M,O,Y){M===15?O.version=Y.readVarint():M===1?O.name=Y.readString():M===5?O.extent=Y.readVarint():M===2?O._features.push(Y.pos):M===3?O._keys.push(Y.readString()):M===4&&O._values.push(function(ae){for(var he=null,ve=ae.readVarint()+ae.pos;ae.pos<ve;){var Se=ae.readVarint()>>3;he=Se===1?ae.readString():Se===2?ae.readFloat():Se===3?ae.readDouble():Se===4?ae.readVarint64():Se===5?ae.readVarint():Se===6?ae.readSVarint():Se===7?ae.readBoolean():null}return he}(Y))}function Bh(M,O,Y){if(M===3){var ae=new Ju(Y,Y.readVarint()+Y.pos);ae.length&&(O[ae.name]=ae)}}Ku.prototype.feature=function(M){if(M<0||M>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[M];var O=this._pbf.readVarint()+this._pbf.pos;return new Xu(this._pbf,O,this.extent,this._keys,this._values)};var kl={VectorTile:function(M,O){this.layers=M.readFields(Bh,{},O)},VectorTileFeature:Xu,VectorTileLayer:Ju},Nh=kl.VectorTileFeature.types,hu=Math.pow(2,13);function $l(M,O,Y,ae,he,ve,Se,Fe){M.emplaceBack(O,Y,2*Math.floor(ae*hu)+Se,he*hu*2,ve*hu*2,Math.round(Fe))}var Ls=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(O){return O.id}),this.index=M.index,this.hasPattern=!1,this.layoutVertexArray=new hs,this.indexArray=new Qi,this.programConfigurations=new ii(Zu,M.layers,M.zoom),this.segments=new Ft,this.stateDependentLayerIds=this.layers.filter(function(O){return O.isStateDependent()}).map(function(O){return O.id})};function jh(M,O){return M.x===O.x&&(M.x<0||M.x>8192)||M.y===O.y&&(M.y<0||M.y>8192)}function Uh(M){return M.every(function(O){return O.x<0})||M.every(function(O){return O.x>8192})||M.every(function(O){return O.y<0})||M.every(function(O){return O.y>8192})}Ls.prototype.populate=function(M,O,Y){this.features=[],this.hasPattern=uu("fill-extrusion",this.layers,O);for(var ae=0,he=M;ae<he.length;ae+=1){var ve=he[ae],Se=ve.feature,Fe=ve.id,Ke=ve.index,ct=ve.sourceLayerIndex,gt=this.layers[0]._featureFilter.needGeometry,Bt={type:Se.type,id:Fe,properties:Se.properties,geometry:gt?ui(Se):[]};if(this.layers[0]._featureFilter.filter(new Ka(this.zoom),Bt,Y)){var Zt={id:Fe,sourceLayerIndex:ct,index:Ke,geometry:gt?Bt.geometry:ui(Se),properties:Se.properties,type:Se.type,patterns:{}};Se.id!==void 0&&(Zt.id=Se.id),this.hasPattern?this.features.push(fu("fill-extrusion",this.layers,Zt,this.zoom,O)):this.addFeature(Zt,Zt.geometry,Ke,Y,{}),O.featureIndex.insert(Se,Zt.geometry,Ke,ct,this.index,!0)}}},Ls.prototype.addFeatures=function(M,O,Y){for(var ae=0,he=this.features;ae<he.length;ae+=1){var ve=he[ae],Se=ve.geometry;this.addFeature(ve,Se,ve.index,O,Y)}},Ls.prototype.update=function(M,O,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,O,this.stateDependentLayers,Y)},Ls.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ls.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ls.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,Zu),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Ls.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ls.prototype.addFeature=function(M,O,Y,ae,he){for(var ve=0,Se=cu(O,500);ve<Se.length;ve+=1){for(var Fe=Se[ve],Ke=0,ct=0,gt=Fe;ct<gt.length;ct+=1)Ke+=gt[ct].length;for(var Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Zt=0,qt=Fe;Zt<qt.length;Zt+=1){var rr=qt[Zt];if(rr.length!==0&&!Uh(rr))for(var gr=0,Er=0;Er<rr.length;Er++){var Sr=rr[Er];if(Er>=1){var Rr=rr[Er-1];if(!jh(Sr,Rr)){Bt.vertexLength+4>Ft.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Br=Sr.sub(Rr)._perp()._unit(),Hr=Rr.dist(Sr);gr+Hr>32768&&(gr=0),$l(this.layoutVertexArray,Sr.x,Sr.y,Br.x,Br.y,0,0,gr),$l(this.layoutVertexArray,Sr.x,Sr.y,Br.x,Br.y,0,1,gr),gr+=Hr,$l(this.layoutVertexArray,Rr.x,Rr.y,Br.x,Br.y,0,0,gr),$l(this.layoutVertexArray,Rr.x,Rr.y,Br.x,Br.y,0,1,gr);var fn=Bt.vertexLength;this.indexArray.emplaceBack(fn,fn+2,fn+1),this.indexArray.emplaceBack(fn+1,fn+2,fn+3),Bt.vertexLength+=4,Bt.primitiveLength+=2}}}}if(Bt.vertexLength+Ke>Ft.MAX_VERTEX_ARRAY_LENGTH&&(Bt=this.segments.prepareSegment(Ke,this.layoutVertexArray,this.indexArray)),Nh[M.type]==="Polygon"){for(var xn=[],Fn=[],Rn=Bt.vertexLength,Hn=0,ta=Fe;Hn<ta.length;Hn+=1){var ra=ta[Hn];if(ra.length!==0){ra!==Fe[0]&&Fn.push(xn.length/2);for(var Wn=0;Wn<ra.length;Wn++){var ca=ra[Wn];$l(this.layoutVertexArray,ca.x,ca.y,0,0,1,1,0),xn.push(ca.x),xn.push(ca.y)}}}for(var sa=iu(xn,Fn),na=0;na<sa.length;na+=3)this.indexArray.emplaceBack(Rn+sa[na],Rn+sa[na+2],Rn+sa[na+1]);Bt.primitiveLength+=sa.length/3,Bt.vertexLength+=Ke}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,M,Y,he,ae)},Zr("FillExtrusionBucket",Ls,{omit:["layers","features"]});var Vh={paint:new Ao({"fill-extrusion-opacity":new ia(Ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ga(Ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ia(Ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ia(Ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Fs(Ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ga(Ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ga(Ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ia(Ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Hh=function(M){function O(Y){M.call(this,Y,Vh)}return M&&(O.__proto__=M),O.prototype=Object.create(M&&M.prototype),O.prototype.constructor=O,O.prototype.createBucket=function(Y){return new Ls(Y)},O.prototype.queryRadius=function(){return So(this.paint.get("fill-extrusion-translate"))},O.prototype.is3D=function(){return!0},O.prototype.queryIntersectsFeature=function(Y,ae,he,ve,Se,Fe,Ke,ct){var gt=Eo(Y,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),Fe.angle,Ke),Bt=this.paint.get("fill-extrusion-height").evaluate(ae,he),Zt=this.paint.get("fill-extrusion-base").evaluate(ae,he),qt=function(gr,Er,Sr,Rr){for(var Br=[],Hr=0,fn=gr;Hr<fn.length;Hr+=1){var xn=fn[Hr],Fn=[xn.x,xn.y,Rr,1];_l(Fn,Fn,Er),Br.push(new t(Fn[0]/Fn[3],Fn[1]/Fn[3]))}return Br}(gt,ct,0,0),rr=function(gr,Er,Sr,Rr){for(var Br=[],Hr=[],fn=Rr[8]*Er,xn=Rr[9]*Er,Fn=Rr[10]*Er,Rn=Rr[11]*Er,Hn=Rr[8]*Sr,ta=Rr[9]*Sr,ra=Rr[10]*Sr,Wn=Rr[11]*Sr,ca=0,sa=gr;ca<sa.length;ca+=1){for(var na=sa[ca],Ga=[],Ra=[],Xa=0,ya=na;Xa<ya.length;Xa+=1){var Na=ya[Xa],hi=Na.x,oi=Na.y,wi=Rr[0]*hi+Rr[4]*oi+Rr[12],si=Rr[1]*hi+Rr[5]*oi+Rr[13],ro=Rr[2]*hi+Rr[6]*oi+Rr[14],Ti=Rr[3]*hi+Rr[7]*oi+Rr[15],Lo=ro+Fn,vo=Ti+Rn,bo=wi+Hn,Vo=si+ta,Oo=ro+ra,no=Ti+Wn,_o=new t((wi+fn)/vo,(si+xn)/vo);_o.z=Lo/vo,Ga.push(_o);var qi=new t(bo/no,Vo/no);qi.z=Oo/no,Ra.push(qi)}Br.push(Ga),Hr.push(Ra)}return[Br,Hr]}(ve,Zt,Bt,ct);return function(gr,Er,Sr){var Rr=1/0;Ns(Sr,Er)&&(Rr=Qu(Sr,Er[0]));for(var Br=0;Br<Er.length;Br++)for(var Hr=Er[Br],fn=gr[Br],xn=0;xn<Hr.length-1;xn++){var Fn=Hr[xn],Rn=Hr[xn+1],Hn=fn[xn],ta=fn[xn+1],ra=[Fn,Rn,ta,Hn,Fn];Po(Sr,ra)&&(Rr=Math.min(Rr,Qu(Sr,ra)))}return Rr!==1/0&&Rr}(rr[0],rr[1],qt)},O}(Uo);function ec(M,O){return M.x*O.x+M.y*O.y}function Qu(M,O){if(M.length===1){for(var Y,ae=0,he=O[ae++];!Y||he.equals(Y);)if(!(Y=O[ae++]))return 1/0;for(;ae<O.length;ae++){var ve=O[ae],Se=M[0],Fe=Y.sub(he),Ke=ve.sub(he),ct=Se.sub(he),gt=ec(Fe,Fe),Bt=ec(Fe,Ke),Zt=ec(Ke,Ke),qt=ec(ct,Fe),rr=ec(ct,Ke),gr=gt*Zt-Bt*Bt,Er=(Zt*qt-Bt*rr)/gr,Sr=(gt*rr-Bt*qt)/gr,Rr=1-Er-Sr,Br=he.z*Rr+Y.z*Er+ve.z*Sr;if(isFinite(Br))return Br}return 1/0}for(var Hr=1/0,fn=0,xn=O;fn<xn.length;fn+=1){var Fn=xn[fn];Hr=Math.min(Hr,Fn.z)}return Hr}var $u=Qa([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,qh=kl.VectorTileFeature.types,Gh=Math.cos(Math.PI/180*37.5),ef=Math.pow(2,14)/.5,Zo=function(M){this.zoom=M.zoom,this.overscaling=M.overscaling,this.layers=M.layers,this.layerIds=this.layers.map(function(O){return O.id}),this.index=M.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ms,this.indexArray=new Qi,this.programConfigurations=new ii($u,M.layers,M.zoom),this.segments=new Ft,this.stateDependentLayerIds=this.layers.filter(function(O){return O.isStateDependent()}).map(function(O){return O.id})};Zo.prototype.populate=function(M,O,Y){this.hasPattern=uu("line",this.layers,O);for(var ae=this.layers[0].layout.get("line-sort-key"),he=[],ve=0,Se=M;ve<Se.length;ve+=1){var Fe=Se[ve],Ke=Fe.feature,ct=Fe.id,gt=Fe.index,Bt=Fe.sourceLayerIndex,Zt=this.layers[0]._featureFilter.needGeometry,qt={type:Ke.type,id:ct,properties:Ke.properties,geometry:Zt?ui(Ke):[]};if(this.layers[0]._featureFilter.filter(new Ka(this.zoom),qt,Y)){Zt||(qt.geometry=ui(Ke));var rr=ae?ae.evaluate(qt,{},Y):void 0,gr={id:ct,properties:Ke.properties,type:Ke.type,sourceLayerIndex:Bt,index:gt,geometry:qt.geometry,patterns:{},sortKey:rr};he.push(gr)}}ae&&he.sort(function(Hn,ta){return Hn.sortKey-ta.sortKey});for(var Er=0,Sr=he;Er<Sr.length;Er+=1){var Rr=Sr[Er],Br=Rr,Hr=Br.geometry,fn=Br.index,xn=Br.sourceLayerIndex;if(this.hasPattern){var Fn=fu("line",this.layers,Rr,this.zoom,O);this.patternFeatures.push(Fn)}else this.addFeature(Rr,Hr,fn,Y,{});var Rn=M[fn].feature;O.featureIndex.insert(Rn,Hr,fn,xn,this.index)}},Zo.prototype.update=function(M,O,Y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(M,O,this.stateDependentLayers,Y)},Zo.prototype.addFeatures=function(M,O,Y){for(var ae=0,he=this.patternFeatures;ae<he.length;ae+=1){var ve=he[ae];this.addFeature(ve,ve.geometry,ve.index,O,Y)}},Zo.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Zo.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Zo.prototype.upload=function(M){this.uploaded||(this.layoutVertexBuffer=M.createVertexBuffer(this.layoutVertexArray,$u),this.indexBuffer=M.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(M),this.uploaded=!0},Zo.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Zo.prototype.addFeature=function(M,O,Y,ae,he){for(var ve=this.layers[0].layout,Se=ve.get("line-join").evaluate(M,{}),Fe=ve.get("line-cap"),Ke=ve.get("line-miter-limit"),ct=ve.get("